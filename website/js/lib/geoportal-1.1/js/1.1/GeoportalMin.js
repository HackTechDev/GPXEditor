/*
  Geoportal.js -- IGN France Geoportal Map Viewer Library

  Copyright 2007-2010 IGN France, released under the BSD license.
  Please see http://api.ign.fr/geoportail/api/doc/webmaster/license.html
  Please see http://api.ign.fr/geoportail/api/doc/fr/webmaster/licence.html
  for the full text of the license.

  The full source of Geoportal API can be downloaded there :
  http://api.ign.fr/geoportail/api/doc/fr/developpeur/download.html
 */
/*--------------------------------------------------------------------------*/
/*
  Contains rewritting of http://hexmen.com/blog/2007/03/printf-sprintf/

  This code is unrestricted: you are free to use it however you like.
 */
/*--------------------------------------------------------------------------*/
/*
  Contains portions of Sarissa -- http://dev.abiss.gr/sarissa
     
  Sarissa is an ECMAScript library acting as a cross-browser wrapper for native XML APIs.
  The library supports Gecko based browsers like Mozilla and Firefox,
  Internet Explorer (5.5+ with MSXML3.0+), Konqueror, Safari and Opera
  @version 0.9.9.4
  @author: Copyright 2004-2008 Emmanouil Batsis, mailto: mbatsis at users full stop sourceforge full stop net

  Sarissa is free software distributed under Apache Software License 2.0 or higher (see <a href="asl.txt">asl.txt</a>).

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY 
  KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE 
  WARRANTIES OF MERCHANTABILITY,FITNESS FOR A PARTICULAR PURPOSE 
  AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR 
  COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR 
  OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE 
  SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
  */
/*--------------------------------------------------------------------------*/
/*
  proj4js.js -- Javascript reprojection library.

  Authors:      Mike Adair madairATdmsolutions.ca
                Richard Greenwood richATgreenwoodmap.com
                Didier Richard didier.richardATign.fr
                Stephen Irons
  License:      LGPL as per: http://www.gnu.org/copyleft/lesser.html
                Note: This program is an almost direct port of the C library
                Proj4.
*/
/*--------------------------------------------------------------------------*/
/*
  Contains OpenLayers.js -- OpenLayers Map Viewer Library

  Copyright 2005-2007 MetaCarta, Inc., released under the BSD license.
  Please see http://svn.openlayers.org/trunk/openlayers/release-license.txt
  for the full text of the license.

  Includes compressed code under the following licenses:

  (For uncompressed versions of the code used please see the
  OpenLayers SVN repository: <http://openlayers.org/>)
*/
/*--------------------------------------------------------------------------*/
/* Contains portions of Prototype.js:
 *
 * Prototype JavaScript framework, version 1.4.0
 *  (c) 2005 Sam Stephenson <sam@conio.net>
 *
 *  Prototype is freely distributable under the terms of an MIT-style license.
 *  For details, see the Prototype web site: http://prototype.conio.net/
 *
/*--------------------------------------------------------------------------*/
/**  
*  
*  Contains portions of Rico <http://openrico.org/>
* 
*  Copyright 2005 Sabre Airline Solutions  
*  
*  Licensed under the Apache License, Version 2.0 (the "License"); you
*  may not use this file except in compliance with the License. You
*  may obtain a copy of the License at
*  
*         http://www.apache.org/licenses/LICENSE-2.0  
*  
*  Unless required by applicable law or agreed to in writing, software
*  distributed under the License is distributed on an "AS IS" BASIS,
*  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or
*  implied. See the License for the specific language governing
*  permissions and limitations under the License. 
*
**/
/*--------------------------------------------------------------------------*/
/*
    Contains XMLHttpRequest of <http://code.google.com/p/xmlhttprequest>

Onderwerp: Re: XMLHttpRequest.js license
Van:       "Sergey Ilinsky" <sergey@ilinsky.com>
Datum:     Wo, 21 april, 2010 10:45 am
Aan:       bartvde@osgis.nl
--------------------------------------------------------------------------
I authorize OpenLayers to get the latest version of XMLHttpRequest.js
library and use it under Apache license (Just replace the license note in
the file). Is the written confirmation sufficient?

Sergey/

        http://www.apache.org/licenses/LICENSE-2.0
 */
/*--------------------------------------------------------------------------*/
Proj4js={defaultDatum:"WGS84",transform:function(d,b,a){if(!d.readyToUse||!b.readyToUse){this.reportError("Proj4js initialization for "+d.srsCode+" not yet complete");return a}if((d.srsProjNumber=="900913"&&b.datumCode!="WGS84")||(b.srsProjNumber=="900913"&&d.datumCode!="WGS84")){var c=Proj4js.WGS84;this.transform(d,c,a);d=c}if(d.projName=="longlat"){a.x*=Proj4js.common.D2R;a.y*=Proj4js.common.D2R}else{if(d.to_meter){a.x*=d.to_meter;a.y*=d.to_meter}d.inverse(a)}if(d.from_greenwich){a.x+=d.from_greenwich}a=this.datum_transform(d.datum,b.datum,a);if(b.from_greenwich){a.x-=b.from_greenwich}if(b.projName=="longlat"){a.x*=Proj4js.common.R2D;a.y*=Proj4js.common.R2D}else{b.forward(a);if(b.to_meter){a.x/=b.to_meter;a.y/=b.to_meter}}return a},datum_transform:function(c,b,a){if(c.compare_datums(b)){return a}if(c.datum_type==Proj4js.common.PJD_NODATUM||b.datum_type==Proj4js.common.PJD_NODATUM){return a}if(c.datum_type==Proj4js.common.PJD_GRIDSHIFT){alert("ERROR: Grid shift transformations are not implemented yet.")}if(b.datum_type==Proj4js.common.PJD_GRIDSHIFT){alert("ERROR: Grid shift transformations are not implemented yet.")}if(c.es!=b.es||c.a!=b.a||c.datum_type==Proj4js.common.PJD_3PARAM||c.datum_type==Proj4js.common.PJD_7PARAM||b.datum_type==Proj4js.common.PJD_3PARAM||b.datum_type==Proj4js.common.PJD_7PARAM){c.geodetic_to_geocentric(a);if(c.datum_type==Proj4js.common.PJD_3PARAM||c.datum_type==Proj4js.common.PJD_7PARAM){c.geocentric_to_wgs84(a)}if(b.datum_type==Proj4js.common.PJD_3PARAM||b.datum_type==Proj4js.common.PJD_7PARAM){b.geocentric_from_wgs84(a)}b.geocentric_to_geodetic(a)}if(b.datum_type==Proj4js.common.PJD_GRIDSHIFT){alert("ERROR: Grid shift transformations are not implemented yet.")}return a},reportError:function(a){},extend:function(a,d){a=a||{};if(d){for(var c in d){var b=d[c];if(b!==undefined){a[c]=b}}}return a},Class:function(){var b=function(){this.initialize.apply(this,arguments)};var a={};var d;for(var c=0;c<arguments.length;++c){if(typeof arguments[c]=="function"){d=arguments[c].prototype}else{d=arguments[c]}Proj4js.extend(a,d)}b.prototype=a;return b},bind:function(c,b){var a=Array.prototype.slice.apply(arguments,[2]);return function(){var d=a.concat(Array.prototype.slice.apply(arguments,[0]));return c.apply(b,d)}},scriptName:"proj4js.js",defsLookupService:"http://spatialreference.org/ref",libPath:null,getScriptLocation:function(){if(this.libPath){return this.libPath}var e=this.scriptName;var d=e.length;var a=document.getElementsByTagName("script");for(var c=0;c<a.length;c++){var f=a[c].getAttribute("src");if(f){var b=f.lastIndexOf(e);if((b>-1)&&(b+d==f.length)){this.libPath=f.slice(0,-d);break}}}return this.libPath||""},loadScript:function(d,e,c,a){var b=document.createElement("script");b.defer=false;b.type="text/javascript";b.id=d;b.src=d;b.onload=e;b.onerror=c;b.loadCheck=a;if(/MSIE/.test(navigator.userAgent)){b.onreadystatechange=this.checkReadyState}document.getElementsByTagName("head")[0].appendChild(b)},checkReadyState:function(){if(this.readyState=="loaded"){if(!this.loadCheck()){this.onerror()}else{this.onload()}}}};Proj4js.Proj=Proj4js.Class({readyToUse:false,title:null,projName:null,units:null,datum:null,x0:0,y0:0,initialize:function(c){this.srsCodeInput=c;if(c.indexOf("urn:")==0){var a=c.split(":");if((a[1]=="ogc"||a[1]=="x-ogc")&&(a[2]=="def")&&(a[3]=="crs")){c=a[4]+":"+a[a.length-1]}}else{if(c.indexOf("http://")==0){var b=c.split("#");if(b[0].match(/epsg.org/)){c="EPSG:"+b[1]}else{if(b[0].match(/RIG.xml/)){c="IGNF:"+b[1]}}}}this.srsCode=c.toUpperCase();if(this.srsCode.indexOf("EPSG")==0){this.srsCode=this.srsCode;this.srsAuth="epsg";this.srsProjNumber=this.srsCode.substring(5)}else{if(this.srsCode.indexOf("IGNF")==0){this.srsCode=this.srsCode;this.srsAuth="IGNF";this.srsProjNumber=this.srsCode.substring(5)}else{if(this.srsCode.indexOf("CRS")==0){this.srsCode=this.srsCode;this.srsAuth="CRS";this.srsProjNumber=this.srsCode.substring(4)}else{this.srsAuth="";this.srsProjNumber=this.srsCode}}}this.loadProjDefinition()},loadProjDefinition:function(){if(Proj4js.defs[this.srsCode]){this.defsLoaded();return}var a=Proj4js.getScriptLocation()+"defs/"+this.srsAuth.toUpperCase()+this.srsProjNumber+".js";Proj4js.loadScript(a,Proj4js.bind(this.defsLoaded,this),Proj4js.bind(this.loadFromService,this),Proj4js.bind(this.checkDefsLoaded,this))},loadFromService:function(){var a=Proj4js.defsLookupService+"/"+this.srsAuth+"/"+this.srsProjNumber+"/proj4js/";Proj4js.loadScript(a,Proj4js.bind(this.defsLoaded,this),Proj4js.bind(this.defsFailed,this),Proj4js.bind(this.checkDefsLoaded,this))},defsLoaded:function(){this.parseDefs();this.loadProjCode(this.projName)},checkDefsLoaded:function(){if(Proj4js.defs[this.srsCode]){return true}else{return false}},defsFailed:function(){Proj4js.reportError("failed to load projection definition for: "+this.srsCode);Proj4js.defs[this.srsCode]=Proj4js.defs.WGS84;this.defsLoaded()},loadProjCode:function(b){if(Proj4js.Proj[b]){this.initTransforms();return}var a=Proj4js.getScriptLocation()+"projCode/"+b+".js";Proj4js.loadScript(a,Proj4js.bind(this.loadProjCodeSuccess,this,b),Proj4js.bind(this.loadProjCodeFailure,this,b),Proj4js.bind(this.checkCodeLoaded,this,b))},loadProjCodeSuccess:function(a){if(Proj4js.Proj[a].dependsOn){this.loadProjCode(Proj4js.Proj[a].dependsOn)}else{this.initTransforms()}},loadProjCodeFailure:function(a){Proj4js.reportError("failed to find projection file for: "+a)},checkCodeLoaded:function(a){if(Proj4js.Proj[a]){return true}else{return false}},initTransforms:function(){Proj4js.extend(this,Proj4js.Proj[this.projName]);this.init();this.readyToUse=true},parseDefs:function(){this.defData=Proj4js.defs[this.srsCode];var d,b;if(!this.defData){return}var a=this.defData.split("+");for(var e=0;e<a.length;e++){var c=a[e].split("=");d=c[0].toLowerCase();b=c[1];switch(d.replace(/\s/gi,"")){case"":break;case"title":this.title=b;break;case"proj":this.projName=b.replace(/\s/gi,"");break;case"units":this.units=b.replace(/\s/gi,"");break;case"datum":this.datumCode=b.replace(/\s/gi,"");break;case"nadgrids":this.nagrids=b.replace(/\s/gi,"");break;case"ellps":this.ellps=b.replace(/\s/gi,"");break;case"a":this.a=parseFloat(b);break;case"b":this.b=parseFloat(b);break;case"rf":this.rf=parseFloat(b);break;case"lat_0":this.lat0=b*Proj4js.common.D2R;break;case"lat_1":this.lat1=b*Proj4js.common.D2R;break;case"lat_2":this.lat2=b*Proj4js.common.D2R;break;case"lat_ts":this.lat_ts=b*Proj4js.common.D2R;break;case"lon_0":this.long0=b*Proj4js.common.D2R;break;case"alpha":this.alpha=parseFloat(b)*Proj4js.common.D2R;break;case"lonc":this.longc=b*Proj4js.common.D2R;break;case"x_0":this.x0=parseFloat(b);break;case"y_0":this.y0=parseFloat(b);break;case"k_0":this.k0=parseFloat(b);break;case"k":this.k0=parseFloat(b);break;case"r_a":this.R_A=true;break;case"zone":this.zone=parseInt(b);break;case"south":this.utmSouth=true;break;case"towgs84":this.datum_params=b.split(",");break;case"to_meter":this.to_meter=parseFloat(b);break;case"from_greenwich":this.from_greenwich=b*Proj4js.common.D2R;break;case"pm":b=b.replace(/\s/gi,"");this.from_greenwich=Proj4js.PrimeMeridian[b]?Proj4js.PrimeMeridian[b]:parseFloat(b);this.from_greenwich*=Proj4js.common.D2R;break;case"no_defs":break;default:}}this.deriveConstants()},deriveConstants:function(){if(this.nagrids=="@null"){this.datumCode="none"}if(this.datumCode&&this.datumCode!="none"){var a=Proj4js.Datum[this.datumCode];if(a){this.datum_params=a.towgs84?a.towgs84.split(","):null;this.ellps=a.ellipse;this.datumName=a.datumName?a.datumName:this.datumCode}}if(!this.a){var b=Proj4js.Ellipsoid[this.ellps]?Proj4js.Ellipsoid[this.ellps]:Proj4js.Ellipsoid.WGS84;Proj4js.extend(this,b)}if(this.rf&&!this.b){this.b=(1-1/this.rf)*this.a}if(Math.abs(this.a-this.b)<Proj4js.common.EPSLN){this.sphere=true;this.b=this.a}this.a2=this.a*this.a;this.b2=this.b*this.b;this.es=(this.a2-this.b2)/this.a2;this.e=Math.sqrt(this.es);if(this.R_A){this.a*=1-this.es*(Proj4js.common.SIXTH+this.es*(Proj4js.common.RA4+this.es*Proj4js.common.RA6));this.a2=this.a*this.a;this.b2=this.b*this.b;this.es=0}this.ep2=(this.a2-this.b2)/this.b2;if(!this.k0){this.k0=1}this.datum=new Proj4js.datum(this)}});Proj4js.Proj.longlat={init:function(){},forward:function(a){return a},inverse:function(a){return a}};Proj4js.defs={WGS84:"+title=long/lat:WGS84 +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees","EPSG:4326":"+title=long/lat:WGS84 +proj=longlat +a=6378137.0 +b=6356752.31424518 +ellps=WGS84 +datum=WGS84 +units=degrees","EPSG:4269":"+title=long/lat:NAD83 +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees","EPSG:3785":"+title= Google Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"};Proj4js.defs.GOOGLE=Proj4js.defs["EPSG:3785"];Proj4js.defs["EPSG:900913"]=Proj4js.defs["EPSG:3785"];Proj4js.defs["EPSG:102113"]=Proj4js.defs["EPSG:3785"];Proj4js.common={PI:3.141592653589793,HALF_PI:1.5707963267948966,TWO_PI:6.283185307179586,FORTPI:0.7853981633974483,R2D:57.29577951308232,D2R:0.017453292519943295,SEC_TO_RAD:0.00000484813681109536,EPSLN:1e-10,MAX_ITER:20,COS_67P5:0.3826834323650898,AD_C:1.0026,PJD_UNKNOWN:0,PJD_3PARAM:1,PJD_7PARAM:2,PJD_GRIDSHIFT:3,PJD_WGS84:4,PJD_NODATUM:5,SRS_WGS84_SEMIMAJOR:6378137,SIXTH:0.16666666666666666,RA4:0.04722222222222222,RA6:0.022156084656084655,RV4:0.06944444444444445,RV6:0.04243827160493827,msfnz:function(c,b,d){var a=c*b;return d/(Math.sqrt(1-a*a))},tsfnz:function(e,d,c){var a=e*c;var b=0.5*e;a=Math.pow(((1-a)/(1+a)),b);return(Math.tan(0.5*(this.HALF_PI-d))/a)},phi2z:function(g,f){var e=0.5*g;var a,b;var d=this.HALF_PI-2*Math.atan(f);for(var c=0;c<=15;c++){a=g*Math.sin(d);b=this.HALF_PI-2*Math.atan(f*(Math.pow(((1-a)/(1+a)),e)))-d;d+=b;if(Math.abs(b)<=1e-10){return d}}alert("phi2z has NoConvergence");return(-9999)},qsfnz:function(c,b){var a;if(c>1e-7){a=c*b;return((1-c*c)*(b/(1-a*a)-(0.5/c)*Math.log((1-a)/(1+a))))}else{return(2*b)}},asinz:function(a){if(Math.abs(a)>1){a=(a>1)?1:-1}return Math.asin(a)},e0fn:function(a){return(1-0.25*a*(1+a/16*(3+1.25*a)))},e1fn:function(a){return(0.375*a*(1+0.25*a*(1+0.46875*a)))},e2fn:function(a){return(0.05859375*a*a*(1+0.75*a))},e3fn:function(a){return(a*a*a*(35/3072))},mlfn:function(e,d,c,b,a){return(e*a-d*Math.sin(2*a)+c*Math.sin(4*a)-b*Math.sin(6*a))},srat:function(a,b){return(Math.pow((1-a)/(1+a),b))},sign:function(a){if(a<0){return(-1)}else{return(1)}},adjust_lon:function(a){a=(Math.abs(a)<this.PI)?a:(a-(this.sign(a)*this.TWO_PI));return a},adjust_lat:function(a){a=(Math.abs(a)<this.HALF_PI)?a:(a-(this.sign(a)*this.PI));return a},latiso:function(d,c,b){if(Math.abs(c)>this.HALF_PI){return +Number.NaN}if(c==this.HALF_PI){return Number.POSITIVE_INFINITY}if(c==-1*this.HALF_PI){return -1*Number.POSITIVE_INFINITY}var a=d*b;return Math.log(Math.tan((this.HALF_PI+c)/2))+d*Math.log((1-a)/(1+a))/2},fL:function(b,a){return 2*Math.atan(b*Math.exp(a))-this.HALF_PI},invlatiso:function(e,c){var b=this.fL(1,c);var d=0;var a=0;do{d=b;a=e*Math.sin(d);b=this.fL(Math.exp(e*Math.log((1+a)/(1-a))/2),c)}while(Math.abs(b-d)>1e-12);return b},sinh:function(a){var b=Math.exp(a);b=(b-1/b)/2;return b},cosh:function(a){var b=Math.exp(a);b=(b+1/b)/2;return b},tanh:function(a){var b=Math.exp(a);b=(b-1/b)/(b+1/b);return b},asinh:function(a){var b=(a>=0?1:-1);return b*(Math.log(Math.abs(a)+Math.sqrt(a*a+1)))},acosh:function(a){return 2*Math.log(Math.sqrt((a+1)/2)+Math.sqrt((a-1)/2))},atanh:function(a){return Math.log((a-1)/(a+1))/2},gN:function(b,f,d){var c=f*d;return b/Math.sqrt(1-c*c)}};Proj4js.datum=Proj4js.Class({initialize:function(b){this.datum_type=Proj4js.common.PJD_WGS84;if(b.datumCode&&b.datumCode=="none"){this.datum_type=Proj4js.common.PJD_NODATUM}if(b&&b.datum_params){for(var a=0;a<b.datum_params.length;a++){b.datum_params[a]=parseFloat(b.datum_params[a])}if(b.datum_params[0]!=0||b.datum_params[1]!=0||b.datum_params[2]!=0){this.datum_type=Proj4js.common.PJD_3PARAM}if(b.datum_params.length>3){if(b.datum_params[3]!=0||b.datum_params[4]!=0||b.datum_params[5]!=0||b.datum_params[6]!=0){this.datum_type=Proj4js.common.PJD_7PARAM;b.datum_params[3]*=Proj4js.common.SEC_TO_RAD;b.datum_params[4]*=Proj4js.common.SEC_TO_RAD;b.datum_params[5]*=Proj4js.common.SEC_TO_RAD;b.datum_params[6]=(b.datum_params[6]/1000000)+1}}}if(b){this.a=b.a;this.b=b.b;this.es=b.es;this.ep2=b.ep2;this.datum_params=b.datum_params}},compare_datums:function(a){if(this.datum_type!=a.datum_type){return false}else{if(this.a!=a.a||Math.abs(this.es-a.es)>5e-11){return false}else{if(this.datum_type==Proj4js.common.PJD_3PARAM){return(this.datum_params[0]==a.datum_params[0]&&this.datum_params[1]==a.datum_params[1]&&this.datum_params[2]==a.datum_params[2])}else{if(this.datum_type==Proj4js.common.PJD_7PARAM){return(this.datum_params[0]==a.datum_params[0]&&this.datum_params[1]==a.datum_params[1]&&this.datum_params[2]==a.datum_params[2]&&this.datum_params[3]==a.datum_params[3]&&this.datum_params[4]==a.datum_params[4]&&this.datum_params[5]==a.datum_params[5]&&this.datum_params[6]==a.datum_params[6])}else{if(this.datum_type==Proj4js.common.PJD_GRIDSHIFT){return strcmp(pj_param(this.params,"snadgrids").s,pj_param(a.params,"snadgrids").s)==0}else{return true}}}}}},geodetic_to_geocentric:function(c){var l=c.x;var h=c.y;var d=c.z?c.z:0;var e;var b;var a;var j=0;var k;var i;var g;var f;if(h<-Proj4js.common.HALF_PI&&h>-1.001*Proj4js.common.HALF_PI){h=-Proj4js.common.HALF_PI}else{if(h>Proj4js.common.HALF_PI&&h<1.001*Proj4js.common.HALF_PI){h=Proj4js.common.HALF_PI}else{if((h<-Proj4js.common.HALF_PI)||(h>Proj4js.common.HALF_PI)){Proj4js.reportError("geocent:lat out of range:"+h);return null}}}if(l>Proj4js.common.PI){l-=(2*Proj4js.common.PI)}i=Math.sin(h);f=Math.cos(h);g=i*i;k=this.a/(Math.sqrt(1-this.es*g));e=(k+d)*f*Math.cos(l);b=(k+d)*f*Math.sin(l);a=((k*(1-this.es))+d)*i;c.x=e;c.y=b;c.z=a;return j},geocentric_to_geodetic:function(u){var z=1e-12;var v=(z*z);var f=30;var l;var h;var a;var n;var b;var m;var k;var y;var x;var j;var r;var q;var e;var w;var g=u.x;var d=u.y;var c=u.z?u.z:0;var i;var s;var o;e=false;l=Math.sqrt(g*g+d*d);h=Math.sqrt(g*g+d*d+c*c);if(l/this.a<z){e=true;i=0;if(h/this.a<z){s=Proj4js.common.HALF_PI;o=-this.b;return}}else{i=Math.atan2(d,g)}a=c/h;n=l/h;b=1/Math.sqrt(1-this.es*(2-this.es)*n*n);y=n*(1-this.es)*b;x=a*b;w=0;do{w++;k=this.a/Math.sqrt(1-this.es*x*x);o=l*y+c*x-k*(1-this.es*x*x);m=this.es*k/(k+o);b=1/Math.sqrt(1-m*(2-m)*n*n);j=n*(1-m)*b;r=a*b;q=r*y-j*x;y=j;x=r}while(q*q>v&&w<f);s=Math.atan(r/Math.abs(j));u.x=i;u.y=s;u.z=o;return u},geocentric_to_geodetic_noniter:function(s){var d=s.x;var c=s.y;var a=s.z?s.z:0;var g;var r;var l;var e;var n;var q;var m;var j;var h;var i;var w;var f;var v;var u;var o;var k;var b;d=parseFloat(d);c=parseFloat(c);a=parseFloat(a);b=false;if(d!=0){g=Math.atan2(c,d)}else{if(c>0){g=Proj4js.common.HALF_PI}else{if(c<0){g=-Proj4js.common.HALF_PI}else{b=true;g=0;if(a>0){r=Proj4js.common.HALF_PI}else{if(a<0){r=-Proj4js.common.HALF_PI}else{r=Proj4js.common.HALF_PI;l=-this.b;return}}}}}n=d*d+c*c;e=Math.sqrt(n);q=a*Proj4js.common.AD_C;j=Math.sqrt(q*q+n);i=q/j;f=e/j;w=i*i*i;m=a+this.b*this.ep2*w;k=e-this.a*this.es*f*f*f;h=Math.sqrt(m*m+k*k);v=m/h;u=k/h;o=this.a/Math.sqrt(1-this.es*v*v);if(u>=Proj4js.common.COS_67P5){l=e/u-o}else{if(u<=-Proj4js.common.COS_67P5){l=e/-u-o}else{l=a/v+o*(this.es-1)}}if(b==false){r=Math.atan(v/u)}s.x=g;s.y=r;s.z=l;return s},geocentric_to_wgs84:function(b){if(this.datum_type==Proj4js.common.PJD_3PARAM){b.x+=this.datum_params[0];b.y+=this.datum_params[1];b.z+=this.datum_params[2]}else{if(this.datum_type==Proj4js.common.PJD_7PARAM){var f=this.datum_params[0];var d=this.datum_params[1];var i=this.datum_params[2];var e=this.datum_params[3];var j=this.datum_params[4];var h=this.datum_params[5];var g=this.datum_params[6];var c=g*(b.x-h*b.y+j*b.z)+f;var a=g*(h*b.x+b.y-e*b.z)+d;var k=g*(-j*b.x+e*b.y+b.z)+i;b.x=c;b.y=a;b.z=k}}},geocentric_from_wgs84:function(c){if(this.datum_type==Proj4js.common.PJD_3PARAM){c.x-=this.datum_params[0];c.y-=this.datum_params[1];c.z-=this.datum_params[2]}else{if(this.datum_type==Proj4js.common.PJD_7PARAM){var g=this.datum_params[0];var d=this.datum_params[1];var j=this.datum_params[2];var f=this.datum_params[3];var k=this.datum_params[4];var i=this.datum_params[5];var h=this.datum_params[6];var e=(c.x-g)/h;var b=(c.y-d)/h;var a=(c.z-j)/h;c.x=e+i*b-k*a;c.y=-i*e+b+f*a;c.z=k*e-f*b+a}}}});Proj4js.Point=Proj4js.Class({initialize:function(a,d,c){if(typeof a=="object"){this.x=a[0];this.y=a[1];this.z=a[2]||0}else{if(typeof a=="string"){var b=a.split(",");this.x=parseFloat(b[0]);this.y=parseFloat(b[1]);this.z=parseFloat(b[2])||0}else{this.x=a;this.y=d;this.z=c||0}}},clone:function(){return new Proj4js.Point(this.x,this.y,this.z)},toString:function(){return("x="+this.x+",y="+this.y)},toShortString:function(){return(this.x+", "+this.y)}});Proj4js.PrimeMeridian={greenwich:0,lisbon:-9.131906111111,paris:2.337229166667,bogota:-74.080916666667,madrid:-3.687938888889,rome:12.452333333333,bern:7.439583333333,jakarta:106.807719444444,ferro:-17.666666666667,brussels:4.367975,stockholm:18.058277777778,athens:23.7163375,oslo:10.722916666667};Proj4js.Ellipsoid={MERIT:{a:6378137,rf:298.257,ellipseName:"MERIT 1983"},SGS85:{a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},GRS80:{a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},IAU76:{a:6378140,rf:298.257,ellipseName:"IAU 1976"},airy:{a:6377563.396,b:6356256.91,ellipseName:"Airy 1830"},"APL4.":{a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},NWL9D:{a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},mod_airy:{a:6377340.189,b:6356034.446,ellipseName:"Modified Airy"},andrae:{a:6377104.43,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},aust_SA:{a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},GRS67:{a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},bessel:{a:6377397.155,rf:299.1528128,ellipseName:"Bessel 1841"},bess_nam:{a:6377483.865,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},clrk66:{a:6378206.4,b:6356583.8,ellipseName:"Clarke 1866"},clrk80:{a:6378249.145,rf:293.4663,ellipseName:"Clarke 1880 mod."},CPM:{a:6375738.7,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},delmbr:{a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},engelis:{a:6378136.05,rf:298.2566,ellipseName:"Engelis 1985"},evrst30:{a:6377276.345,rf:300.8017,ellipseName:"Everest 1830"},evrst48:{a:6377304.063,rf:300.8017,ellipseName:"Everest 1948"},evrst56:{a:6377301.243,rf:300.8017,ellipseName:"Everest 1956"},evrst69:{a:6377295.664,rf:300.8017,ellipseName:"Everest 1969"},evrstSS:{a:6377298.556,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},fschr60:{a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},fschr60m:{a:6378155,rf:298.3,ellipseName:"Fischer 1960"},fschr68:{a:6378150,rf:298.3,ellipseName:"Fischer 1968"},helmert:{a:6378200,rf:298.3,ellipseName:"Helmert 1906"},hough:{a:6378270,rf:297,ellipseName:"Hough"},intl:{a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},kaula:{a:6378163,rf:298.24,ellipseName:"Kaula 1961"},lerch:{a:6378139,rf:298.257,ellipseName:"Lerch 1979"},mprts:{a:6397300,rf:191,ellipseName:"Maupertius 1738"},new_intl:{a:6378157.5,b:6356772.2,ellipseName:"New International 1967"},plessis:{a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},krass:{a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},SEasia:{a:6378155,b:6356773.3205,ellipseName:"Southeast Asia"},walbeck:{a:6376896,b:6355834.8467,ellipseName:"Walbeck"},WGS60:{a:6378165,rf:298.3,ellipseName:"WGS 60"},WGS66:{a:6378145,rf:298.25,ellipseName:"WGS 66"},WGS72:{a:6378135,rf:298.26,ellipseName:"WGS 72"},WGS84:{a:6378137,rf:298.257223563,ellipseName:"WGS 84"},sphere:{a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"}};Proj4js.Datum={WGS84:{towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},GGRS87:{towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},NAD83:{towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},NAD27:{nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},potsdam:{towgs84:"606.0,23.0,413.0",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},carthage:{towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},hermannskogel:{towgs84:"653.0,-212.0,449.0",ellipse:"bessel",datumName:"Hermannskogel"},ire65:{towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},nzgd49:{towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},OSGB36:{towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"}};Proj4js.WGS84=new Proj4js.Proj("WGS84");Proj4js.Datum.OSB36=Proj4js.Datum.OSGB36;Proj4js.ProxyHost="";Proj4js.ProxyHostFQDN=null;Proj4js.getFQDNForUrl=function(a){if(a){var b=a.match(/^[a-z]+:\/\/([^\/]+)\/?/i);if(b){return b[1]}return window.location.host}return null};Proj4js.setProxyUrl=function(a){Proj4js.ProxyHost=a;Proj4js.ProxyHostFQDN=this.getFQDNForUrl(a)};Proj4js.Try=function(){var d=null;for(var c=0,a=arguments.length;c<a;c++){var b=arguments[c];try{d=b();break}catch(f){}}return d};Proj4js.loadScript=function(b,d,g,i){var e={loaded:false,onload:d,onfail:g,loadCheck:i,transport:Proj4js.Try(function(){return new XMLHttpRequest()},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")})||null};if(!e.transport){return}if(e.transport.overrideMimeType){e.transport.overrideMimeType("text/xml")}var f="_tick_="+new Date().getTime();b+=(b.indexOf("?")+1?"&":"?")+f;if(Proj4js.ProxyHost){if(b.indexOf(Proj4js.ProxyHost)!=0){if(b.search(/^[a-z]+:\/\//i)!=-1){var h=b.match(/^[a-z]+:\/\/([^\/]*)\/?/i);if(h){h=h[1]}if(Proj4js.ProxyHostFQDN!=h){b=Proj4js.ProxyHost+encodeURIComponent(b)}}}}e.transport.open("GET",b,false);e.transport.onreadystatechange=Proj4js.bind(this.onStateChange,this,e);var c={"X-Requested-With":"XMLHttpRequest",Accept:"text/javascript, text/html, application/xml, text/xml, */*",Proj4js:true};for(var a in c){e.transport.setRequestHeader(a,c[a])}e.transport.send(null);if(e.transport.overrideMimeType){this.onStateChange(e)}};Proj4js.onStateChange=function(request){if(request.transport.readyState>1&&!(request.transport.readyState==4&&request.loaded)){var state=0;try{state=request.transport.status||0}catch(e){state=0}var success=state==0||(state>=200&&state<300);if(request.transport.readyState==4){request.loaded=true;if(success){eval(request.transport.responseText);if(request.loadCheck&&!request.loadCheck()){if(request.onfail){request.onfail()}}else{if(request.onload){request.onload()}}}else{if(request.onfail){request.onfail()}}request.transport.onreadystatechange=function(){}}}};Proj4js.checkReadyState=function(){};Proj4js.Proj.eqc={init:function(){if(!this.x0){this.x0=0}if(!this.y0){this.y0=0}if(!this.lat0){this.lat0=0}if(!this.long0){this.long0=0}if(!this.lat_ts){this.lat_ts=0}if(!this.title){this.title="Equidistant Cylindrical (Plate Carre)"}this.rc=Math.cos(this.lat_ts)},forward:function(d){var e=d.x;var c=d.y;var b=Proj4js.common.adjust_lon(e-this.long0);var a=Proj4js.common.adjust_lat(c-this.lat0);d.x=this.x0+(this.a*b*this.rc);d.y=this.y0+(this.a*a);return d},inverse:function(b){var a=b.x;var c=b.y;b.x=Proj4js.common.adjust_lon(this.long0+((a-this.x0)/(this.a*this.rc)));b.y=Proj4js.common.adjust_lat(this.lat0+((c-this.y0)/(this.a)));return b}};Proj4js.Proj.laea={S_POLE:1,N_POLE:2,EQUIT:3,OBLIQ:4,init:function(){var a=Math.abs(this.lat0);if(Math.abs(a-Proj4js.common.HALF_PI)<Proj4js.common.EPSLN){this.mode=this.lat0<0?this.S_POLE:this.N_POLE}else{if(Math.abs(a)<Proj4js.common.EPSLN){this.mode=this.EQUIT}else{this.mode=this.OBLIQ}}if(this.es>0){var b;this.qp=Proj4js.common.qsfnz(this.e,1);this.mmf=0.5/(1-this.es);this.apa=this.authset(this.es);switch(this.mode){case this.N_POLE:case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(0.5*this.qp);this.dd=1/this.rq;this.xmf=1;this.ymf=0.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(0.5*this.qp);b=Math.sin(this.lat0);this.sinb1=Proj4js.common.qsfnz(this.e,b)/this.qp;this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1);this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*b*b)*this.rq*this.cosb1);this.ymf=(this.xmf=this.rq)/this.dd;this.xmf*=this.dd;break}}else{if(this.mode==this.OBLIQ){this.sinph0=Math.sin(this.lat0);this.cosph0=Math.cos(this.lat0)}}},forward:function(e){var m,k;var n=e.x;var i=e.y;n=Proj4js.common.adjust_lon(n-this.long0);if(this.sphere){var l,g,c;c=Math.sin(i);g=Math.cos(i);l=Math.cos(n);switch(this.mode){case this.EQUIT:k=(this.mode==this.EQUIT)?1+g*l:1+this.sinph0*c+this.cosph0*g*l;if(k<=Proj4js.common.EPSLN){Proj4js.reportError("laea:fwd:y less than eps");return null}k=Math.sqrt(2/k);m=k*g*Math.sin(n);k*=(this.mode==this.EQUIT)?c:this.cosph0*c-this.sinph0*g*l;break;case this.N_POLE:l=-l;case this.S_POLE:if(Math.abs(i+this.phi0)<Proj4js.common.EPSLN){Proj4js.reportError("laea:fwd:phi < eps");return null}k=Proj4js.common.FORTPI-i*0.5;k=2*((this.mode==this.S_POLE)?Math.cos(k):Math.sin(k));m=k*Math.sin(n);k*=l;break}}else{var l,h,c,d,f=0,a=0,j=0;l=Math.cos(n);h=Math.sin(n);c=Math.sin(i);d=Proj4js.common.qsfnz(this.e,c);if(this.mode==this.OBLIQ||this.mode==this.EQUIT){f=d/this.qp;a=Math.sqrt(1-f*f)}switch(this.mode){case this.OBLIQ:j=1+this.sinb1*f+this.cosb1*a*l;break;case this.EQUIT:j=1+a*l;break;case this.N_POLE:j=Proj4js.common.HALF_PI+i;d=this.qp-d;break;case this.S_POLE:j=i-Proj4js.common.HALF_PI;d=this.qp+d;break}if(Math.abs(j)<Proj4js.common.EPSLN){Proj4js.reportError("laea:fwd:b < eps");return null}switch(this.mode){case this.OBLIQ:case this.EQUIT:j=Math.sqrt(2/j);if(this.mode==this.OBLIQ){k=this.ymf*j*(this.cosb1*f-this.sinb1*a*l)}else{k=(j=Math.sqrt(2/(1+a*l)))*f*this.ymf}m=this.xmf*j*a*h;break;case this.N_POLE:case this.S_POLE:if(d>=0){m=(j=Math.sqrt(d))*h;k=l*((this.mode==this.S_POLE)?j:-j)}else{m=k=0}break}}e.x=this.a*m+this.x0;e.y=this.a*k+this.y0;return e},inverse:function(b){b.x-=this.x0;b.y-=this.y0;var h=b.x/this.a;var f=b.y/this.a;if(this.sphere){var l=0,j,c=0;j=Math.sqrt(h*h+f*f);var e=j*0.5;if(e>1){Proj4js.reportError("laea:Inv:DataError");return null}e=2*Math.asin(e);if(this.mode==this.OBLIQ||this.mode==this.EQUIT){c=Math.sin(e);l=Math.cos(e)}switch(this.mode){case this.EQUIT:e=(Math.abs(j)<=Proj4js.common.EPSLN)?0:Math.asin(f*c/j);h*=c;f=l*j;break;case this.OBLIQ:e=(Math.abs(j)<=Proj4js.common.EPSLN)?this.phi0:Math.asin(l*sinph0+f*c*cosph0/j);h*=c*cosph0;f=(l-Math.sin(e)*sinph0)*j;break;case this.N_POLE:f=-f;e=Proj4js.common.HALF_PI-e;break;case this.S_POLE:e-=Proj4js.common.HALF_PI;break}lam=(f==0&&(this.mode==this.EQUIT||this.mode==this.OBLIQ))?0:Math.atan2(h,f)}else{var i,d,a,g,k=0;switch(this.mode){case this.EQUIT:case this.OBLIQ:h/=this.dd;f*=this.dd;g=Math.sqrt(h*h+f*f);if(g<Proj4js.common.EPSLN){b.x=0;b.y=this.phi0;return b}d=2*Math.asin(0.5*g/this.rq);i=Math.cos(d);h*=(d=Math.sin(d));if(this.mode==this.OBLIQ){k=i*this.sinb1+f*d*this.cosb1/g;a=this.qp*k;f=g*this.cosb1*i-f*this.sinb1*d}else{k=f*d/g;a=this.qp*k;f=g*i}break;case this.N_POLE:f=-f;case this.S_POLE:a=(h*h+f*f);if(!a){b.x=0;b.y=this.phi0;return b}k=1-a/this.qp;if(this.mode==this.S_POLE){k=-k}break}lam=Math.atan2(h,f);e=this.authlat(Math.asin(k),this.apa)}b.x=Proj4js.common.adjust_lon(this.long0+lam);b.y=e;return b},P00:0.3333333333333333,P01:0.17222222222222222,P02:0.10257936507936508,P10:0.06388888888888888,P11:0.0664021164021164,P20:0.016415012942191543,authset:function(b){var a;var c=new Array();c[0]=b*this.P00;a=b*b;c[0]+=a*this.P01;c[1]=a*this.P10;a*=b;c[0]+=a*this.P02;c[1]+=a*this.P11;c[2]=a*this.P20;return c},authlat:function(b,c){var a=b+b;return(b+c[0]*Math.sin(a)+c[1]*Math.sin(a+a)+c[2]*Math.sin(a+a+a))}};Proj4js.Proj.lcc={init:function(){if(!this.lat2){this.lat2=this.lat0}if(!this.k0){this.k0=1}if(Math.abs(this.lat1+this.lat2)<Proj4js.common.EPSLN){Proj4js.reportError("lcc:init: Equal Latitudes");return}var j=this.b/this.a;this.e=Math.sqrt(1-j*j);var g=Math.sin(this.lat1);var e=Math.cos(this.lat1);var i=Proj4js.common.msfnz(this.e,g,e);var b=Proj4js.common.tsfnz(this.e,this.lat1,g);var f=Math.sin(this.lat2);var d=Math.cos(this.lat2);var h=Proj4js.common.msfnz(this.e,f,d);var a=Proj4js.common.tsfnz(this.e,this.lat2,f);var c=Proj4js.common.tsfnz(this.e,this.lat0,Math.sin(this.lat0));if(Math.abs(this.lat1-this.lat2)>Proj4js.common.EPSLN){this.ns=Math.log(i/h)/Math.log(b/a)}else{this.ns=g}this.f0=i/(this.ns*Math.pow(b,this.ns));this.rh=this.a*this.f0*Math.pow(c,this.ns);if(!this.title){this.title="Lambert Conformal Conic"}},forward:function(e){var f=e.x;var d=e.y;if(Math.abs(2*Math.abs(d)-Proj4js.common.PI)<=Proj4js.common.EPSLN){d=Proj4js.common.sign(d)*(Proj4js.common.HALF_PI-2*Proj4js.common.EPSLN)}var a=Math.abs(Math.abs(d)-Proj4js.common.HALF_PI);var c,g;if(a>Proj4js.common.EPSLN){c=Proj4js.common.tsfnz(this.e,d,Math.sin(d));g=this.a*this.f0*Math.pow(c,this.ns)}else{a=d*this.ns;if(a<=0){Proj4js.reportError("lcc:forward: No Projection");return null}g=0}var b=this.ns*Proj4js.common.adjust_lon(f-this.long0);e.x=this.k0*(g*Math.sin(b))+this.x0;e.y=this.k0*(this.rh-g*Math.cos(b))+this.y0;return e},inverse:function(b){var e,c,f;var g,a;var i=(b.x-this.x0)/this.k0;var h=(this.rh-(b.y-this.y0)/this.k0);if(this.ns>0){e=Math.sqrt(i*i+h*h);c=1}else{e=-Math.sqrt(i*i+h*h);c=-1}var d=0;if(e!=0){d=Math.atan2((c*i),(c*h))}if((e!=0)||(this.ns>0)){c=1/this.ns;f=Math.pow((e/(this.a*this.f0)),c);g=Proj4js.common.phi2z(this.e,f);if(g==-9999){return null}}else{g=-Proj4js.common.HALF_PI}a=Proj4js.common.adjust_lon(d/this.ns+this.long0);b.x=a;b.y=g;return b}};Proj4js.Proj.merc={init:function(){if(this.lat_ts){if(this.sphere){this.k0=Math.cos(this.lat_ts)}else{this.k0=Proj4js.common.msfnz(this.es,Math.sin(this.lat_ts),Math.cos(this.lat_ts))}}},forward:function(e){var f=e.x;var d=e.y;if(d*Proj4js.common.R2D>90&&d*Proj4js.common.R2D<-90&&f*Proj4js.common.R2D>180&&f*Proj4js.common.R2D<-180){Proj4js.reportError("merc:forward: llInputOutOfRange: "+f+" : "+d);return null}var a,g;if(Math.abs(Math.abs(d)-Proj4js.common.HALF_PI)<=Proj4js.common.EPSLN){Proj4js.reportError("merc:forward: ll2mAtPoles");return null}else{if(this.sphere){a=this.x0+this.a*this.k0*Proj4js.common.adjust_lon(f-this.long0);g=this.y0+this.a*this.k0*Math.log(Math.tan(Proj4js.common.FORTPI+0.5*d))}else{var c=Math.sin(d);var b=Proj4js.common.tsfnz(this.e,d,c);a=this.x0+this.a*this.k0*Proj4js.common.adjust_lon(f-this.long0);g=this.y0-this.a*this.k0*Math.log(b)}e.x=a;e.y=g;return e}},inverse:function(d){var a=d.x-this.x0;var f=d.y-this.y0;var e,c;if(this.sphere){c=Proj4js.common.HALF_PI-2*Math.atan(Math.exp(-f/this.a*this.k0))}else{var b=Math.exp(-f/(this.a*this.k0));c=Proj4js.common.phi2z(this.e,b);if(c==-9999){Proj4js.reportError("merc:inverse: lat = -9999");return null}}e=Proj4js.common.adjust_lon(this.long0+a/(this.a*this.k0));d.x=e;d.y=c;return d}};Proj4js.Proj.mill={init:function(){},forward:function(d){var e=d.x;var c=d.y;var b=Proj4js.common.adjust_lon(e-this.long0);var a=this.x0+this.a*b;var f=this.y0+this.a*Math.log(Math.tan((Proj4js.common.PI/4)+(c/2.5)))*1.25;d.x=a;d.y=f;return d},inverse:function(b){b.x-=this.x0;b.y-=this.y0;var c=Proj4js.common.adjust_lon(this.long0+b.x/this.a);var a=2.5*(Math.atan(Math.exp(0.8*b.y/this.a))-Proj4js.common.PI/4);b.x=c;b.y=a;return b}};Proj4js.Proj.stere={ssfn_:function(a,c,b){c*=b;return(Math.tan(0.5*(Proj4js.common.HALF_PI+a))*Math.pow((1-c)/(1+c),0.5*b))},TOL:1e-8,NITER:8,CONV:1e-10,S_POLE:0,N_POLE:1,OBLIQ:2,EQUIT:3,init:function(){this.phits=this.lat_ts?this.lat_ts:Proj4js.common.HALF_PI;var a=Math.abs(this.lat0);if((Math.abs(a)-Proj4js.common.HALF_PI)<Proj4js.common.EPSLN){this.mode=this.lat0<0?this.S_POLE:this.N_POLE}else{this.mode=a>Proj4js.common.EPSLN?this.OBLIQ:this.EQUIT}this.phits=Math.abs(this.phits);if(this.es){var b;switch(this.mode){case this.N_POLE:case this.S_POLE:if(Math.abs(this.phits-Proj4js.common.HALF_PI)<Proj4js.common.EPSLN){this.akm1=2*this.k0/Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e))}else{a=Math.sin(this.phits);this.akm1=Math.cos(this.phits)/Proj4js.common.tsfnz(this.e,this.phits,a);a*=this.e;this.akm1/=Math.sqrt(1-a*a)}break;case this.EQUIT:this.akm1=2*this.k0;break;case this.OBLIQ:a=Math.sin(this.lat0);b=2*Math.atan(this.ssfn_(this.lat0,a,this.e))-Proj4js.common.HALF_PI;a*=this.e;this.akm1=2*this.k0*Math.cos(this.lat0)/Math.sqrt(1-a*a);this.sinX1=Math.sin(b);this.cosX1=Math.cos(b);break}}else{switch(this.mode){case this.OBLIQ:this.sinph0=Math.sin(this.lat0);this.cosph0=Math.cos(this.lat0);case this.EQUIT:this.akm1=2*this.k0;break;case this.S_POLE:case this.N_POLE:this.akm1=Math.abs(this.phits-Proj4js.common.HALF_PI)>=Proj4js.common.EPSLN?Math.cos(this.phits)/Math.tan(Proj4js.common.FORTPI-0.5*this.phits):2*this.k0;break}}},forward:function(c){var b=c.x;b=Proj4js.common.adjust_lon(b-this.long0);var f=c.y;var i,g;if(this.sphere){var a,d,h,e;a=Math.sin(f);d=Math.cos(f);h=Math.cos(b);e=Math.sin(b);switch(this.mode){case this.EQUIT:g=1+d*h;if(g<=Proj4js.common.EPSLN){F_ERROR}g=this.akm1/g;i=g*d*e;g*=a;break;case this.OBLIQ:g=1+this.sinph0*a+this.cosph0*d*h;if(g<=Proj4js.common.EPSLN){F_ERROR}g=this.akm1/g;i=g*d*e;g*=this.cosph0*a-this.sinph0*d*h;break;case this.N_POLE:h=-h;f=-f;case this.S_POLE:if(Math.abs(f-Proj4js.common.HALF_PI)<this.TOL){F_ERROR}g=this.akm1*Math.tan(Proj4js.common.FORTPI+0.5*f);i=e*g;g*=h;break}}else{h=Math.cos(b);e=Math.sin(b);a=Math.sin(f);if(this.mode==this.OBLIQ||this.mode==this.EQUIT){X=2*Math.atan(this.ssfn_(f,a,this.e));sinX=Math.sin(X-Proj4js.common.HALF_PI);cosX=Math.cos(X)}switch(this.mode){case this.OBLIQ:A=this.akm1/(this.cosX1*(1+this.sinX1*sinX+this.cosX1*cosX*h));g=A*(this.cosX1*sinX-this.sinX1*cosX*h);i=A*cosX;break;case this.EQUIT:A=2*this.akm1/(1+cosX*h);g=A*sinX;i=A*cosX;break;case this.S_POLE:f=-f;h=-h;a=-a;case this.N_POLE:i=this.akm1*Proj4js.common.tsfnz(this.e,f,a);g=-i*h;break}i=i*e}c.x=i*this.a+this.x0;c.y=g*this.a+this.y0;return c},inverse:function(d){var r=(d.x-this.x0)/this.a;var n=(d.y-this.y0)/this.a;var b,m;var h,a,q=0,e=0,o,g=0,k=0;var j;if(this.sphere){var l,s,f,u;s=Math.sqrt(r*r+n*n);l=2*Math.atan(s/this.akm1);f=Math.sin(l);u=Math.cos(l);b=0;switch(this.mode){case this.EQUIT:if(Math.abs(s)<=Proj4js.common.EPSLN){m=0}else{m=Math.asin(n*f/s)}if(u!=0||r!=0){b=Math.atan2(r*f,u*s)}break;case this.OBLIQ:if(Math.abs(s)<=Proj4js.common.EPSLN){m=this.phi0}else{m=Math.asin(u*sinph0+n*f*cosph0/s)}l=u-sinph0*Math.sin(m);if(l!=0||r!=0){b=Math.atan2(r*f*cosph0,l*s)}break;case this.N_POLE:n=-n;case this.S_POLE:if(Math.abs(s)<=Proj4js.common.EPSLN){m=this.phi0}else{m=Math.asin(this.mode==this.S_POLE?-u:u)}b=(r==0&&n==0)?0:Math.atan2(r,n);break}}else{o=Math.sqrt(r*r+n*n);switch(this.mode){case this.OBLIQ:case this.EQUIT:q=2*Math.atan2(o*this.cosX1,this.akm1);h=Math.cos(q);a=Math.sin(q);if(o==0){e=Math.asin(h*this.sinX1)}else{e=Math.asin(h*this.sinX1+(n*a*this.cosX1/o))}q=Math.tan(0.5*(Proj4js.common.HALF_PI+e));r*=a;n=o*this.cosX1*h-n*this.sinX1*a;k=Proj4js.common.HALF_PI;g=0.5*this.e;break;case this.N_POLE:n=-n;case this.S_POLE:q=-o/this.akm1;e=Proj4js.common.HALF_PI-2*Math.atan(q);k=-Proj4js.common.HALF_PI;g=-0.5*this.e;break}for(j=this.NITER;j--;e=m){a=this.e*Math.sin(e);m=2*Math.atan(q*Math.pow((1+a)/(1-a),g))-k;if(Math.abs(e-m)<this.CONV){if(this.mode==this.S_POLE){m=-m}b=(r==0&&n==0)?0:Math.atan2(r,n);d.x=Proj4js.common.adjust_lon(b+this.long0);d.y=m;return d}}}}};Proj4js.Proj.tmerc={init:function(){this.e0=Proj4js.common.e0fn(this.es);this.e1=Proj4js.common.e1fn(this.es);this.e2=Proj4js.common.e2fn(this.es);this.e3=Proj4js.common.e3fn(this.es);this.ml0=this.a*Proj4js.common.mlfn(this.e0,this.e1,this.e2,this.e3,this.lat0)},forward:function(d){var a=d.x;var m=d.y;var g=Proj4js.common.adjust_lon(a-this.long0);var e;var u,r;var s=Math.sin(m);var k=Math.cos(m);if(this.sphere){var q=k*Math.sin(g);if((Math.abs(Math.abs(q)-1))<1e-10){Proj4js.reportError("tmerc:forward: Point projects into infinity");return(93)}else{u=0.5*this.a*this.k0*Math.log((1+q)/(1-q));e=Math.acos(k*Math.cos(g)/Math.sqrt(1-q*q));if(m<0){e=-e}r=this.a*this.k0*(e-this.lat0)}}else{var j=k*g;var i=Math.pow(j,2);var l=this.ep2*Math.pow(k,2);var o=Math.tan(m);var v=Math.pow(o,2);e=1-this.es*Math.pow(s,2);var f=this.a/Math.sqrt(e);var h=this.a*Proj4js.common.mlfn(this.e0,this.e1,this.e2,this.e3,m);u=this.k0*f*j*(1+i/6*(1-v+l+i/20*(5-18*v+Math.pow(v,2)+72*l-58*this.ep2)))+this.x0;r=this.k0*(h-this.ml0+f*o*(i*(0.5+i/24*(5-v+9*l+4*Math.pow(l,2)+i/30*(61-58*v+Math.pow(v,2)+600*l-330*this.ep2)))))+this.y0}d.x=u;d.y=r;return d},inverse:function(B){var k,e;var K;var D;var o=6;var m,j;if(this.sphere){var G=Math.exp(B.x/(this.a*this.k0));var F=0.5*(G-1/G);var I=this.lat0+B.y/(this.a*this.k0);var E=Math.cos(I);k=Math.sqrt((1-E*E)/(1+F*F));m=Proj4js.common.asinz(k);if(I<0){m=-m}if((F==0)&&(E==0)){j=this.long0}else{j=Proj4js.common.adjust_lon(Math.atan2(F,E)+this.long0)}}else{var s=B.x-this.x0;var q=B.y-this.y0;k=(this.ml0+q/this.k0)/this.a;e=k;for(D=0;true;D++){K=((k+this.e1*Math.sin(2*e)-this.e2*Math.sin(4*e)+this.e3*Math.sin(6*e))/this.e0)-e;e+=K;if(Math.abs(K)<=Proj4js.common.EPSLN){break}if(D>=o){Proj4js.reportError("tmerc:inverse: Latitude failed to converge");return(95)}}if(Math.abs(e)<Proj4js.common.HALF_PI){var b=Math.sin(e);var L=Math.cos(e);var u=Math.tan(e);var J=this.ep2*Math.pow(L,2);var l=Math.pow(J,2);var v=Math.pow(u,2);var a=Math.pow(v,2);k=1-this.es*Math.pow(b,2);var C=this.a/Math.sqrt(k);var w=C*(1-this.es)/k;var H=s/(C*this.k0);var z=Math.pow(H,2);m=e-(C*u*z/w)*(0.5-z/24*(5+3*v+10*J-4*l-9*this.ep2-z/30*(61+90*v+298*J+45*a-252*this.ep2-3*l)));j=Proj4js.common.adjust_lon(this.long0+(H*(1-z/6*(1+2*v+J-z/20*(5-2*J+28*v-3*l+8*this.ep2+24*a)))/L))}else{m=Proj4js.common.HALF_PI*Proj4js.common.sign(q);j=this.long0}}B.x=j;B.y=m;return B}};Proj4js.Proj.utm={dependsOn:"tmerc",init:function(){if(!this.zone){Proj4js.reportError("utm:init: zone must be specified for UTM");return}this.lat0=0;this.long0=((6*Math.abs(this.zone))-183)*Proj4js.common.D2R;this.x0=500000;this.y0=this.utmSouth?10000000:0;this.k0=0.9996;Proj4js.Proj.tmerc.init.apply(this);this.forward=Proj4js.Proj.tmerc.forward;this.inverse=Proj4js.Proj.tmerc.inverse}};Proj4js.defs["CRS:84"]="+title=WGS 84 longitude-latitude +proj=longlat +ellps=WGS84 +datum=WGS84 +no_defs ";Proj4js.defs["EPSG:2154"]="+title=RGF93 / Lambert-93 +proj=lcc +lat_1=49 +lat_2=44 +lat_0=46.5 +lon_0=3 +x_0=700000 +y_0=6600000 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:2969"]="+title=Fort Marigot / UTM zone 20N +proj=utm +zone=20 +ellps=intl +towgs84=137,248,-430,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:2972"]="+title=RGFG95 / UTM zone 22N +proj=utm +zone=22 +ellps=GRS80 +towgs84=2,2,-2,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:2975"]="+title=RGR92 / UTM zone 40S +proj=utm +zone=40 +south +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:2989"]="+title=RRAF 1991 / UTM zone 20N +proj=utm +zone=20 +ellps=WGS84 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ";Proj4js.defs["EPSG:3034"]="+title=ETRS89 / ETRS-LCC +proj=lcc +lat_1=35 +lat_2=65 +lat_0=52 +lon_0=10 +x_0=4000000 +y_0=2800000 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:3035"]="+title=ETRS89 / ETRS-LAEA +proj=laea +lat_0=52 +lon_0=10 +x_0=4321000 +y_0=3210000 +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:32606"]="+proj=utm +zone=6 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32620"]="+proj=utm +zone=20 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32622"]="+proj=utm +zone=22 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32662"]="+title=WGS 84 / Plate Carree +proj=eqc +lat_ts=0 +lon_0=0 +x_0=0 +y_0=0 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32701"]="+proj=utm +zone=1 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32705"]="+proj=utm +zone=5 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32706"]="+proj=utm +zone=6 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32707"]="+proj=utm +zone=7 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32738"]="+proj=utm +zone=38 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32739"]="+proj=utm +zone=39 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32740"]="+proj=utm +zone=40 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32742"]="+proj=utm +zone=42 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32743"]="+proj=utm +zone=43 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32757"]="+proj=utm +zone=57 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32758"]="+proj=utm +zone=58 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:32759"]="+proj=utm +zone=59 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ";Proj4js.defs["EPSG:3296"]="+title=RGPF / UTM zone 5S +proj=utm +zone=5 +south +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:3297"]="+title=RGPF / UTM zone 6S +proj=utm +zone=6 +south +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:3298"]="+title=RGPF / UTM zone 7S +proj=utm +zone=7 +south +ellps=GRS80 +units=m +no_defs ";Proj4js.defs["EPSG:4171"]="+title=RGF93 +proj=longlat +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4258"]="+title=ETRS89 +proj=longlat +ellps=GRS80 +no_defs ";Proj4js.defs["EPSG:4624"]="+title=RGFG95 +proj=longlat +ellps=GRS80 +towgs84=2,2,-2,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4627"]="+title=RGR92 +proj=longlat +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4640"]="+title=RRAF 1991 +proj=longlat +ellps=WGS84 +towgs84=0,0,0,0,0,0,0 +no_defs ";Proj4js.defs["EPSG:4687"]="+proj=longlat +ellps=GRS80 +no_defs ";Proj4js.defs["EPSG:4749"]="+title=RGNC91-93 +proj=longlat +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +no_defs ";Proj4js.defs["IGNF:AMST63GEO"]="+title=Amsterdam 1963 +proj=longlat +towgs84=109.753,-528.133,-362.244,0,0,0,0 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs";Proj4js.defs["IGNF:AMST63UTM43S"]="+title=Amsterdam 1963 UTM fuseau 43 Sud +proj=tmerc +towgs84=109.753,-528.133,-362.244,0,0,0,0 +a=6378388.0000 +rf=297.0000000000000 +lat_0=0.000000000 +lon_0=75.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=10000000.000 +units=m +no_defs";Proj4js.defs["IGNF:GEOPORTALANF"]="+title=Geoportail - Antilles francaises +proj=eqc +nadgrids=null +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=0.000000000 +lat_ts=15.000000000 +x_0=0.000 +y_0=0.000 +units=m +no_defs";Proj4js.defs["IGNF:GEOPORTALASP"]="+title=Geoportail - Saint Paul et Amsterdam +proj=eqc +nadgrids=null +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=0.000000000 +lat_ts=-38.000000000 +x_0=0.000 +y_0=0.000 +units=m +no_defs";Proj4js.defs["IGNF:GEOPORTALCRZ"]="+title=Geoportail - Crozet +proj=eqc +nadgrids=null +towgs84=0.0000,0.0000,0.0000,0.0000,0.0000,0.0000,0.000000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=0.000000000 +lat_ts=-46.000000000 +x_0=0.000 +y_0=0.000 +units=m +no_defs";Proj4js.defs["IGNF:GEOPORTALFXX"]="+title=Geoportail - France metropolitaine +proj=eqc +nadgrids=null +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=0.000000000 +lat_ts=46.500000000 +x_0=0.000 +y_0=0.000 +units=m +no_defs";Proj4js.defs["IGNF:GEOPORTALGUF"]="+title=Geoportail - Guyane +proj=eqc +nadgrids=null +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=0.000000000 +lat_ts=4.000000000 +x_0=0.000 +y_0=0.000 +units=m +no_defs";Proj4js.defs["IGNF:GEOPORTALKER"]="+title=Geoportail - Kerguelen +proj=eqc +nadgrids=null +towgs84=0.0000,0.0000,0.0000,0.0000,0.0000,0.0000,0.000000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=0.000000000 +lat_ts=-49.500000000 +x_0=0.000 +y_0=0.000 +units=m +no_defs";Proj4js.defs["IGNF:GEOPORTALMYT"]="+title=Geoportail - Mayotte +proj=eqc +nadgrids=null +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=0.000000000 +lat_ts=-12.000000000 +x_0=0.000 +y_0=0.000 +units=m +no_defs";Proj4js.defs["IGNF:GEOPORTALNCL"]="+title=Geoportail - Nouvelle-Caledonie +proj=eqc +nadgrids=null +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=0.000000000 +lat_ts=-22.000000000 +x_0=0.000 +y_0=0.000 +units=m +no_defs";Proj4js.defs["IGNF:GEOPORTALPYF"]="+title=Geoportail - Polynesie francaise +proj=eqc +nadgrids=null +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=0.000000000 +lat_ts=-15.000000000 +x_0=0.000 +y_0=0.000 +units=m +no_defs";Proj4js.defs["IGNF:GEOPORTALREU"]="+title=Geoportail - Reunion et dependances +proj=eqc +nadgrids=null +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=0.000000000 +lat_ts=-21.000000000 +x_0=0.000 +y_0=0.000 +units=m +no_defs";Proj4js.defs["IGNF:GEOPORTALSPA"]="+title=Geoportail - Saint-Paul et Amsterdam +proj=eqc +nadgrids=null +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=0.000000000 +lat_ts=-38.000000000 +x_0=0.000 +y_0=0.000 +units=m +no_defs";Proj4js.defs["IGNF:GEOPORTALSPM"]="+title=Geoportail - Saint-Pierre et Miquelon +proj=eqc +nadgrids=null +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=0.000000000 +lat_ts=47.000000000 +x_0=0.000 +y_0=0.000 +units=m +no_defs";Proj4js.defs["IGNF:GEOPORTALWLF"]="+title=Geoportail - Wallis et Futuna +proj=eqc +nadgrids=null +towgs84=0.0000,0.0000,0.0000,0.0000,0.0000,0.0000,0.000000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=0.000000000 +lat_ts=-14.000000000 +x_0=0.000 +y_0=0.000 +units=m +no_defs";Proj4js.defs["IGNF:LAMB93"]="+title=Lambert 93 +proj=lcc +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=46.500000000 +lon_0=3.000000000 +lat_1=44.000000000 +lat_2=49.000000000 +x_0=700000.000 +y_0=6600000.000 +units=m +no_defs";Proj4js.defs["IGNF:MILLER"]="+title=Geoportail - Monde +proj=mill +towgs84=0.0000,0.0000,0.0000,0.0000,0.0000,0.0000,0.000000 +a=6378137.0000 +rf=298.2572221010000 +lon_0=0.000000000 +x_0=0.000 +y_0=0.000 +units=m +no_defs";Proj4js.defs["IGNF:RGF93G"]="+title=Reseau geodesique francais 1993 +proj=longlat +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +units=m +no_defs";Proj4js.defs["IGNF:RGFG95GEO"]="+title=Reseau geodesique francais de Guyane 1995 +proj=longlat +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +units=m +no_defs";Proj4js.defs["IGNF:RGM04GEO"]="+title=RGM04 (Reseau Geodesique de Mayotte 2004) +proj=longlat +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +units=m +no_defs";Proj4js.defs["IGNF:RGM04UTM38S"]="+title=UTM fuseau 38 Sud (Reseau Geodesique de Mayotte 2004) +proj=tmerc +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=45.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=10000000.000 +units=m +no_defs";Proj4js.defs["IGNF:RGNCGEO"]="+title=Reseau Geodesique de Nouvelle-Caledonie +proj=longlat +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +units=m +no_defs";Proj4js.defs["IGNF:RGNCUTM57S"]="+title=Reseau Geodesique de Nouvelle-Caledonie - UTM fuseau 57 Sud +proj=tmerc +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=159.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=10000000.000 +units=m +no_defs";Proj4js.defs["IGNF:RGNCUTM58S"]="+title=Reseau Geodesique de Nouvelle-Caledonie - UTM fuseau 58 Sud +proj=tmerc +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=165.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=10000000.000 +units=m +no_defs";Proj4js.defs["IGNF:RGNCUTM59S"]="+title=Reseau Geodesique de Nouvelle-Caledonie - UTM fuseau 59 Sud +proj=tmerc +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=171.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=10000000.000 +units=m +no_defs";Proj4js.defs["IGNF:RGPFGEO"]="+title=RGPF (Reseau Geodesique de Polynesie Francaise) +proj=longlat +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +units=m +no_defs";Proj4js.defs["IGNF:RGPFUTM5S"]="+title=RGPF - UTM fuseau 5 Sud +proj=tmerc +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=-153.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=10000000.000 +units=m +no_defs";Proj4js.defs["IGNF:RGPFUTM6S"]="+title=RGPF - UTM fuseau 6 Sud +proj=tmerc +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=-147.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=10000000.000 +units=m +no_defs";Proj4js.defs["IGNF:RGPFUTM7S"]="+title=RGPF - UTM fuseau 7 Sud +proj=tmerc +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=-141.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=10000000.000 +units=m +no_defs";Proj4js.defs["IGNF:RGR92GEO"]="+title=Reseau geodesique de la Reunion 1992 +proj=longlat +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +units=m +no_defs";Proj4js.defs["IGNF:RGR92UTM40S"]="+title=RGR92 UTM fuseau 40 Sud +proj=tmerc +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=57.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=10000000.000 +units=m +no_defs";Proj4js.defs["IGNF:RGSPM06GEO"]="+title=Saint-Pierre-et-Miquelon (2006) +proj=longlat +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +units=m +no_defs";Proj4js.defs["IGNF:RGSPM06U21"]="+title=Saint-Pierre-et-Miquelon (2006) UTM Fuseau 21 Nord +proj=tmerc +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=-57.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=0.000 +units=m +no_defs";Proj4js.defs["IGNF:STPL69GEO"]="+title=Saint-Paul 1969 +proj=longlat +towgs84=225.571,-346.608,-46.567,0,0,0,0 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs";Proj4js.defs["IGNF:STPL69UTM43S"]="+title=Saint-Paul 1969 UTM fuseau 43 Sud +proj=tmerc +towgs84=225.571,-346.608,-46.567,0,0,0,0 +a=6378388.0000 +rf=297.0000000000000 +lat_0=0.000000000 +lon_0=75.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=10000000.000 +units=m +no_defs";Proj4js.defs["IGNF:TERA50GEO"]="+title=Pointe Geologie - Perroud 1950 +proj=longlat +towgs84=324.9120,153.2820,172.0260 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs";Proj4js.defs["IGNF:TERA50STEREO"]="+title=Terre Adelie 1950 +proj=stere +towgs84=324.9120,153.2820,172.0260 +a=6378388.0000 +rf=297.0000000000000 +lat_0=-90.000000000 +lon_0=140.000000000 +lat_ts=-67 +k=0.96027295 +x_0=300000.000 +y_0=-2299363.482 +units=m +no_defs";Proj4js.defs["IGNF:UTM01SW84"]="+title=World Geodetic System 1984 UTM fuseau 01 Sud +proj=tmerc +towgs84=0.0000,0.0000,0.0000,0.0000,0.0000,0.0000,0.000000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=-177.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=10000000.000 +units=m +no_defs";Proj4js.defs["IGNF:UTM20W84GUAD"]="+title=World Geodetic System 1984 UTM fuseau 20 Nord-Guadeloupe +proj=tmerc +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=-63.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=0.000 +units=m +no_defs";Proj4js.defs["IGNF:UTM20W84MART"]="+title=World Geodetic System 1984 UTM fuseau 20 Nord-Martinique +proj=tmerc +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=-63.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=0.000 +units=m +no_defs";Proj4js.defs["IGNF:UTM22RGFG95"]="+title=RGFG95 UTM fuseau 22 Nord-Guyane +proj=tmerc +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=-51.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=0.000 +units=m +no_defs";Proj4js.defs["IGNF:UTM39SW84"]="+title=World Geodetic System 1984 UTM fuseau 39 Sud +proj=tmerc +towgs84=0.0000,0.0000,0.0000,0.0000,0.0000,0.0000,0.000000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=51.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=10000000.000 +units=m +no_defs";Proj4js.defs["IGNF:UTM42SW84"]="+title=World Geodetic System 1984 UTM fuseau 42 Sud +proj=tmerc +towgs84=0.0000,0.0000,0.0000,0.0000,0.0000,0.0000,0.000000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=69.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=10000000.000 +units=m +no_defs";Proj4js.defs["IGNF:UTM43SW84"]="+title=World Geodetic System 1984 UTM fuseau 43 Sud +proj=tmerc +towgs84=0.0000,0.0000,0.0000,0.0000,0.0000,0.0000,0.000000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=75.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=10000000.000 +units=m +no_defs";Proj4js.defs["IGNF:WGS84G"]="+title=World Geodetic System 1984 +proj=longlat +towgs84=0.0000,0.0000,0.0000,0.0000,0.0000,0.0000,0.000000 +a=6378137.0000 +rf=298.2572221010000 +units=m +no_defs";Proj4js.defs["IGNF:WGS84RRAFGEO"]="+title=Reseau de reference des Antilles francaises (1988-1991) +proj=longlat +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +units=m +no_defs";OpenLayers.Element.getElementsByTagName=function(a,c){var b=null;if(!c){c=document}if(typeof(c.getElementsByTagName)!="undefined"){b=c.getElementsByTagName(a);if(a=="*"&&(!b||!b.length)){b=c.all}}else{if(a=="*"){b=c.all}else{if(c.all&&c.all.tags){b=b.all.tags(t)}}}return b||[]};OpenLayers.Element.getElementsByClassName=function(h,b,f){var e=function(l,i,j){var k=j.getElementsByClassName(l);return k||[]};var d=function(p,s,m){var j=[];var k="";for(var o=0,n=p.length;o<n;o++){k+="[contains(concat(' ', @class, ' '), ' "+p[o]+" ')]"}var r=[];try{r=document.evaluate(".//"+s+k,m,null,XPathResult.ORDERED_NODE_SNAPSHOT_TYPE,null)}catch(q){return null}for(var o=0,n=r.length;o<n;o++){j[j.length]=r.snapshotItem(o)}return j||[]};var a=function(s,w,o){var k=[];for(var r=0,p=s.length;r<p;r++){var v=new RegExp("\\b"+s[r].replace(/([(){}|*+?.,^$\[\]\\])/g,"\\$1")+"\\b");var u=OpenLayers.Element.getElementsByTagName(w,o);for(var q=0,m=u.length;q<m;q++){if(v.test(u[q].className)){k[k.length]=u[q]}}}return k||[]};if(!f){f=document}if(!b){b="*"}if(!h){return[]}if(f.getElementsByClassName){return e(h,b,f)}var g=null;var c=h.split(" ");if(document.evaluate){g=d(c,b,f)}if(!g){g=a(c,b,f)}return g||[]};OpenLayers.Event.stopObservingElement=function(a){var b=OpenLayers.Util.getElement(a);if(b){var c=b._eventCacheID;if(c){this._removeElementObservers(OpenLayers.Event.observers[c])}}};OpenLayers.Events.prototype.register=function(d,f,e,b){if((e!=null)&&(OpenLayers.Util.indexOf(this.eventTypes,d)!=-1)){if(f==null){f=this.object}var c=this.listeners[d];var a={obj:f,func:e};if(b===undefined){b=c.length}if(b<=0){c.unshift(a)}else{if(b<c.length){c.splice(b,0,a)}else{c.push(a)}}}};OpenLayers.Events.prototype.registerPriority=function(a,c,b){this.register(a,c,b,0)};OpenLayers.Lang.en["no.proj.implementation.found"]="No implementation for Projection handling found";OpenLayers.Lang.en.dd="degrees";if(typeof(OpenLayers.Lang.de)=="undefined"){OpenLayers.Lang.de=OpenLayers.Util.applyDefaults({},OpenLayers.Lang.en)}OpenLayers.Lang.de["no.proj.implementation.found"]="Keine umsetzung für projektions-handling gefunden";OpenLayers.Lang.de.dd="grad";if(typeof(OpenLayers.Lang.es)=="undefined"){OpenLayers.Lang.es=OpenLayers.Util.applyDefaults({},OpenLayers.Lang.en)}OpenLayers.Lang.es.W="Oe";OpenLayers.Lang.es.E="Or";OpenLayers.Lang.es.N="N";OpenLayers.Lang.es.S="S";OpenLayers.Lang.es["no.proj.implementation.found"]="No aplicación para el manejo de proyección encontrado";OpenLayers.Lang.es.dd="grados";if(typeof(OpenLayers.Lang.fr)=="undefined"){OpenLayers.Lang.fr=OpenLayers.Util.applyDefaults({},OpenLayers.Lang.en)}OpenLayers.Lang.fr["no.proj.implementation.found"]="Aucune implémentation d'un gestionnaire de projections n'a été chargé";OpenLayers.Lang.fr.dd="degrés";if(typeof(OpenLayers.Lang.it)=="undefined"){OpenLayers.Lang.it=OpenLayers.Util.applyDefaults({},OpenLayers.Lang.en)}OpenLayers.Lang.it.W="O";OpenLayers.Lang.it.E="E";OpenLayers.Lang.it.N="N";OpenLayers.Lang.it.S="S";OpenLayers.Lang.it["no.proj.implementation.found"]="No di attuazione per la gestione di proiezione trovato";OpenLayers.Lang.it.dd="gradi";OpenLayers.Util.extend(OpenLayers.INCHES_PER_UNIT,{deg:OpenLayers.INCHES_PER_UNIT.dd,degre:OpenLayers.INCHES_PER_UNIT.dd,degree:OpenLayers.INCHES_PER_UNIT.dd,rad:OpenLayers.INCHES_PER_UNIT.dd*0.017453292519943295,gon:OpenLayers.INCHES_PER_UNIT.dd*1.1111111111111112,meters:OpenLayers.INCHES_PER_UNIT.m,meter:OpenLayers.INCHES_PER_UNIT.m,metres:OpenLayers.INCHES_PER_UNIT.m,metre:OpenLayers.INCHES_PER_UNIT.m});OpenLayers.Util.getResolutionFromScale=function(d,a){var b;if(d){if(a==null||OpenLayers.INCHES_PER_UNIT[a]==undefined){a="degrees"}var c=OpenLayers.Util.normalizeScale(d);b=1/(c*OpenLayers.INCHES_PER_UNIT[a]*OpenLayers.DOTS_PER_INCH)}return b};OpenLayers.Util.getScaleFromResolution=function(b,a){if(a==null||OpenLayers.INCHES_PER_UNIT[a]==undefined){a="degrees"}var c=b*OpenLayers.INCHES_PER_UNIT[a]*OpenLayers.DOTS_PER_INCH;return c};OpenLayers.Util.getParameters=function(b){b=b||window.location.href;var a="";if(OpenLayers.String.contains(b,"?")){var c=b.indexOf("?")+1;var e=OpenLayers.String.contains(b,"#")?b.indexOf("#"):b.length;a=b.substring(c,e)}var o={};var d=a.split(/[&;]/);for(var h=0,k=d.length;h<k;++h){var g=d[h].split("=");if(g[0]){var m=decodeURIComponent(g[0]);var l=g[1]||"";l=l.split(",");for(var f=0,n=l.length;f<n;f++){l[f]=decodeURIComponent(unescape(l[f]))}if(l.length==1){l=l[0]}o[m]=l}}return o};OpenLayers.Util.rad=function(a){return a*0.017453292519943295};OpenLayers.Util.deg=function(a){return a*57.29577951308232};OpenLayers.Util.gon=function(a){return a*1.1111111111111112};OpenLayers.Util.distVincenty=function(g,e,i){if(i==undefined||!(i instanceof OpenLayers.Projection)){i=OpenLayers.Projection.CRS84}var N=i.getProperty("semi_major")||6378137,M=i.getProperty("semi_minor")||6356752.3142,H=i.getProperty("inverse_flattening")||298.257223563;H=1/H;var n=OpenLayers.Util.rad(e.lon-g.lon);var K=Math.atan((1-H)*Math.tan(OpenLayers.Util.rad(g.lat)));var J=Math.atan((1-H)*Math.tan(OpenLayers.Util.rad(e.lat)));var m=Math.sin(K),j=Math.cos(K);var l=Math.sin(J),h=Math.cos(J);var r=n,o=2*Math.PI;var q=20;while(Math.abs(r-o)>1e-12&&--q>0){var D=Math.sin(r),c=Math.cos(r);var O=Math.sqrt((h*D)*(h*D)+(j*l-m*h*c)*(j*l-m*h*c));if(O==0){return 0}var F=m*l+j*h*c;var z=Math.atan2(O,F);var k=Math.asin(j*h*D/O);var G=Math.cos(k)*Math.cos(k);var p=F-2*m*l/G;var w=H/16*G*(4+H*(4-3*G));o=r;r=n+(1-w)*H*Math.sin(k)*(z+w*O*(p+w*F*(-1+2*p*p)))}if(q==0){return NaN}var v=G*(N*N-M*M)/(M*M);var y=1+v/16384*(4096+v*(-768+v*(320-175*v)));var x=v/1024*(256+v*(-128+v*(74-47*v)));var E=x*O*(p+x/4*(F*(-1+2*p*p)-x/6*p*(-3+4*O*O)*(-3+4*p*p)));var u=M*y*(z-E);var I=u.toFixed(3)/1000;return I};OpenLayers.Element.insertAfter=function(a,b){if(!b){return null}if(b.nextSibling){return b.parentNode.insertBefore(a,b.nextSibling)}return b.parentNode.appendChild(a)};OpenLayers.Element.addCss=function(b){var a=document.createElement("style");a.setAttribute("type","text/css");if(a.styleSheet){a.styleSheet.cssText=b}else{a.appendChild(document.createTextNode(b))}try{document.getElementsByTagName("head")[0].appendChild(a);return a}catch(c){return null}};OpenLayers.Projection.WKALIASES={WGS84G:["WGS84","EPSG:4326","CRS:84","IGNF:WGS84G","IGNF:WGS84RRAFGEO","IGNF:RGF93G","IGNF:RGFG95GEO","IGNF:RGM04GEO","IGNF:RGNCGEO","IGNF:RGPFGEO","IGNF:RGR92GEO","IGNF:RGSPM06GEO","EPSG:4171","EPSG:4624","EPSG:4627","EPSG:4640","EPSG:4687","EPSG:4749","EPSG:4258"],LAMB93:["IGNF:LAMB93","EPSG:2154"],LAMBE:["IGNF:LAMBE","EPSG:27572","EPSG:27582"],UTM39SW84:["IGNF:UTM39SW84","EPSG:32739"],UTM20W84GUAD:["IGNF:UTM20W84GUAD","EPSG:2969","EPSG:32620"],UTM22RGFG95:["IGNF:UTM22RGFG95","EPSG:2972","EPSG:32622"],UTM42SW84:["IGNF:UTM42SW84","EPSG:32742"],UTM20W84MART:["IGNF:UTM20W84MART","EPSG:2989","EPSG:32620"],RGM04UTM38S:["IGNF:RGM04UTM38S","EPSG:32738"],RGNCUTM57S:["IGNF:RGNCUTM57S","EPSG:32757"],RGNCUTM58S:["IGNF:RGNCUTM58S","EPSG:32758"],RGNCUTM59S:["IGNF:RGNCUTM59S","EPSG:32759"],RGPFUTM5S:["IGNF:RGPFUTM5S","EPSG:3296","EPSG:32705"],RGPFUTM6S:["IGNF:RGPFUTM6S","EPSG:3297","EPSG:32706"],RGPFUTM7S:["IGNF:RGPFUTM7S","EPSG:3298","EPSG:32707"],RGR92UTM40S:["IGNF:RGR92UTM40S","EPSG:2975","EPSG:32740"],UTM43SW84:["IGNF:UTM43SW84","EPSG:32743"],RGSPM06U21:["IGNF:RGSPM06U21","EPSG:32606"],UTM01SW84:["IGNF:UTM01SW84","EPSG:32701"],GOOGLE:["EPSG:3785","EPSG:3857","EPSG:900913","EPSG:102113"]};OpenLayers.Projection.prototype.domainOfValidity=null;OpenLayers.Projection.prototype.initialize=function(e,c){OpenLayers.Util.extend(this,c);this.projCode=e;this.options=OpenLayers.Util.extend({},c);this.aliases=OpenLayers.Util.extend({},this.options.aliases);if(window.Proj4js){this.proj=new Proj4js.Proj(e)}if(this.proj==null){throw OpenLayers.i18n("no.proj.implementation.found")}if(e=="EPSG:4326"||e=="CRS:84"||e=="IGNF:WGS84G"||e=="WGS84"){this.domainOfValidity=new OpenLayers.Bounds(-180,-90,180,90)}else{if(e=="EPSG:3785"||e=="EPSG:3857"||e=="EPSG:900913"||e=="EPSG:102113"||e=="GOOGLE"){this.domainOfValidity=new OpenLayers.Bounds(-180,-85.05113,180,85.05113)}else{if(this.isUTMZoneProjection()){var b=-180,a=-90,d=180,f=90;if(this.getProjName()=="utm"){d=this.getProperty("zone")*6-180;b=d-6;f=84;a=0;if(this.getProperty("south")===true){f=0;a=-80}}else{if(this.getProjName()=="stere"){if(this.getProperty("standard_parallel_1")>0){a=84}else{f=-80}}}this.domainOfValidity=new OpenLayers.Bounds(b,a,d,f)}}}};OpenLayers.Projection.prototype.getCode=function(){if(this.proj instanceof Proj4js.Proj){return this.proj.srsCode}return this.projCode};OpenLayers.Projection.prototype.getUnits=function(){if(this.proj instanceof Proj4js.Proj){return this.proj.units}return null},OpenLayers.Projection.prototype.clone=function(){if(this.proj==null){return null}var a=new OpenLayers.Projection(this.projCode,this.options);a.aliases=OpenLayers.Util.extend({},this.aliases);return a};OpenLayers.Projection.prototype.getProjName=function(){if(this.proj instanceof Proj4js.Proj){return this.proj.projName}return null};OpenLayers.Projection.prototype.getTitle=function(){var a=OpenLayers.i18n(this.projCode);if(a==this.projCode){a=this.getProperty("title");if(a==null){a=this.projCode}}return a};OpenLayers.Projection.prototype.getDatum=function(){if(this.proj instanceof Proj4js.Proj){return this.proj.datum}return null};OpenLayers.Projection.prototype.getProperty=function(a){if(a==undefined){return null}if(this.proj instanceof Proj4js.Proj){switch(a){case"projcs":a="projName";break;case"datum":a="datumCode";break;case"spheroid":a="ellps";break;case"nadgrids":a="nagrids";break;case"semi_major":a="a";break;case"semi_minor":a="b";break;case"inverse_flattening":a="rf";break;case"standard_parallel_1":a=(this.getProjName().match(/t?merc|eqc|stere|utm/)?"lat_ts":"lat1");break;case"standard_parallel_2":a="lat2";break;case"latitude_of_center":case"latitude_of_origin":a="lat0";break;case"longitude_of_center":case"central_meridian":a="long0";break;case"false_easting":a="x0";break;case"false_northing":a="y0";break;case"scale_factor":a="k0";break;case"south":a="utmSouth";break;case"towgs84":a="datum_params";break;case"primem":a="from_greenwich";break;default:break}return this.proj[a]}return null};OpenLayers.Projection.prototype.equals=function(b){var a=false;if(this.proj&&b){var c=b instanceof OpenLayers.Projection?b.getCode():b;if(this.getCode()==c){a=true}else{a=this.isAliasOf(b)}}return a};OpenLayers.Projection.prototype.isAliasOf=function(j){if(!this.proj||!j){return false}var c=this.getCode(),b=j instanceof OpenLayers.Projection?j.getCode():j;if(this.aliases[b]===true){return true}if(this.aliases[b]===false){return false}var h=false,g=false;for(var e in OpenLayers.Projection.WKALIASES){if(OpenLayers.Projection.WKALIASES.hasOwnProperty(e)){var m=OpenLayers.Projection.WKALIASES[e];for(var f=0,d=m.length;f<d&&!(h&&g);f++){if(c==m[f]){h=true;continue}if(b==m[f]){g=true;continue}}if(h||g){break}}}this.aliases[b]=(h&&g);return this.aliases[b]};OpenLayers.Projection.prototype.isCompatibleWith=function(b){if(!this.proj||!b){return false}var d;try{d=b instanceof OpenLayers.Projection?b:new OpenLayers.Projection(b)}catch(c){OpenLayers.Console.error(c.message);return false}var a=false;if(this.equals(d)){a=true}else{try{if(this.getProjName()==d.getProjName()){a=this.getDatum()&&d.getDatum()&&this.getDatum().compare_datums(d.getDatum())}else{if((this.getProjName()=="eqc"&&d.getProjName()=="longlat")||(this.getProjName()=="longlat"&&d.getProjName()=="eqc")){a=this.getDatum()&&d.getDatum()&&this.getDatum().compare_datums(d.getDatum())}}}catch(c){}}if(!(d==b)){d.destroy();d=null}return a};OpenLayers.Projection.prototype.isUTMZoneProjection=function(){if(this.proj==null){return false}if(this.getProjName()=="utm"&&this.getProperty("zone")!=null){return true}if(this.getProjName()=="stere"&&this.getProperty("central_meridian")==0&&this.getProperty("latitude_of_origin")===this.getProperty("standard_parallel_1")&&Math.abs(this.getProperty("latitude_of_origin"))==1.57079632679){return true}return false};OpenLayers.Projection.prototype.destroy=function(){if(this.proj){delete this.proj}if(this.projCode){delete this.projCode}if(this.domainOfValidity){delete this.domainOfValidity}delete this.options;delete this.aliases};OpenLayers.Projection.CRS84=new OpenLayers.Projection("WGS84");OpenLayers.Projection.getUTMZone=function(b){var a=""+(Math.floor(b/6)+31);return a};OpenLayers.Projection.getMGRSZone=function(a,e){var c=["C","D","E","F","G","H","J","K","L","M","N","P","Q","R","S","T","U","V","W"];var b;if(e.lat<-80){if(e.lon<0){b="A"}else{b="B"}return b}if(e.lat>84){if(e.lon<0){b="Y"}else{b="Z"}return b}if(e.lat>72){if(e.lon<0||e.lon>42){b=a+"X"}else{if(e.lon<=9){b="31X"}else{if(e.lon<=21){b="33X"}else{if(e.lon<=33){b="35X"}else{b="37X"}}}}return b}var d=Math.abs(parseInt((e.lat+80)/8,10));b=a+c[d];if(b=="31V"&&e.lon>3){b="32V"}return b};OpenLayers.Projection.transform=function(d,e,b){if(e&&b){if(e.proj instanceof Proj4js.Proj&&b.proj instanceof Proj4js.Proj){if(!e.equals(b)){if(d instanceof Array){for(var c=0,a=d.length;c<a;c++){d[c]=Proj4js.transform(e.proj,b.proj,d[c]);if(d[c] instanceof OpenLayers.Geometry){d[c].bounds=null}}}else{d=Proj4js.transform(e.proj,b.proj,d);if(d instanceof OpenLayers.Geometry){d.bounds=null}}}}else{if(OpenLayers.Projection.transforms[e.getCode()]&&OpenLayers.Projection.transforms[e.getCode()][b.getCode()]){if(d instanceof Array){for(var c=0,a=d.length;c<a;c++){OpenLayers.Projection.transforms[e.getCode()][b.getCode()](d[c]);if(d[c] instanceof OpenLayers.Geometry){d[c].bounds=null}}}else{OpenLayers.Projection.transforms[e.getCode()][b.getCode()](d);if(d instanceof OpenLayers.Geometry){d.bounds=null}}}}}return d};OpenLayers.Bounds.prototype.transform=function(r,h,w){if(!w){var l=OpenLayers.Projection.transform({x:this.left,y:this.bottom},r,h);var g=OpenLayers.Projection.transform({x:this.right,y:this.top},r,h);this.left=l.x<g.x?l.x:g.x;this.bottom=l.y<g.y?l.y:g.y;this.right=g.x>l.x?g.x:l.x;this.top=g.y>l.y?g.y:l.y;return this}var x=h.getProjName()=="longlat"?0.000028:1;var b,d,y,n;var c=1;for(var u=0;u<7;u++){var m=(this.right-this.left)/(1*c);var k=(this.top-this.bottom)/(1*c);var o;var a,v,f,z;var B=[],e=0;for(var s=0;s<c;s++){B[e++]={x:this.left+s*m,y:this.bottom};B[e++]={x:this.right,y:this.bottom+s*k};B[e++]={x:this.right-s*m,y:this.top};B[e++]={x:this.left,y:this.top-s*k}}B=OpenLayers.Projection.transform(B,r,h);if(a==undefined){a=f=B[0].x;v=z=B[0].y}for(var q=0;q<e;q++){o=B[q];if(o.x<a){a=o.x}if(o.y<v){v=o.y}if(o.x>f){f=o.x}if(o.y>z){z=o.y}}B=null;if(b!=undefined&&Math.abs(a-b)<x&&Math.abs(v-d)<x&&Math.abs(f-y)<x&&Math.abs(z-n)<x){this.left=a;this.bottom=v;this.right=f;this.top=z;return this}b=a;d=v;y=f;n=z;c*=2}this.left=b;this.bottom=d;this.right=y;this.top=n;return this};OpenLayers.LonLat.prototype.equals=function(e,d){var c=false;if(!d){d=0.000001}if(e!=null){var b=(!isNaN(this.lon)&&!isNaN(e.lon))?Math.abs(this.lon-e.lon):1;var a=(!isNaN(this.lat)&&!isNaN(e.lat))?Math.abs(this.lat-e.lat):1;c=((b<=d&&a<=d)||(isNaN(this.lon)&&isNaN(this.lat)&&isNaN(e.lon)&&isNaN(e.lat)))}return c};OpenLayers.Map.prototype.removeLayer=function(c,e){if(e==null){e=true}if(c.isFixed){this.viewPortDiv.removeChild(c.div)}else{if(this.layerContainerDiv.childNodes.length>0){this.layerContainerDiv.removeChild(c.div)}}OpenLayers.Util.removeItem(this.layers,c);c.removeMap(this);c.map=null;if(this.baseLayer==c){this.baseLayer=null;if(e){for(var b=0,a=this.layers.length;b<a;b++){var d=this.layers[b];if(d.isBaseLayer||this.allOverlays){this.setBaseLayer(d);break}}}}this.resetLayersZIndex();this.events.triggerEvent("removelayer",{layer:c})};OpenLayers.Map.prototype.isValidZoomLevel=function(b){var a=(b!=null);a=a&&(b>=0);a=a&&(b<this.getNumZoomLevels());if(this.minZoomLevel!=undefined){a=a&&(b>=this.minZoomLevel)}if(this.maxZoomLevel!=undefined){a=a&&(b<=this.maxZoomLevel)}return a};OpenLayers.Map.prototype.getProjectionObject=OpenLayers.Map.prototype.getProjection=function(){var a=null;if(this.baseLayer!=null){a=this.baseLayer.projection}return a?a:null};OpenLayers.Map.prototype.getDisplayProjection=function(){var a=null;if(this.displayProjection){a=this.displayProjection}else{a=this.getProjection()}return a};OpenLayers.Map.prototype.getMaxExtent=function(b){var a=null;if(b&&b.restricted&&this.restrictedExtent){a=this.restrictedExtent}else{if(this.baseLayer!=null){a=this.baseLayer.maxExtent}}if(!a){this.maxExtent=new OpenLayers.Bounds(-180,-90,180,90);this.maxExtent.transform(OpenLayers.Projection.CRS84,this.getProjection(),true);a=this.maxExtent}return a};OpenLayers.Layer.prototype.dataURL=null;OpenLayers.Layer.prototype.metadataURL=null;OpenLayers.Layer.prototype.savedStates={};OpenLayers.Layer.prototype.onLoadError=null;OpenLayers.Layer.WMS.Untiled.prototype.RESOLUTION_PROPERTIES=OpenLayers.Layer.WMS.prototype.RESOLUTION_PROPERTIES=OpenLayers.Layer.Vector.RootContainer.prototype.RESOLUTION_PROPERTIES=OpenLayers.Layer.Vector.prototype.RESOLUTION_PROPERTIES=OpenLayers.Layer.HTTPRequest.prototype.RESOLUTION_PROPERTIES=OpenLayers.Layer.Grid.prototype.RESOLUTION_PROPERTIES=OpenLayers.Layer.GML.prototype.RESOLUTION_PROPERTIES=OpenLayers.Layer.prototype.RESOLUTION_PROPERTIES=["projection","units","scales","resolutions","maxScale","minScale","maxResolution","minResolution","minExtent","maxExtent","numZoomLevels","maxZoomLevel"];OpenLayers.Layer.prototype.initialize=function(b,a){this.addOptions(a);this.name=b;if(this.id==null){this.id=OpenLayers.Util.createUniqueID(this.CLASS_NAME+"_");this.div=OpenLayers.Util.createDiv(this.id);this.div.style.width="100%";this.div.style.height="100%";this.div.dir="ltr";this.events=new OpenLayers.Events(this,this.div,this.EVENT_TYPES);if(this.eventListeners instanceof Object){this.events.on(this.eventListeners)}}if(this.wrapDateLine){this.displayOutsideMaxExtent=true}this.savedStates={};if(this.GeoRM){if(!this.events){this.events=new OpenLayers.Events(this,this.div,this.EVENT_TYPES)}this.events.register("loadstart",this,this.updateGeoRM);this.events.register("move",this,this.updateGeoRM);this.events.register("moveend",this,this.updateGeoRM)}};OpenLayers.Layer.prototype.destroy=function(a){if(a==null){a=true}if(this.map!=null){this.map.removeLayer(this,a)}this.projection=null;this.map=null;this.name=null;this.div=null;this.options=null;this.savedStates=null;if(this.GeoRM){this.events.unregister("moveend",this,this.updateGeoRM);this.events.unregister("move",this,this.updateGeoRM);this.events.unregister("loadstart",this,this.updateGeoRM)}if(this.events){if(this.eventListeners){this.events.un(this.eventListeners)}this.events.destroy()}this.eventListeners=null;this.events=null};OpenLayers.Layer.prototype.clone=function(a){if(a==null){a=new OpenLayers.Layer(this.name,this.getOptions())}OpenLayers.Util.applyDefaults(a,this);a.map=null;a.savedStates={};return a};OpenLayers.Layer.WMS.Untiled.prototype.addOptions=OpenLayers.Layer.WMS.prototype.addOptions=OpenLayers.Layer.Vector.RootContainer.prototype.addOptions=OpenLayers.Layer.Vector.prototype.addOptions=OpenLayers.Layer.HTTPRequest.prototype.addOptions=OpenLayers.Layer.Grid.prototype.addOptions=OpenLayers.Layer.GML.prototype.addOptions=OpenLayers.Layer.prototype.addOptions=function(d){if(this.options==null){this.options={}}OpenLayers.Util.extend(this.options,d);OpenLayers.Util.extend(this,d);var b=this.projection;if(typeof b=="string"){this.projection=new OpenLayers.Projection(b)}if(this.map){var a=false;for(var c in d){if(d.hasOwnProperty(c)&&OpenLayers.Util.indexOf(this.RESOLUTION_PROPERTIES,c)>0){a=true;break}}if(a){this.initResolutions()}}};OpenLayers.Layer.prototype.updateGeoRM=function(){return(this.GeoRM.getToken()!=null||this.isBaseLayer)};OpenLayers.Layer.WMS.Untiled.prototype.getNativeProjection=OpenLayers.Layer.WMS.prototype.getNativeProjection=OpenLayers.Layer.Vector.RootContainer.prototype.getNativeProjection=OpenLayers.Layer.Vector.prototype.getNativeProjection=OpenLayers.Layer.HTTPRequest.prototype.getNativeProjection=OpenLayers.Layer.Grid.prototype.getNativeProjection=OpenLayers.Layer.GML.prototype.getNativeProjection=OpenLayers.Layer.prototype.getNativeProjection=function(){if(this.isBaseLayer){this.projection=this.projection||this.nativeProjection}else{if(!this.projection&&this.map){this.projection=this.map.getProjection()}}if(this.projection&&typeof(this.projection)=="string"){this.projection=new OpenLayers.Projection(this.projection)}return this.projection};OpenLayers.Layer.prototype.changeBaseLayer=function(a){if(!a){return false}if(!(a.baseLayer)){return false}if(!this.map){return false}if(this.isBaseLayer){return true}var c=this.map.getProjection();var b=a.baseLayer.getNativeProjection();if(this.maxExtent){this.maxExtent.transform(b,c,true)}if(this.restrictedExtent){this.restrictedExtent.transform(b,c,true)}return true};OpenLayers.Layer.prototype.getCompatibleProjection=function(c){if(this.aggregate!=undefined){return undefined}var b=this.getNativeProjection();if(b==null){if(this.map==null){return undefined}return null}if(c==null){c=this.map.baseLayer;if(c==null){return undefined}}var d=c.getNativeProjection();var a=b.isCompatibleWith(d)?b:null;return a};OpenLayers.Tile.prototype.initialize=function(d,a,e,b,c){this.layer=d;this.position=a.clone();this.bounds=e.clone();this.url=b;this.size=c.clone();this.id=OpenLayers.Util.createUniqueID("Tile_");this.events=new OpenLayers.Events(this,null,this.EVENT_TYPES);if(d.GeoRM){this.events.register("reload",this,this.updateGeoRM);this.events.register("loadstart",this,this.updateGeoRM)}};OpenLayers.Tile.prototype.destroy=function(){if(this.layer.GeoRM){this.events.unregister("reload",this,this.updateGeoRM);this.events.unregister("loadstart",this,this.updateGeoRM)}this.layer=null;this.bounds=null;this.size=null;this.position=null;this.events.destroy();this.events=null};OpenLayers.Tile.prototype.updateGeoRM=function(){return(this.layer.GeoRM.getToken()!=null)};OpenLayers.Layer.Grid.prototype.mergeNewParams=OpenLayers.Layer.HTTPRequest.prototype.mergeNewParams=function(b){this.params=OpenLayers.Util.extend(this.params,b);if(this.GeoRM){OpenLayers.Util.extend(this.params,this.GeoRM.token)}var a=this.redraw();if(this.map!=null){this.map.events.triggerEvent("changelayer",{layer:this,property:"params"})}return a};OpenLayers.Layer.Grid.prototype.getFullRequestString=OpenLayers.Layer.HTTPRequest.prototype.getFullRequestString=function(g,d){var b=d||this.url;var f=OpenLayers.Util.extend({},this.params);f=OpenLayers.Util.extend(f,g);if(this.GeoRM){OpenLayers.Util.extend(f,this.GeoRM.token)}var e=OpenLayers.Util.getParameterString(f);if(b instanceof Array){b=this.selectUrl(e,b)}var a=OpenLayers.Util.upperCaseObject(OpenLayers.Util.getParameters(b));for(var c in f){if(c.toUpperCase() in a){delete f[c]}}e=OpenLayers.Util.getParameterString(f);return OpenLayers.Util.urlAppend(b,e)};OpenLayers.Layer.WMS.prototype.getFullRequestString=function(e,c){var b=this.getNativeProjection();var a="SRS";if(this.params.VERSION.match(/^1\.3\..*/)){a="CRS";if(typeof(this.layerLimit)=="number"){var d=this.params.LAYERS.split(",");if(this.layerLimit<d.length){this.params.LAYERS=d.slice(0,this.layerLimit).join(",");OpenLayers.Console.warn("["+d.slice(this.layerLimit).join(",")+"]")}}}this.params[a]=(b==null)?null:b.getCode();return OpenLayers.Layer.Grid.prototype.getFullRequestString.apply(this,arguments)};OpenLayers.Layer.WMS.prototype.getURL=function(c){var f=c.clone();f=this.adjustBounds(f);f.transform(this.map.getProjection(),this.getNativeProjection(),true);var d=this.getImageSize();var g={};var b=this.reverseAxisOrder();g.BBOX=this.encodeBBOX?f.toBBOX(null,b):f.toArray(b);g.WIDTH=d.w;g.HEIGHT=d.h;var a=this.getFullRequestString(g);return a};OpenLayers.Layer.WMS.prototype.getDataExtent=function(){return this.maxExtent};OpenLayers.Feature.Vector.prototype.destroyPopup=function(){OpenLayers.Feature.prototype.destroyPopup.apply(this,arguments)};OpenLayers.Control.KeyboardDefaults.prototype.defaultKeyPress=function(a){var c=false;switch(a.keyCode){case OpenLayers.Event.KEY_LEFT:this.map.pan(-this.slideFactor,0);c=true;break;case OpenLayers.Event.KEY_RIGHT:this.map.pan(this.slideFactor,0);c=true;break;case OpenLayers.Event.KEY_UP:this.map.pan(0,-this.slideFactor);c=true;break;case OpenLayers.Event.KEY_DOWN:this.map.pan(0,this.slideFactor);c=true;break;case 33:var b=this.map.getSize();this.map.pan(0,-0.75*b.h);c=true;break;case 34:var b=this.map.getSize();this.map.pan(0,0.75*b.h);c=true;break;case 35:var b=this.map.getSize();this.map.pan(0.75*b.w,0);c=true;break;case 36:var b=this.map.getSize();this.map.pan(-0.75*b.w,0);c=true;break;case 43:case 61:case 187:case 107:this.map.zoomIn();c=true;break;case 45:case 54:case 109:case 189:case 95:this.map.zoomOut();c=true;break}if(c===true){OpenLayers.Event.stop(a)}};OpenLayers.Geometry.Point.prototype.transform=function(b,a){OpenLayers.Projection.transform(this,b,a);return this};OpenLayers.Geometry.LineString.prototype.transform=OpenLayers.Geometry.Curve.prototype.transform=OpenLayers.Geometry.MultiPoint.prototype.transform=function(b,a){OpenLayers.Projection.transform(this.components,b,a);if(b&&a){this.bounds=null}return this};OpenLayers.Geometry.LineString.prototype.getGeodesicLength=OpenLayers.Geometry.Curve.prototype.getGeodesicLength=function(b){var e=this;var c=b||OpenLayers.Projection.CRS84;if(b){if(!OpenLayers.Projection.CRS84.equals(b)){e=this.clone().transform(b,OpenLayers.Projection.CRS84);c=OpenLayers.Projection.CRS84}}var f=0;if(e.components&&(e.components.length>1)){var h,g;for(var d=1,a=e.components.length;d<a;d++){h=e.components[d-1];g=e.components[d];f+=OpenLayers.Util.distVincenty({lon:h.x,lat:h.y},{lon:g.x,lat:g.y},c)}}return f*1000};OpenLayers.Geometry.LinearRing.prototype.getGeodesicArea=function(e){var c=this;var g=e||OpenLayers.Projection.CRS84;if(e){if(!OpenLayers.Projection.CRS84.equals(e)){c=this.clone().transform(e,g);g=OpenLayers.Projection.CRS84}}var b=0;var f=c.components&&c.components.length;var h=g.getProperty("semi_major")||6378137;if(f>2){var k,j;for(var d=0;d<f-1;d++){k=c.components[d];j=c.components[d+1];b+=OpenLayers.Util.rad(j.x-k.x)*(2+Math.sin(OpenLayers.Util.rad(k.y))+Math.sin(OpenLayers.Util.rad(j.y)))}b=b*h*h/2}return b};OpenLayers.Renderer.VML.prototype.getResolution=OpenLayers.Renderer.SVG.prototype.getResolution=OpenLayers.Renderer.Elements.prototype.getResolution=OpenLayers.Renderer.Canvas.prototype.getResolution=OpenLayers.Renderer.prototype.getResolution=function(){this.resolution=this.resolution||(this.map?this.map.getResolution():null);return this.resolution};OpenLayers.Renderer.VML.prototype.removeText=OpenLayers.Renderer.SVG.prototype.removeText=OpenLayers.Renderer.Elements.prototype.removeText=function(b){var a=document.getElementById(b+this.LABEL_ID_SUFFIX);if(a){this.textRoot.removeChild(a)}var c=document.getElementById(b+this.LABEL_ID_SUFFIX+"_bg");if(c){this.textRoot.removeChild(c)}};OpenLayers.Renderer.VML.prototype.setExtent=function(j,a){OpenLayers.Renderer.Elements.prototype.setExtent.apply(this,arguments);var c=this.getResolution();if(c==null){return false}var b=(j.left/c)|0;var f=(j.top/c-this.size.h)|0;if(a||!this.offset){this.offset={x:b,y:f};b=0;f=0}else{b=b-this.offset.x;f=f-this.offset.y}var l=b+" "+f;this.root.coordorigin=l;var h=[this.root,this.vectorRoot,this.textRoot];var g;for(var d=0,e=h.length;d<e;++d){g=h[d];var k=this.size.w+" "+this.size.h;g.coordsize=k}this.root.style.flip="y";return true};OpenLayers.Renderer.VML.prototype.drawText=function(d,a,h){var g=this.nodeFactory(d+this.LABEL_ID_SUFFIX,"olv:rect");var f=this.nodeFactory(d+this.LABEL_ID_SUFFIX+"_textbox","olv:textbox");var c=this.getResolution();g.style.left=((h.x/c-this.offset.x)|0)+"px";g.style.top=((h.y/c-this.offset.y)|0)+"px";g.style.flip="y";f.innerText=a.label;if(a.labelBackgroundColor){f.style.backgroundColor=a.labelBackgroundColor}if(a.labelBorderColor||a.labelBorderSize){f.style.border="solid "+(a.labelBorderSize?a.labelBorderSize:"1px")+" "+(a.labelBorderColor?a.labelBorderColor:"#000000")}if(a.fontColor){f.style.color=a.fontColor}if(a.fontOpacity){f.style.filter="alpha(opacity="+(a.fontOpacity*100)+")"}if(a.fontFamily){f.style.fontFamily=a.fontFamily}if(a.fontSize){f.style.fontSize=a.fontSize}if(a.fontWeight){f.style.fontWeight=a.fontWeight}if(a.labelSelect===true){g._featureId=d;f._featureId=d;f._geometry=h;f._geometryClass=h.CLASS_NAME}f.style.whiteSpace="nowrap";f.inset="1px,0px,0px,0px";if(!g.parentNode){g.appendChild(f);this.textRoot.appendChild(g)}var e=a.labelAlign||"cm";var i=f.clientWidth*(OpenLayers.Renderer.VML.LABEL_SHIFT[e[0]||"c"]);var b=f.clientHeight*(OpenLayers.Renderer.VML.LABEL_SHIFT[e[1]||"m"]);g.style.left=parseInt(g.style.left)-i-1+"px";g.style.top=parseInt(g.style.top)+b+"px"};OpenLayers.Renderer.SVG.prototype.drawText=function(e,a,n){var b=this.getResolution();var m=(n.x/b+this.left);var i=(n.y/b-this.top);var l=this.nodeFactory(e+this.LABEL_ID_SUFFIX,"text");var j=this.nodeFactory(e+this.LABEL_ID_SUFFIX+"_tspan","tspan");l.setAttributeNS(null,"x",m);l.setAttributeNS(null,"y",-i);if(a.fontColor){l.setAttributeNS(null,"fill",a.fontColor)}if(a.fontOpacity){l.setAttributeNS(null,"opacity",a.fontOpacity)}if(a.fontFamily){l.setAttributeNS(null,"font-family",a.fontFamily)}if(a.fontSize){l.setAttributeNS(null,"font-size",a.fontSize)}if(a.fontWeight){l.setAttributeNS(null,"font-weight",a.fontWeight)}if(a.labelSelect===true){l.setAttributeNS(null,"pointer-events","visible");l._featureId=e;j._featureId=e;j._geometry=n;j._geometryClass=n.CLASS_NAME}else{l.setAttributeNS(null,"pointer-events","none")}var f=a.labelAlign||"cm";l.setAttributeNS(null,"text-anchor",OpenLayers.Renderer.SVG.LABEL_ALIGN[f[0]]||"middle");if(this.isGecko){l.setAttributeNS(null,"dominant-baseline",OpenLayers.Renderer.SVG.LABEL_ALIGN[f[1]]||"central")}else{j.setAttributeNS(null,"baseline-shift",OpenLayers.Renderer.SVG.LABEL_VSHIFT[f[1]]||"-35%")}j.textContent=a.label;if(!l.parentNode){l.appendChild(j);this.textRoot.appendChild(l)}if(a.labelBackgroundColor||a.labelBorderColor||a.labelBorderSize){var d=this.nodeFactory(e+this.LABEL_ID_SUFFIX+"_bg","rect");if(a.labelBackgroundColor){d.setAttributeNS(null,"fill",a.labelBackgroundColor)}if(a.labelBorderColor||a.labelBorderSize){d.setAttributeNS(null,"stroke",(a.labelBorderColor?a.labelBorderColor:"#000000"));d.setAttributeNS(null,"stroke-width",(a.labelBorderSize?a.labelBorderSize:"0.5"))}var o=l.getBBox();var g=o.width;var c=o.height;var k=2;if(a.labelPadding){var h=a.labelPadding.indexOf("px");if(h==-1){k=a.labelPadding}else{k=parseInt(a.labelPadding.substr(0,h))}}d.setAttributeNS(null,"x",o.x-k);d.setAttributeNS(null,"y",o.y-k);d.setAttributeNS(null,"height",(c+k*2)+"px");d.setAttributeNS(null,"width",(g+k*2)+"px");this.textRoot.insertBefore(d,l)}};OpenLayers.Layer.GML.prototype.addFeatures=OpenLayers.Layer.Vector.prototype.addFeatures=function(b,j){if(!(b instanceof Array)){b=[b]}var g=!j||!j.silent;if(g){var a={features:b};var f=this.events.triggerEvent("beforefeaturesadded",a);if(f===false){return}b=a.features}for(var c=0,e=b.length;c<e;c++){if(c!=(b.length-1)){this.renderer.locked=true}else{this.renderer.locked=false}var h=b[c];if(!(h instanceof OpenLayers.Feature.Vector)){continue}if(this.geometryType&&!(h.geometry.CLASS_NAME==this.geometryType)){var d=OpenLayers.i18n("componentShouldBe",{geomType:this.geometryType});throw d}h.layer=this;if(!h.style&&this.style){h.style=OpenLayers.Util.extend({},this.style)}if(g){if(this.events.triggerEvent("beforefeatureadded",{feature:h})===false){continue}this.preFeatureInsert(h)}this.features.push(h);this.drawFeature(h);if(g){this.events.triggerEvent("featureadded",{feature:h});this.onFeatureInsert(h)}}if(g){this.events.triggerEvent("featuresadded",{features:b})}};OpenLayers.Layer.Vector.RootContainer.prototype.setMap=function(a){OpenLayers.Layer.Vector.prototype.setMap.apply(this,arguments);this.collectRoots();a.events.on({changelayer:this.handleChangeLayer,removelayer:this.handleRemoveLayer,scope:this})};OpenLayers.Layer.Vector.RootContainer.prototype.removeMap=function(a){a.events.un({changelayer:this.handleChangeLayer,removelayer:this.handleRemoveLayer,scope:this});this.resetRoots();OpenLayers.Layer.Vector.prototype.removeMap.apply(this,arguments)};OpenLayers.Layer.Vector.RootContainer.prototype.handleRemoveLayer=function(a){var c=a.layer;for(var b=0;b<this.layers.length;b++){if(c==this.layers[b]){this.layers.splice(b,1);this.renderer.eraseFeatures(c.features);return}}};OpenLayers.Format.XML.prototype.read=function(d){var b=d.indexOf("<");if(b>0){d=d.substring(b)}var c=OpenLayers.Util.Try(OpenLayers.Function.bind((function(){var e;if(window.ActiveXObject&&!this.xmldom){e=new ActiveXObject("Microsoft.XMLDOM")}else{e=this.xmldom}e.loadXML(d);return e}),this),function(){return new DOMParser().parseFromString(d,"text/xml")},function(){var e=new XMLHttpRequest();e.open("GET","data:text/xml;charset=utf-8,"+encodeURIComponent(d),false);if(e.overrideMimeType){e.overrideMimeType("text/xml")}e.send(null);return e.responseXML});/*var a=OpenLayers.Request.XMLHttpRequest.getParseErrorText(c);if(a!=OpenLayers.Request.XMLHttpRequest.PARSED_OK&&a!=OpenLayers.Request.XMLHttpRequest.PARSED_EMPTY){alert(OpenLayers.i18n(a))}*/if(this.keepData){this.data=c}return c};OpenLayers.Format.XML.prototype.write=function(b){var c;if(b.xml!=undefined){c=b.xml}else{var a=new XMLSerializer();if(b.nodeType==1){var d=document.implementation.createDocument("","",null);if(d.importNode){b=d.importNode(b,true)}d.appendChild(b);c=a.serializeToString(d)}else{c=a.serializeToString(b)}}return c};OpenLayers.Format.KML.prototype.setAttributeNS=OpenLayers.Format.OSM.prototype.setAttributeNS=OpenLayers.Format.XML.prototype.setAttributeNS=function(d,c,a,e){if(e==null||e==undefined){e=""}if(d.setAttributeNS){d.setAttributeNS(c,a,e)}else{if(this.xmldom){if(c){var b=d.ownerDocument.createNode(2,a,c);b.nodeValue=e;d.setAttributeNode(b)}else{d.setAttribute(a,e)}}else{throw OpenLayers.i18n("xml.setattributens")}}};OpenLayers.Format.KML.prototype.extractFolders=false;OpenLayers.Format.KML.prototype.read=function(b){this.features=[];this.styles={};this.fetched={};if(this.extractFolders){this.folders={}}var a={depth:0,styleBaseUrl:this.styleBaseUrl};this.parseData(b,a);return this.extractFolders?this.folders:this.features};OpenLayers.Format.KML.prototype.parseData=function(c,l){if(typeof c=="string"){c=OpenLayers.Format.XML.prototype.read.apply(this,[c])}var g=["Link","NetworkLink","Style","StyleMap","Placemark"];for(var d=0,h=g.length;d<h;++d){var j=g[d];var b=this.getElementsByTagNameNS(c,"*",j);if(b.length==0){continue}switch(j.toLowerCase()){case"link":case"networklink":this.parseLinks(b,l);break;case"style":if(this.extractStyles){this.parseStyles(b,l)}break;case"stylemap":if(this.extractStyles){this.parseStyleMaps(b,l)}break;case"placemark":this.parseFeatures(b,l);break}}if(this.extractFolders){var e=[];for(var k in this.folders){e.push(this.folders[k])}this.folders=e}return this.features};OpenLayers.Format.KML.prototype.parseStyle=function(C){var K={};var r=["LineStyle","PolyStyle","IconStyle","BalloonStyle","LabelStyle"];var e,N,g,d,l;for(var H=0,J=r.length;H<J;++H){e=r[H];l=this.getElementsByTagNameNS(C,"*",e)[0];if(!l){continue}switch(e.toLowerCase()){case"linestyle":var c=this.parseProperty(l,"*","color");var E=this.parseKmlColor(c);if(E){K.strokeColor=E.color;K.strokeOpacity=E.opacity}var B=this.parseProperty(l,"*","width");if(B){K.strokeWidth=B}break;case"polystyle":var c=this.parseProperty(l,"*","color");var E=this.parseKmlColor(c);if(E){K.fillOpacity=E.opacity;K.fillColor=E.color}var F=this.parseProperty(l,"*","fill");if(F=="0"){K.fillColor="none"}var j=this.parseProperty(l,"*","outline");if(j=="0"){K.strokeWidth="0"}break;case"iconstyle":var P=parseFloat(this.parseProperty(l,"*","scale")||1);var B=32*P;var v=32*P;var O=this.getElementsByTagNameNS(l,"*","Icon")[0];if(O){var G=this.parseProperty(O,"*","href");if(G){var q=this.parseProperty(O,"*","w");var I=this.parseProperty(O,"*","h");var f="http://maps.google.com/mapfiles/kml";if(OpenLayers.String.startsWith(G,f)&&!q&&!I){q=64;I=64;P=P/2}q=q||I;I=I||q;if(q){B=parseInt(q)*P}if(I){v=parseInt(I)*P}var b=G.match(this.regExes.kmlIconPalette);if(b){var L=b[1];var u=b[2];var p=this.parseProperty(O,"*","x");var o=this.parseProperty(O,"*","y");var n=p?p/32:0;var m=o?(7-o/32):7;var k=m*8+n;G="http://maps.google.com/mapfiles/kml/pal"+L+"/icon"+k+u}K.graphicOpacity=1;K.externalGraphic=G}}var s=this.getElementsByTagNameNS(l,"*","hotSpot")[0];if(s){var p=parseFloat(s.getAttribute("x"));var o=parseFloat(s.getAttribute("y"));var D=s.getAttribute("xunits");if(D=="pixels"){K.graphicXOffset=-p*P}else{if(D=="insetPixels"){K.graphicXOffset=-B+(p*P)}else{if(D=="fraction"){K.graphicXOffset=-B*p}}}var M=s.getAttribute("yunits");if(M=="pixels"){K.graphicYOffset=-v+(o*P)+1}else{if(M=="insetPixels"){K.graphicYOffset=-(o*P)+1}else{if(M=="fraction"){K.graphicYOffset=-v*(1-o)+1}}}}K.graphicWidth=B;K.graphicHeight=v;break;case"balloonstyle":var a=this.getElementsByTagNameNS(l,"*","text")[0];if(a){a=OpenLayers.Util.getXmlNodeValue(a)}if(a){K.balloonStyle=a.replace(this.regExes.straightBracket,"${$1}")}break;case"labelstyle":var c=this.parseProperty(l,"*","color");var E=this.parseKmlColor(c);if(E){K.fontColor=E.color;K.fontOpacity=E.opacity}break;default:}}if(!K.strokeColor&&K.fillColor){K.strokeColor=K.fillColor}var z=C.getAttribute("id");if(z&&K){K.id=z}return K};OpenLayers.Format.KML.prototype.parseFeatures=function(b,m){var f=new Array(b.length);for(var g=0,j=b.length;g<j;g++){var d=b[g];var h=d.parentNode;var l=this.parseFeature.apply(this,[d]);if(l){if(this.extractStyles&&l.attributes&&l.attributes.styleUrl){l.style=this.getStyle(l.attributes.styleUrl,m)}if(this.extractStyles){var k=this.getElementsByTagNameNS(d,"*","Style")[0];if(k){var e=this.parseStyle(k);if(e){l.style=OpenLayers.Util.extend(l.style,e)}}}if(h&&h.nodeName.toLowerCase()=="folder"&&this.extractFolders){var c=this.parseAttributes(h);var a=c.name;if(this.folders[a]==undefined){this.folders[a]=c;this.folders[a]["features"]=[]}this.folders[a].features.push(l)}f[g]=l}else{throw"Bad Placemark: "+g}}this.features=this.features.concat(f)};OpenLayers.Format.KML.prototype.parseAttributes=function(d){var e={};var f=d.getElementsByTagName("ExtendedData");if(f.length){e=this.parseExtendedData(f[0])}var b,l,k;var c=d.childNodes;for(var g=0,h=c.length;g<h;++g){b=c[g];if(b.nodeType==1){l=b.childNodes;if(l.length>=1&&l.length<=3){var k;switch(l.length){case 1:k=l[0];break;case 2:if(l[0].nodeType==4){k=l[0];break}k=l[1];break;case 3:default:k=l[1];break}if(k.nodeType==3||k.nodeType==4){var a=(b.prefix)?b.nodeName.split(":")[1]:b.nodeName;var j=OpenLayers.Util.getXmlNodeValue(k);if(j){j=j.replace(this.regExes.trimSpace,"");e[a]=j}}}}}return e};OpenLayers.Format.KML.prototype.parseExtendedData=function(b){var d={};var h=1;var c=null;var f,j=0;var e,m,g,n,l,a;do{switch(h){case 1:c=b.getElementsByTagName("Data");break;case 2:c=b.getElementsByTagName("SimpleData");break;case 3:var k=this.getAttributeNodeNS(b,"xlink","prefix");if(k==null){c=[]}else{c=this.getElementsByTagNameNS(b,k.nodeValue,"*")}default:c=[];break}j=c.length;if(j==0){h++;continue}for(f=0;f<j;f++){e=c[f];m=h!=3?e.getAttribute("name"):(e.localName||e.nodeName.split(":").pop());g={};n=h==1?e.getElementsByTagName("value"):[e];l="";if(n.length>0){n=n[0].childNodes;switch(n.length){case 0:n=null;break;case 1:n=n[0];break;case 2:if(n[0].nodeType==4){n=n[0];break}n=n[1];break;case 3:default:n=n[1];break}if(n&&(n.nodeType==3||n.nodeType==4)){l=OpenLayers.Util.getXmlNodeValue(n);if(l){l=l.replace(this.regExes.trimSpace,"")}}}g.value=l;a=e.getElementsByTagName("displayName");if(a.length){g.displayName=this.getChildValue(a[0])}d[m]=g}h++}while(h<=3);return d};OpenLayers.Format.OSM.prototype.createXML.point=function(a){var e=null;var c=a.geometry?a.geometry:a;if(this.internalProjection&&this.externalProjection){c=c.clone();c.transform(this.internalProjection,this.externalProjection)}var d=false;if(a.osm_id){e=a.osm_id;if(this.created_nodes[e]){d=true}}else{e=-this.osm_id;this.osm_id++}if(d){b=this.created_nodes[e]}else{var b=this.createElementNS(null,"node")}this.created_nodes[e]=b;b.setAttribute("id",e);b.setAttribute("lon",c.x);b.setAttribute("lat",c.y);if(a.attributes){this.serializeTags(a,b)}this.setState(a,b);return d?[]:[b]};var Geoportal={singleFile:true};(function(){var g=(typeof(Geoportal)=="object"&&Geoportal.singleFile);window.Geoportal={_scriptName:(!g)?"lib/Geoportal.js":"GeoportalMin.js",_scriptLocation:null,_getScriptLocation:function(){if(Geoportal._scriptLocation){return Geoportal._scriptLocation}var q=Geoportal._scriptName;var p=q.length;var h=document.documentElement.getElementsByTagName("script");for(var n=0;n<h.length;n++){var r=h[n].getAttribute("src");if(r){var m=r.lastIndexOf(q);var o=r.lastIndexOf("?");if(o<0){o=r.length}if((m>-1)&&(m+p==o)){Geoportal._scriptLocation=r.slice(0,-p);break}}}return Geoportal._scriptLocation||""}};if(!g){var j=["../../openlayers/lib/OpenLayers/SingleFile.js","../../openlayers/lib/OpenLayers.js","../../openlayers/lib/OpenLayers/Util.js","../../openlayers/lib/OpenLayers/BaseTypes.js","../../openlayers/lib/OpenLayers/BaseTypes/Class.js","../../openlayers/lib/OpenLayers/BaseTypes/Bounds.js","../../openlayers/lib/OpenLayers/BaseTypes/Element.js","../../openlayers/lib/OpenLayers/BaseTypes/LonLat.js","../../openlayers/lib/OpenLayers/BaseTypes/Pixel.js","../../openlayers/lib/OpenLayers/BaseTypes/Size.js","../../openlayers/lib/OpenLayers/Console.js","../../openlayers/lib/OpenLayers/Tween.js","../../openlayers/lib/Rico/Corner.js","../../openlayers/lib/Rico/Color.js","../../openlayers/lib/OpenLayers/Ajax.js","../../openlayers/lib/OpenLayers/Events.js","../../openlayers/lib/OpenLayers/Request.js","../../openlayers/lib/OpenLayers/Request/XMLHttpRequest.js","../../openlayers/lib/OpenLayers/Projection.js","../../openlayers/lib/OpenLayers/Map.js","../../openlayers/lib/OpenLayers/Layer.js","../../openlayers/lib/OpenLayers/Icon.js","../../openlayers/lib/OpenLayers/Marker.js","../../openlayers/lib/OpenLayers/Marker/Box.js","../../openlayers/lib/OpenLayers/Popup.js","../../openlayers/lib/OpenLayers/Tile.js","../../openlayers/lib/OpenLayers/Tile/Image.js","../../openlayers/lib/OpenLayers/Tile/Image/IFrame.js","../../openlayers/lib/OpenLayers/Tile/WFS.js","../../openlayers/lib/OpenLayers/Layer/Image.js","../../openlayers/lib/OpenLayers/Layer/SphericalMercator.js","../../openlayers/lib/OpenLayers/Layer/EventPane.js","../../openlayers/lib/OpenLayers/Layer/FixedZoomLevels.js","../../openlayers/lib/OpenLayers/Layer/Google.js","../../openlayers/lib/OpenLayers/Layer/VirtualEarth.js","../../openlayers/lib/OpenLayers/Layer/Yahoo.js","../../openlayers/lib/OpenLayers/Layer/HTTPRequest.js","../../openlayers/lib/OpenLayers/Layer/Grid.js","../../openlayers/lib/OpenLayers/Layer/MapGuide.js","../../openlayers/lib/OpenLayers/Layer/MapServer.js","../../openlayers/lib/OpenLayers/Layer/MapServer/Untiled.js","../../openlayers/lib/OpenLayers/Layer/KaMap.js","../../openlayers/lib/OpenLayers/Layer/KaMapCache.js","../../openlayers/lib/OpenLayers/Layer/MultiMap.js","../../openlayers/lib/OpenLayers/Layer/Markers.js","../../openlayers/lib/OpenLayers/Layer/Text.js","../../openlayers/lib/OpenLayers/Layer/WorldWind.js","../../openlayers/lib/OpenLayers/Layer/ArcGIS93Rest.js","../../openlayers/lib/OpenLayers/Layer/WMS.js","../../openlayers/lib/OpenLayers/Layer/WMS/Untiled.js","../../openlayers/lib/OpenLayers/Layer/WMS/Post.js","../../openlayers/lib/OpenLayers/Layer/ArcIMS.js","../../openlayers/lib/OpenLayers/Layer/GeoRSS.js","../../openlayers/lib/OpenLayers/Layer/Boxes.js","../../openlayers/lib/OpenLayers/Layer/XYZ.js","../../openlayers/lib/OpenLayers/Layer/TMS.js","../../openlayers/lib/OpenLayers/Layer/TileCache.js","../../openlayers/lib/OpenLayers/Layer/Zoomify.js","../../openlayers/lib/OpenLayers/Popup/Anchored.js","../../openlayers/lib/OpenLayers/Popup/AnchoredBubble.js","../../openlayers/lib/OpenLayers/Popup/Framed.js","../../openlayers/lib/OpenLayers/Popup/FramedCloud.js","../../openlayers/lib/OpenLayers/Feature.js","../../openlayers/lib/OpenLayers/Feature/Vector.js","../../openlayers/lib/OpenLayers/Feature/WFS.js","../../openlayers/lib/OpenLayers/Handler.js","../../openlayers/lib/OpenLayers/Handler/Click.js","../../openlayers/lib/OpenLayers/Handler/Hover.js","../../openlayers/lib/OpenLayers/Handler/Point.js","../../openlayers/lib/OpenLayers/Handler/Path.js","../../openlayers/lib/OpenLayers/Handler/Polygon.js","../../openlayers/lib/OpenLayers/Handler/Feature.js","../../openlayers/lib/OpenLayers/Handler/Drag.js","../../openlayers/lib/OpenLayers/Handler/RegularPolygon.js","../../openlayers/lib/OpenLayers/Handler/Box.js","../../openlayers/lib/OpenLayers/Handler/MouseWheel.js","../../openlayers/lib/OpenLayers/Handler/Keyboard.js","../../openlayers/lib/OpenLayers/Control.js","../../openlayers/lib/OpenLayers/Control/Attribution.js","../../openlayers/lib/OpenLayers/Control/Button.js","../../openlayers/lib/OpenLayers/Control/ZoomBox.js","../../openlayers/lib/OpenLayers/Control/ZoomToMaxExtent.js","../../openlayers/lib/OpenLayers/Control/DragPan.js","../../openlayers/lib/OpenLayers/Control/Navigation.js","../../openlayers/lib/OpenLayers/Control/MouseDefaults.js","../../openlayers/lib/OpenLayers/Control/MousePosition.js","../../openlayers/lib/OpenLayers/Control/OverviewMap.js","../../openlayers/lib/OpenLayers/Control/KeyboardDefaults.js","../../openlayers/lib/OpenLayers/Control/PanZoom.js","../../openlayers/lib/OpenLayers/Control/PanZoomBar.js","../../openlayers/lib/OpenLayers/Control/ArgParser.js","../../openlayers/lib/OpenLayers/Control/Permalink.js","../../openlayers/lib/OpenLayers/Control/Scale.js","../../openlayers/lib/OpenLayers/Control/ScaleLine.js","../../openlayers/lib/OpenLayers/Control/Snapping.js","../../openlayers/lib/OpenLayers/Control/Split.js","../../openlayers/lib/OpenLayers/Control/LayerSwitcher.js","../../openlayers/lib/OpenLayers/Control/DrawFeature.js","../../openlayers/lib/OpenLayers/Control/DragFeature.js","../../openlayers/lib/OpenLayers/Control/ModifyFeature.js","../../openlayers/lib/OpenLayers/Control/Panel.js","../../openlayers/lib/OpenLayers/Control/SelectFeature.js","../../openlayers/lib/OpenLayers/Control/NavigationHistory.js","../../openlayers/lib/OpenLayers/Control/Measure.js","../../openlayers/lib/OpenLayers/Control/WMSGetFeatureInfo.js","../../openlayers/lib/OpenLayers/Control/Graticule.js","../../openlayers/lib/OpenLayers/Control/TransformFeature.js","../../openlayers/lib/OpenLayers/Geometry.js","../../openlayers/lib/OpenLayers/Geometry/Rectangle.js","../../openlayers/lib/OpenLayers/Geometry/Collection.js","../../openlayers/lib/OpenLayers/Geometry/Point.js","../../openlayers/lib/OpenLayers/Geometry/MultiPoint.js","../../openlayers/lib/OpenLayers/Geometry/Curve.js","../../openlayers/lib/OpenLayers/Geometry/LineString.js","../../openlayers/lib/OpenLayers/Geometry/LinearRing.js","../../openlayers/lib/OpenLayers/Geometry/Polygon.js","../../openlayers/lib/OpenLayers/Geometry/MultiLineString.js","../../openlayers/lib/OpenLayers/Geometry/MultiPolygon.js","../../openlayers/lib/OpenLayers/Geometry/Surface.js","../../openlayers/lib/OpenLayers/Renderer.js","../../openlayers/lib/OpenLayers/Renderer/Elements.js","../../openlayers/lib/OpenLayers/Renderer/SVG.js","../../openlayers/lib/OpenLayers/Renderer/Canvas.js","../../openlayers/lib/OpenLayers/Renderer/VML.js","../../openlayers/lib/OpenLayers/Layer/Vector.js","../../openlayers/lib/OpenLayers/Layer/Vector/RootContainer.js","../../openlayers/lib/OpenLayers/Strategy.js","../../openlayers/lib/OpenLayers/Strategy/Fixed.js","../../openlayers/lib/OpenLayers/Strategy/Cluster.js","../../openlayers/lib/OpenLayers/Strategy/Paging.js","../../openlayers/lib/OpenLayers/Strategy/BBOX.js","../../openlayers/lib/OpenLayers/Strategy/Save.js","../../openlayers/lib/OpenLayers/Strategy/Refresh.js","../../openlayers/lib/OpenLayers/Filter.js","../../openlayers/lib/OpenLayers/Filter/FeatureId.js","../../openlayers/lib/OpenLayers/Filter/Logical.js","../../openlayers/lib/OpenLayers/Filter/Comparison.js","../../openlayers/lib/OpenLayers/Filter/Spatial.js","../../openlayers/lib/OpenLayers/Protocol.js","../../openlayers/lib/OpenLayers/Protocol/HTTP.js","../../openlayers/lib/OpenLayers/Protocol/SQL.js","../../openlayers/lib/OpenLayers/Protocol/SQL/Gears.js","../../openlayers/lib/OpenLayers/Protocol/WFS.js","../../openlayers/lib/OpenLayers/Protocol/WFS/v1.js","../../openlayers/lib/OpenLayers/Protocol/WFS/v1_0_0.js","../../openlayers/lib/OpenLayers/Protocol/WFS/v1_1_0.js","../../openlayers/lib/OpenLayers/Protocol/SOS.js","../../openlayers/lib/OpenLayers/Protocol/SOS/v1_0_0.js","../../openlayers/lib/OpenLayers/Layer/PointTrack.js","../../openlayers/lib/OpenLayers/Layer/GML.js","../../openlayers/lib/OpenLayers/Style.js","../../openlayers/lib/OpenLayers/StyleMap.js","../../openlayers/lib/OpenLayers/Rule.js","../../openlayers/lib/OpenLayers/Format.js","../../openlayers/lib/OpenLayers/Format/XML.js","../../openlayers/lib/OpenLayers/Format/ArcXML.js","../../openlayers/lib/OpenLayers/Format/ArcXML/Features.js","../../openlayers/lib/OpenLayers/Format/GML.js","../../openlayers/lib/OpenLayers/Format/GML/Base.js","../../openlayers/lib/OpenLayers/Format/GML/v2.js","../../openlayers/lib/OpenLayers/Format/GML/v3.js","../../openlayers/lib/OpenLayers/Format/Atom.js","../../openlayers/lib/OpenLayers/Format/KML.js","../../openlayers/lib/OpenLayers/Format/GeoRSS.js","../../openlayers/lib/OpenLayers/Format/WFS.js","../../openlayers/lib/OpenLayers/Format/WFSCapabilities.js","../../openlayers/lib/OpenLayers/Format/WFSCapabilities/v1.js","../../openlayers/lib/OpenLayers/Format/WFSCapabilities/v1_0_0.js","../../openlayers/lib/OpenLayers/Format/WFSCapabilities/v1_1_0.js","../../openlayers/lib/OpenLayers/Format/WFSDescribeFeatureType.js","../../openlayers/lib/OpenLayers/Format/WMSDescribeLayer.js","../../openlayers/lib/OpenLayers/Format/WMSDescribeLayer/v1_1.js","../../openlayers/lib/OpenLayers/Format/WKT.js","../../openlayers/lib/OpenLayers/Format/OSM.js","../../openlayers/lib/OpenLayers/Format/GPX.js","../../openlayers/lib/OpenLayers/Format/Filter.js","../../openlayers/lib/OpenLayers/Format/Filter/v1.js","../../openlayers/lib/OpenLayers/Format/Filter/v1_0_0.js","../../openlayers/lib/OpenLayers/Format/Filter/v1_1_0.js","../../openlayers/lib/OpenLayers/Format/SLD.js","../../openlayers/lib/OpenLayers/Format/SLD/v1.js","../../openlayers/lib/OpenLayers/Format/SLD/v1_0_0.js","../../openlayers/lib/OpenLayers/Format/CSWGetDomain.js","../../openlayers/lib/OpenLayers/Format/CSWGetDomain/v2_0_2.js","../../openlayers/lib/OpenLayers/Format/CSWGetRecords.js","../../openlayers/lib/OpenLayers/Format/CSWGetRecords/v2_0_2.js","../../openlayers/lib/OpenLayers/Format/WFST.js","../../openlayers/lib/OpenLayers/Format/WFST/v1.js","../../openlayers/lib/OpenLayers/Format/WFST/v1_0_0.js","../../openlayers/lib/OpenLayers/Format/WFST/v1_1_0.js","../../openlayers/lib/OpenLayers/Format/Text.js","../../openlayers/lib/OpenLayers/Format/JSON.js","../../openlayers/lib/OpenLayers/Format/GeoJSON.js","../../openlayers/lib/OpenLayers/Format/WMC.js","../../openlayers/lib/OpenLayers/Format/WMC/v1.js","../../openlayers/lib/OpenLayers/Format/WMC/v1_0_0.js","../../openlayers/lib/OpenLayers/Format/WMC/v1_1_0.js","../../openlayers/lib/OpenLayers/Format/WMSCapabilities.js","../../openlayers/lib/OpenLayers/Format/WMSCapabilities/v1.js","../../openlayers/lib/OpenLayers/Format/WMSCapabilities/v1_1.js","../../openlayers/lib/OpenLayers/Format/WMSCapabilities/v1_1_0.js","../../openlayers/lib/OpenLayers/Format/WMSCapabilities/v1_1_1.js","../../openlayers/lib/OpenLayers/Format/WMSCapabilities/v1_3.js","../../openlayers/lib/OpenLayers/Format/WMSCapabilities/v1_3_0.js","../../openlayers/lib/OpenLayers/Format/WMSGetFeatureInfo.js","../../openlayers/lib/OpenLayers/Format/OWSCommon/v1_1_0.js","../../openlayers/lib/OpenLayers/Format/SOSCapabilities.js","../../openlayers/lib/OpenLayers/Format/SOSCapabilities/v1_0_0.js","../../openlayers/lib/OpenLayers/Format/SOSGetObservation.js","../../openlayers/lib/OpenLayers/Format/SOSGetFeatureOfInterest.js","../../openlayers/lib/OpenLayers/Layer/WFS.js","../../openlayers/lib/OpenLayers/Control/GetFeature.js","../../openlayers/lib/OpenLayers/Control/MouseToolbar.js","../../openlayers/lib/OpenLayers/Control/NavToolbar.js","../../openlayers/lib/OpenLayers/Control/PanPanel.js","../../openlayers/lib/OpenLayers/Control/Pan.js","../../openlayers/lib/OpenLayers/Control/ZoomIn.js","../../openlayers/lib/OpenLayers/Control/ZoomOut.js","../../openlayers/lib/OpenLayers/Control/ZoomPanel.js","../../openlayers/lib/OpenLayers/Control/EditingToolbar.js","../../openlayers/lib/OpenLayers/Lang.js","../../openlayers/lib/OpenLayers/Lang/en.js","../../proj4js/lib/proj4js.js","../../proj4js/lib/OverloadedProj4js.js","OpenLayers/OverloadedOpenLayersMinimum.js","OpenLayers/OverloadedOpenLayersStandard.js","OpenLayers/OverloadedOpenLayersExtended.js","Geoportal/Lang.js","Geoportal/Lang/en.js","Geoportal/Lang/fr.js","Geoportal/Lang/de.js","Geoportal/Lang/es.js","Geoportal/Lang/it.js","Geoportal/Control.js","Geoportal/Format.js","Geoportal/Handler.js","Geoportal/Layer.js","Geoportal/Layer/Aggregate.js","Geoportal/OLS.js","Geoportal/Popup.js","Geoportal/Tile.js","Geoportal/Util.js","Geoportal/Control/Copyright.js","Geoportal/Control/DeleteFeature.js","Geoportal/Control/Floating.js","Geoportal/Control/GraphicScale.js","Geoportal/Control/Loading.js","Geoportal/Control/Logo.js","Geoportal/Control/Panel.js","Geoportal/Control/PermanentLogo.js","Geoportal/Control/Projections.js","Geoportal/Control/RemoveLayer.js","Geoportal/Control/SliderBase.js","Geoportal/Control/TermsOfService.js","Geoportal/Control/ToolBox.js","Geoportal/Control/ZoomToLayerMaxExtent.js","Geoportal/Format/GPX.js","Geoportal/Format/GPX/v1.js","Geoportal/Format/Geoconcept.js","Geoportal/Format/XLS.js","Geoportal/GeoRMHandler.js","Geoportal/Handler/Path.js","Geoportal/Layer/Grid.js","Geoportal/Layer/WFS.js","Geoportal/Layer/WMS.js","Geoportal/Layer/WMSC.js","Geoportal/OLS/AbstractBody.js","Geoportal/OLS/AbstractHeader.js","Geoportal/OLS/AbstractLocation.js","Geoportal/OLS/AbstractRequestParameters.js","Geoportal/OLS/AbstractResponseParameters.js","Geoportal/OLS/AbstractStreetLocator.js","Geoportal/OLS/Error.js","Geoportal/OLS/GeocodeMatchCode.js","Geoportal/OLS/LUS.js","Geoportal/OLS/Place.js","Geoportal/OLS/PostalCode.js","Geoportal/OLS/Street.js","Geoportal/OLS/UOM.js","Geoportal/OLS/XLS.js","Geoportal/Popup/Anchored.js","Geoportal/Tile/Image.js","Geoportal/Control/EditingToolbar.js","Geoportal/Control/Form.js","Geoportal/Control/LayerOpacitySlider.js","Geoportal/Control/NavToolbar.js","Geoportal/Control/PanelToggle.js","Geoportal/Control/ZoomSlider.js","Geoportal/Format/GPX/v1_0.js","Geoportal/Handler/LengthRestrictedPath.js","Geoportal/Layer/GXT.js","Geoportal/OLS/AbstractAddress.js","Geoportal/OLS/AbstractPosition.js","Geoportal/OLS/Building.js","Geoportal/OLS/ErrorList.js","Geoportal/OLS/LUS/ReverseGeocodePreference.js","Geoportal/OLS/StreetAddress.js","Geoportal/OLS/UOM/AbstractMeasure.js","Geoportal/OLS/UOM/TimeStamp.js","Geoportal/Control/AddImageLayer.js","Geoportal/Control/AddVectorLayer.js","Geoportal/Control/LayerOpacity.js","Geoportal/Control/Measure.js","Geoportal/Control/MousePosition.js","Geoportal/Control/ZoomBar.js","Geoportal/OLS/Address.js","Geoportal/OLS/Request.js","Geoportal/OLS/RequestHeader.js","Geoportal/OLS/Response.js","Geoportal/OLS/ResponseHeader.js","Geoportal/OLS/UOM/Angle.js","Geoportal/OLS/UOM/Distance.js","Geoportal/OLS/UOM/Speed.js","Geoportal/OLS/UOM/Time.js","Geoportal/Control/BasicLayerToolbar.js","Geoportal/Control/Information.js","Geoportal/Control/LayerToolbar.js","Geoportal/Control/Measure/Azimuth.js","Geoportal/Format/XLS/v1_1.js","Geoportal/OLS/HorizontalAcc.js","Geoportal/OLS/LUS/GeocodeRequest.js","Geoportal/OLS/LUS/GeocodedAddress.js","Geoportal/OLS/LUS/SearchCentreDistance.js","Geoportal/OLS/UOM/Distance/Altitude.js","Geoportal/OLS/VerticalAcc.js","Geoportal/Control/LayerSwitcher.js","Geoportal/Control/MeasureToolbar.js","Geoportal/Format/XLS/v1_0.js","Geoportal/OLS/LUS/GeocodeResponseList.js","Geoportal/OLS/LUS/ReverseGeocodedLocation.js","Geoportal/OLS/QualityOfPosition.js","Geoportal/OLS/LUS/GeocodeResponse.js","Geoportal/OLS/LUS/ReverseGeocodeResponse.js","Geoportal/OLS/Position.js","Geoportal/OLS/LUS/ReverseGeocodeRequest.js","Geoportal/Format/XLS/v1_1/LocationUtilityService.js","Geoportal/Format/XLS/v1_0/LocationUtilityService.js","Geoportal/Layer/OpenLS.js","Geoportal/Layer/OpenLS/Core.js","Geoportal/Layer/OpenLS/Core/LocationUtilityService.js","Geoportal/Control/LocationUtilityService.js","Geoportal/Control/LocationUtilityService/GeoNames.js","Geoportal/Control/LocationUtilityService/Geocode.js","Geoportal/Control/LocationUtilityService/ReverseGeocode.js","Geoportal/Control/SearchToolbar.js","Geoportal/Catalogue.js","Geoportal/Map.js","Geoportal/Viewer.js","Geoportal/Viewer/Default.js","Geoportal/Viewer/Standard.js"];var b=navigator.userAgent;var d=(b.match("MSIE")||b.match("Safari"));if(d){var a=new Array(j.length)}else{var e=document.getElementsByTagName("head").length?document.getElementsByTagName("head")[0]:document.body;if(!e){alert("no head and body to include the JavaScript API.");return}}var k=Geoportal._getScriptLocation()+"lib/";for(var c=0,f=j.length;c<f;c++){if(d){a[c]="<script type='text/javascript' src='"+k+j[c]+"' charset='UTF-8'><\/script>"}else{if(e){var l=document.createElement("script");l.src=k+j[c];l.charset="UTF-8";l.type="text/javascript";e.appendChild(l)}}}if(d){document.write(a.join(""))}}})();Geoportal.VERSION_NUMBER="1.1 ; publicationDate=2010-08-02";Geoportal.Catalogue=OpenLayers.Class({map:null,urlServices:{},initialize:function(e,c){if(e){this.map=e}if(c.apiKey){if(!(c.apiKey instanceof Array)){c.apiKey=[c.apiKey]}var b;for(var d=0,a=c.apiKey.length;d<a&&c.apiKey[d]!=null;d++){b=c.apiKey[d];if(c[b]!=null){this[b]={tokenServer:c[b].tokenServer,geoRMKey:b,tokenTimeOut:c[b].tokenTimeOut,transport:c[b].transport||"json",bounds:c[b].bounds?OpenLayers.Bounds.fromArray(c[b].bounds):new OpenLayers.Bounds(-180,-90,180,90),layers:c[b].resources,allowedGeoportalLayers:c[b].allowedGeoportalLayers}}else{this[b]={tokenServer:"http://localhost/",geoRMKey:b,tokenTimeOut:60000,layers:{},allowedGeoportalLayers:[]}}}this.apiKey=c.apiKey.slice(0)}},destroy:function(){if(this.map){this.map=null}if(this.apiKey){var b;for(var c=0,a=this.apiKey.length;c<a;c++){b=this.apiKey[c];if(this[b]){this[b]=null}}this.apiKey=null}},_orderLayersStack:function(f){var b=[];var e;var d,g=f.length;for(d=0;d<g;d++){e={};var a=f[d];e.layerId=a;switch(e.layerId.split(":")[0]){case"ORTHOIMAGERY.ORTHOPHOTOS":e.weight=999;break;case"GEOGRAPHICALGRIDSYSTEMS.MAPS":e.weight=998;break;case"LANDCOVER.CORINELANDCOVER":e.weight=997;break;case"ELEVATION.SLOPS":e.weight=989;break;case"CADASTRALPARCELS.PARCELS":e.weight=979;break;case"HYDROGRAPHY.HYDROGRAPHY":e.weight=969;break;case"TRANSPORTNETWORKS.ROADS":e.weight=899;break;case"TRANSPORTNETWORKS.RAILWAYS":e.weight=898;break;case"TRANSPORTNETWORKS.RUNWAYS":e.weight=897;break;case"BUILDINGS.BUILDINGS":e.weight=799;break;case"UTILITYANDGOVERNMENTALSERVICES.ALL":e.weight=699;break;case"ADMINISTRATIVEUNITS.BOUNDARIES":e.weight=599;break;case"SEAREGIONS.LEVEL0":e.layerId="SEAREGIONS.LEVEL0";case"ELEVATION.LEVEL0":e.weight=499;break;default:e.weight=0;break}b.unshift(e)}b.sort(function(i,h){return h.weight-i.weight});g=b.length;var c=[];for(d=0;d<g;d++){e=b.shift();c[d]=e.layerId}return c},getTerritory:function(d){if(d==undefined){if(this.map){d=this.map.territory||"FXX"}else{d="FXX"}}if(Geoportal.Catalogue.TERRITORIES[d]==undefined){if(this.map){d=this.map.territory||"FXX"}else{d="FXX"}}for(var b=0,a=Geoportal.Catalogue.TERRITORIES[d].defaultCRS.length;b<a;b++){var c=Geoportal.Catalogue.TERRITORIES[d].defaultCRS[b];if(typeof(c)=="string"){Geoportal.Catalogue.TERRITORIES[d].defaultCRS[b]=new OpenLayers.Projection(c,{domainOfValidity:OpenLayers.Bounds.fromArray(Geoportal.Catalogue.TERRITORIES[d].geobbox)})}}if(typeof(Geoportal.Catalogue.TERRITORIES[d].geoCRS[0])=="string"){Geoportal.Catalogue.TERRITORIES[d].geoCRS[0]=new OpenLayers.Projection(Geoportal.Catalogue.TERRITORIES[d].geoCRS[0],{domainOfValidity:OpenLayers.Bounds.fromArray(Geoportal.Catalogue.TERRITORIES[d].geobbox)})}return d},findTerritory:function(d){for(var c in Geoportal.Catalogue.TERRITORIES){if(Geoportal.Catalogue.TERRITORIES.hasOwnProperty(c)){var a=Geoportal.Catalogue.TERRITORIES[c];if(c=="WLD"){continue}if(!a.geobbox){continue}var e=OpenLayers.Bounds.fromArray(a.geobbox);var b=e.containsLonLat(d);e=null;if(b){return c}}}return"WLD"},getNativeProjection:function(b,a){if(!a){a=Geoportal.Catalogue.TERRITORIES[b].defaultCRS[0]}if(typeof(a)=="string"){a=new OpenLayers.Projection(a,{domainOfValidity:OpenLayers.Bounds.fromArray(Geoportal.Catalogue.TERRITORIES[b].geobbox)})}return a},getDisplayProjections:function(f,b,e){if(f==undefined){if(this.map){f=this.map.territory||"FXX"}else{f="FXX"}}var h=[];if(!b){if(!e){h.push(Geoportal.Catalogue.TERRITORIES[f].displayCRS[0])}else{h=Geoportal.Catalogue.TERRITORIES[f].displayCRS.slice(0)}}else{h.push(b)}for(var d=0,a=h.length;d<a;d++){var g=h[d];if(typeof(g)=="string"){g=new OpenLayers.Projection(g,{domainOfValidity:OpenLayers.Bounds.fromArray(Geoportal.Catalogue.TERRITORIES[f].geobbox)});h[d]=g}}return h},getResolutions:function(e,c){var b=null;var d,a;if(c.getProjName()!="longlat"){b=[];for(d=0,a=Geoportal.Catalogue.RESOLUTIONS.length;d<a;d++){b[d]=Geoportal.Catalogue.RESOLUTIONS[d]}return b}if(c.getProjName()=="longlat"){b=[];for(d=0,a=Geoportal.Catalogue.RESOLUTIONS.length;d<a;d++){var f=new OpenLayers.LonLat(Geoportal.Catalogue.RESOLUTIONS[d],0);f.transform(Geoportal.Catalogue.TERRITORIES[e].defaultCRS[0],c);b[d]=f.lon}return b}return b},getCenter:function(c,b){var a=new OpenLayers.LonLat(Geoportal.Catalogue.TERRITORIES[c].geocenter[0],Geoportal.Catalogue.TERRITORIES[c].geocenter[1]);if(b&&typeof(b)!="string"){a.transform(Geoportal.Catalogue.TERRITORIES[c].geoCRS[0],b)}return a},getExtent:function(e,c){var f=null;if(!e){if(this.apiKey){var b;for(var d=0,a=this.apiKey.length;d<a;d++){b=this.apiKey[d];if(this[b]&&this[b].bounds){if(!f){f=this[b].bounds.clone()}else{f.extend(this[b].bounds.clone())}}}}if(f==null){f=new OpenLayers.Bounds(-180,-90,180,90)}}else{f=OpenLayers.Bounds.fromArray(Geoportal.Catalogue.TERRITORIES[e].geobbox)}if(c&&typeof(c)!="string"){f.transform(e?Geoportal.Catalogue.TERRITORIES[e].geoCRS[0]:OpenLayers.Projection.CRS84,c,true)}return f},getDefaultMinZoom:function(c,a){if(!a){a=this.getNativeProjection(c)}var d=Geoportal.Catalogue.RESOLUTIONS.length-1;for(var b in Geoportal.Catalogue.TERRITORIES[c].baseLayers){if(Geoportal.Catalogue.TERRITORIES[c].baseLayers.hasOwnProperty(b)){if(a.isCompatibleWith(b)){if(Geoportal.Catalogue.TERRITORIES[c].baseLayers[b].minZoomLevel<d){d=Geoportal.Catalogue.TERRITORIES[c].baseLayers[b].minZoomLevel}break}}}return d==Geoportal.Catalogue.RESOLUTIONS.length-1?0:d},getDefaultMaxZoom:function(d,b){if(!b){b=this.getNativeProjection(d)}var a=0;for(var c in Geoportal.Catalogue.TERRITORIES[d].baseLayers){if(Geoportal.Catalogue.TERRITORIES[d].baseLayers.hasOwnProperty(c)){if(b.isCompatibleWith(c)){if(Geoportal.Catalogue.TERRITORIES[d].baseLayers[c].maxZoomLevel>a){a=Geoportal.Catalogue.TERRITORIES[d].baseLayers[c].maxZoomLevel}break}}}return a==0?Geoportal.Catalogue.RESOLUTIONS.length-1:a},getDefaultZoom:function(c,a){if(!a){a=this.getNativeProjection(c)}for(var b in Geoportal.Catalogue.TERRITORIES[c].baseLayers){if(Geoportal.Catalogue.TERRITORIES[c].baseLayers.hasOwnProperty(b)){if(a.isCompatibleWith(b)){return Geoportal.Catalogue.TERRITORIES[c].baseLayers[b].defaultZoomLevel}}}return 5},_getOriginator:function(b,a,d){var c={logo:b,url:"#"};switch(b){case"planetobserver":c.url="http://www.planetobserver.com";break;case"spotimage":c.url="http://www.spotimage.fr";break;case"cnes":c.url="http://www.cnes.fr";break;case"ifen":c.url="http://www.ifen.fr/";break;case"ifn":c.url="http://www.ifn.fr/spip/sommaire.php3";break;case"ird":c.url="http://www.cayenne.ird.fr/";break;case"seasguyane":c.url="http://www.seas-guyane.org/";break;default:c.logo="ign";c.url="http://www.ign.fr";break}if(a&&d){c.minZoomLevel=a;c.maxZoomLevel=d}return c},getLayerGeoRMKey:function(e,b){if(this.apiKey){var c;for(var d=0,a=this.apiKey.length;d<a;d++){c=this.apiKey[d];if(this[c]&&this[c].bounds&&this[c].bounds.intersectsBounds(this.getExtent(e),true)){for(var f in this[c].layers){if(f==b||f.match("^"+b+":")){return c}}}}}return null},getLayerParameters:function(p,g){var s={};var f=g.match("^([^:]+)(:(.+))?$");if(f==null){return null}var q=f[1],b=f[3];if(!q){return null}if(!b){b="WMSC"}var a=[];if(this.apiKey){var e;for(var h=0,d=this.apiKey.length;h<d;h++){e=this.apiKey[h];if(this[e]){for(var m in this[e].layers){if(m==g||m.match("^"+q+":")){a.push(OpenLayers.Util.extend({},this[e].layers[m]))}}}}}if(a.length==0){return null}var o=null;for(h=0,d=a.length;h<d;h++){if(b==a[h].type){o=a[h];break}}if(o==null){return null}if(o=="SEAREGIONS.LEVEL0"){o="ELEVATION.LEVEL0"}s.resourceId=o.name+":"+o.type;s.url=o.url;s.params={layers:null,exceptions:"text/xml"};s.options={isBaseLayer:false,description:o.name+".description",visibility:false,opacity:1,view:{drop:false,zoomToExtent:false}};switch(o.type){case"WMS":s.classLayer=Geoportal.Layer.WMS;s.params=OpenLayers.Util.extend(s.params,{format:"image/png",transparent:true});s.options=OpenLayers.Util.extend(s.options,{buffer:0,singleTile:true});break;case"WFS":s.classLayer=Geoportal.Layer.WFS;s.options=OpenLayers.Util.extend(s.options,{});break;case"OPENLS":s=null;return s;default:s.classLayer=Geoportal.Layer.WMSC;s.options=OpenLayers.Util.extend(s.options,{buffer:0,gridOrigin:new OpenLayers.LonLat(0,0),nativeTileSize:new OpenLayers.Size(256,256),singleTile:false});break}var c=Geoportal.Catalogue.TERRITORIES[p].defaultCRS;switch(o.name){case"ORTHOIMAGERY.ORTHOPHOTOS":case"GEOGRAPHICALGRIDSYSTEMS.MAPS":s.options.visibility=true;break;default:break}switch(o.name){case"ORTHOIMAGERY.ORTHOPHOTOS":case"GEOGRAPHICALGRIDSYSTEMS.MAPS":case"ELEVATION.SLOPS":if(o.type=="WMSC"){s.params.format="image/jpeg"}break;default:if(o.type=="WMSC"){s.params.format="image/png";s.params.transparent=true}break}var n={};n.originators=[];var r="http://www.geocatalogue.fr/Detail.do?fileIdentifier=";switch(o.name){case"GEOGRAPHICALGRIDSYSTEMS.MAPS":case"ELEVATION.SLOPS":case"LANDCOVER.CORINELANDCOVER":n.opacity=0.3;break;case"CADASTRALPARCELS.PARCELS":case"HYDROGRAPHY.HYDROGRAPHY":case"TRANSPORTNETWORKS.ROADS":case"TRANSPORTNETWORKS.RAILWAYS":case"TRANSPORTNETWORKS.RUNWAYS":case"BUILDINGS.BUILDINGS":case"UTILITYANDGOVERNMENTALSERVICES.ALL":case"ADMINISTRATIVEUNITS.BOUNDARIES":case"ELEVATION.LEVEL0":n.opacity=0.5;break;default:break}n.originators.push(this._getOriginator("ign"));switch(p){case"ATF":switch(o.name){case"GEOGRAPHICALGRIDSYSTEMS.MAPS":n.opacity=1;n.minZoomLevel=5;n.maxZoomLevel=13;n.metadataURL=r+"GL_CARTE_ATF.xml";break;default:s=null;break}break;case"CHE":s=null;break;case"CRZ":switch(o.name){case"GEOGRAPHICALGRIDSYSTEMS.MAPS":n.opacity=1;n.minZoomLevel=5;n.maxZoomLevel=13;break;default:s=null;break}break;case"EUE":case"FXX":default:switch(o.name){case"ORTHOIMAGERY.ORTHOPHOTOS":n.minZoomLevel=5;n.maxZoomLevel=18;if(o.type=="WMSC"){n.originators=[];n.originators.push(this._getOriginator("planetobserver",5,11));n.originators.push(this._getOriginator("ign",12,18));n.maxExtent=new OpenLayers.Bounds(-41.052325,23.548796,82.104649,84.775666)}n.metadataURL=r+"GL_PHOTO_FXX.xml";break;case"GEOGRAPHICALGRIDSYSTEMS.MAPS":n.minZoomLevel=5;n.maxZoomLevel=17;n.metadataURL=r+"GL_CARTE_FXX.xml";n.maxExtent=new OpenLayers.Bounds(-20.526162256,32.968314658,27.368216341,61.226870079);break;case"ELEVATION.SLOPS":n.minZoomLevel=5;n.maxZoomLevel=12;n.metadataURL=r+"GL_ALTI_FXX.xml";n.dataURL="http://professionnels.ign.fr/ficheProduitCMS.do?idDoc=5323461";n.maxExtent=new OpenLayers.Bounds(-6.841845,37.677499,13.684943,51.807208);break;case"LANDCOVER.CORINELANDCOVER":n.minZoomLevel=5;n.maxZoomLevel=12;n.originators=[];n.originators.push(this._getOriginator("ifen"));n.maxExtent=new OpenLayers.Bounds(-5.669834,41.012908,9.724787,51.609866);break;case"CADASTRALPARCELS.PARCELS":n.minZoomLevel=12;n.maxZoomLevel=18;n.metadataURL=r+"GL_PARCEL_FXX.xml";n.maxExtent=new OpenLayers.Bounds(-5.141354,9.560094,41.333552,51.0894);break;case"HYDROGRAPHY.HYDROGRAPHY":n.minZoomLevel=9;n.maxZoomLevel=17;n.metadataURL=r+"GL_HYDRO_FXX.xml";n.maxExtent=new OpenLayers.Bounds(-5.403793,41.220068,9.716853,51.119943);break;case"TRANSPORTNETWORKS.ROADS":n.minZoomLevel=6;n.maxZoomLevel=17;n.metadataURL=r+"GL_ROUTE_FXX.xml";n.maxExtent=new OpenLayers.Bounds(-5.128343,41.367868,9.555618,51.078081);break;case"TRANSPORTNETWORKS.RAILWAYS":n.minZoomLevel=6;n.maxZoomLevel=17;n.metadataURL=r+"GL_RESFER_FXX.xml";n.maxExtent=new OpenLayers.Bounds(-4.500134,41.115334,10.721169,51.181747);break;case"TRANSPORTNETWORKS.RUNWAYS":n.minZoomLevel=11;n.maxZoomLevel=17;n.metadataURL=r+"GL_AERIEN_FXX.xml";n.maxExtent=new OpenLayers.Bounds(-5.069174,41.367598,9.549014,51.042292);break;case"BUILDINGS.BUILDINGS":n.minZoomLevel=8;n.maxZoomLevel=17;n.metadataURL=r+"GL_BATI_FXX.xml";n.maxExtent=new OpenLayers.Bounds(-5.139906,41.230776,9.558515,51.085654);break;case"UTILITYANDGOVERNMENTALSERVICES.ALL":n.minZoomLevel=14;n.maxZoomLevel=17;n.metadataURL=r+"GL_SRVPUB_FXX.xml";n.maxExtent=new OpenLayers.Bounds(-5.088097,41.364562,9.547709,51.067481);break;case"ADMINISTRATIVEUNITS.BOUNDARIES":n.minZoomLevel=5;n.maxZoomLevel=17;n.metadataURL=r+"GL_ADMIN_FXX.xml";n.maxExtent=new OpenLayers.Bounds(-5.141354,41.333552,9.560094,51.0894);break;case"ELEVATION.LEVEL0":n.minZoomLevel=7;n.maxZoomLevel=16;n.metadataURL=r+"GL_LITO_FXX.xml";n.maxExtent=new OpenLayers.Bounds(-5.151038,41.333211,9.560094,51.089086);break;default:s=null;break}break;case"ANF":case"GLP":case"MTQ":case"SBA":case"SMA":switch(o.name){case"ORTHOIMAGERY.ORTHOPHOTOS":n.minZoomLevel=5;n.maxZoomLevel=17;if(o.type=="WMSC"){n.originators=[];n.originators.push(this._getOriginator("planetobserver",5,8));n.originators.push(this._getOriginator("ign",9,17))}if(p!="ANF"){n.metadataURL=r+"GL_PHOTO_"+p+".xml"}break;case"GEOGRAPHICALGRIDSYSTEMS.MAPS":n.minZoomLevel=5;n.maxZoomLevel=17;if(p!="ANF"){n.metadataURL=r+"GL_CARTE_"+p+".xml"}break;case"ELEVATION.SLOPS":n.minZoomLevel=5;n.maxZoomLevel=12;if(p!="ANF"){n.metadataURL=r+"GL_ALTI_"+p+".xml"}break;case"CADASTRALPARCELS.PARCELS":n.minZoomLevel=12;n.maxZoomLevel=18;if(p!="ANF"){n.metadataURL=r+"GL_PARCEL_"+p+".xml"}break;case"HYDROGRAPHY.HYDROGRAPHY":n.minZoomLevel=11;n.maxZoomLevel=17;if(p!="ANF"){n.metadataURL=r+"GL_HYDRO_"+p+".xml"}break;case"TRANSPORTNETWORKS.ROADS":n.minZoomLevel=11;n.maxZoomLevel=17;if(p!="ANF"){n.metadataURL=r+"GL_ROUTE_"+p+".xml"}break;case"TRANSPORTNETWORKS.RUNWAYS":n.minZoomLevel=11;n.maxZoomLevel=17;if(p!="ANF"){n.metadataURL=r+"GL_AERIEN_"+p+".xml"}break;case"BUILDINGS.BUILDINGS":n.minZoomLevel=11;n.maxZoomLevel=17;if(p!="ANF"){n.metadataURL=r+"GL_BATI_"+p+".xml"}break;case"ADMINISTRATIVEUNITS.BOUNDARIES":n.minZoomLevel=11;n.maxZoomLevel=17;if(p!="ANF"){n.metadataURL=r+"GL_ADMIN_"+p+".xml"}break;case"UTILITYANDGOVERNMENTALSERVICES.ALL":n.minZoomLevel=14;n.maxZoomLevel=17;if(p!="ANF"){n.metadataURL=r+"GL_SRVPUB_"+p+".xml"}break;default:s=null;break}break;case"GUF":switch(o.name){case"ORTHOIMAGERY.ORTHOPHOTOS":n.minZoomLevel=5;n.maxZoomLevel=17;if(o.type=="WMSC"){n.originators=[];n.originators.push(this._getOriginator("planetobserver",5,8));n.originators.push(this._getOriginator("spotimage",9,11));n.originators.push(this._getOriginator("cnes",9,11));n.originators.push(this._getOriginator("ifn",9,11));n.originators.push(this._getOriginator("ird",9,11));n.originators.push(this._getOriginator("seasguyane",9,11));n.originators.push(this._getOriginator("ign",12,17))}n.metadataURL=r+"GL_PHOTO_GUF.xml";break;case"GEOGRAPHICALGRIDSYSTEMS.MAPS":n.minZoomLevel=5;n.maxZoomLevel=17;n.metadataURL=r+"GL_CARTE_GUF.xml";break;case"ELEVATION.SLOPS":n.minZoomLevel=5;n.maxZoomLevel=12;n.metadataURL=r+"GL_ALTI_GUF.xml";break;case"HYDROGRAPHY.HYDROGRAPHY":n.minZoomLevel=11;n.maxZoomLevel=13;n.metadataURL=r+"GL_HYDRO_GUF.xml";break;case"TRANSPORTNETWORKS.ROADS":n.minZoomLevel=11;n.maxZoomLevel=13;n.metadataURL=r+"GL_ROUTE_GUF.xml";break;case"TRANSPORTNETWORKS.RUNWAYS":n.minZoomLevel=11;n.maxZoomLevel=13;n.metadataURL=r+"GL_AERIEN_GUF.xml";break;case"BUILDINGS.BUILDINGS":n.minZoomLevel=11;n.maxZoomLevel=13;n.metadataURL=r+"GL_BATI_GUF.xml";break;case"UTILITYANDGOVERNMENTALSERVICES.ALL":n.minZoomLevel=11;n.maxZoomLevel=13;n.metadataURL=r+"GL_SRVPUB_GUF.xml";break;case"ADMINISTRATIVEUNITS.BOUNDARIES":n.minZoomLevel=11;n.maxZoomLevel=13;n.metadataURL=r+"GL_ADMIN_GUF.xml";break;default:s=null;break}break;case"KER":switch(o.name){case"GEOGRAPHICALGRIDSYSTEMS.MAPS":n.opacity=1;n.minZoomLevel=5;n.maxZoomLevel=13;n.metadataURL=r+"GL_CARTE_KER.xml";break;default:s=null;break}break;case"MYT":switch(o.name){case"ORTHOIMAGERY.ORTHOPHOTOS":n.minZoomLevel=5;n.maxZoomLevel=17;if(o.type=="WMSC"){n.originators=[];n.originators.push(this._getOriginator("planetobserver",5,8));n.originators.push(this._getOriginator("ign",9,17))}n.metadataURL=r+"GL_PHOTO_MYT.xml";break;case"GEOGRAPHICALGRIDSYSTEMS.MAPS":n.minZoomLevel=5;n.maxZoomLevel=17;n.metadataURL=r+"GL_CARTE_MYT.xml";break;case"ELEVATION.SLOPS":n.minZoomLevel=5;n.maxZoomLevel=12;n.metadataURL=r+"GL_ALTI_MYT.xml";break;case"HYDROGRAPHY.HYDROGRAPHY":n.minZoomLevel=14;n.maxZoomLevel=17;n.metadataURL=r+"GL_HYDRO_MYT.xml";break;case"TRANSPORTNETWORKS.ROADS":n.minZoomLevel=14;n.maxZoomLevel=17;n.metadataURL=r+"GL_ROUTE_MYT.xml";break;case"TRANSPORTNETWORKS.RUNWAYS":n.minZoomLevel=14;n.maxZoomLevel=17;n.metadataURL=r+"GL_AERIEN_MYT.xml";break;case"BUILDINGS.BUILDINGS":n.minZoomLevel=14;n.maxZoomLevel=17;n.metadataURL=r+"GL_BATI_MYT.xml";break;case"ADMINISTRATIVEUNITS.BOUNDARIES":n.minZoomLevel=14;n.maxZoomLevel=17;n.metadataURL=r+"GL_ADMIN_MYT.xml";break;default:s=null;break}break;case"NCL":switch(o.name){case"ORTHOIMAGERY.ORTHOPHOTOS":if(o.type=="WMSC"){n.minZoomLevel=5;n.maxZoomLevel=11;n.originators=[];n.originators.push(this._getOriginator("planetobserver",5,11));n.metadataURL=r+"GL_PHOTO_NCL.xml";n.maxExtent=new OpenLayers.Bounds(157.468808,-28.258555,172.707725,-14.129278)}break;case"GEOGRAPHICALGRIDSYSTEMS.MAPS":n.opacity=1;n.minZoomLevel=5;n.maxZoomLevel=13;n.metadataURL=r+"GL_CARTE_NCL.xml";break;case"ELEVATION.SLOPS":n.minZoomLevel=5;n.maxZoomLevel=12;n.metadataURL=r+"GL_ALTI_NCL.xml";break;default:s=null;break}break;case"PYF":switch(o.name){case"ORTHOIMAGERY.ORTHOPHOTOS":if(o.type=="WMSC"){n.minZoomLevel=5;n.maxZoomLevel=11;n.originators=[];n.originators.push(this._getOriginator("planetobserver",5,11));n.metadataURL=r+"GL_PHOTO_PYF.xml";n.maxExtent=new OpenLayers.Bounds(-160.904751,-28.258555,-107.269834,14.129278)}break;case"GEOGRAPHICALGRIDSYSTEMS.MAPS":n.minZoomLevel=5;n.maxZoomLevel=13;n.metadataURL=r+"GL_CARTE_PYF.xml";break;default:s=null;break}break;case"REU":switch(o.name){case"ORTHOIMAGERY.ORTHOPHOTOS":if(o.type=="WMSC"){n.minZoomLevel=5;n.maxZoomLevel=17;n.originators=[];n.originators.push(this._getOriginator("planetobserver",5,8));n.originators.push(this._getOriginator("ign",9,17));n.metadataURL=r+"GL_PHOTO_REU.xml"}break;case"GEOGRAPHICALGRIDSYSTEMS.MAPS":n.minZoomLevel=5;n.maxZoomLevel=17;n.metadataURL=r+"GL_CARTE_REU.xml";break;case"ELEVATION.SLOPS":n.minZoomLevel=5;n.maxZoomLevel=12;n.metadataURL=r+"GL_ALTI_REU.xml";break;case"CADASTRALPARCELS.PARCELS":n.minZoomLevel=12;n.maxZoomLevel=18;n.metadataURL=r+"GL_PARCEL_REU.xml";n.maxExtent=new OpenLayers.Bounds(52.971076,-23.549084,58.015911,-18.839324);break;case"HYDROGRAPHY.HYDROGRAPHY":n.minZoomLevel=11;n.maxZoomLevel=17;n.metadataURL=r+"GL_HYDRO_REU.xml";break;case"TRANSPORTNETWORKS.ROADS":n.minZoomLevel=11;n.maxZoomLevel=17;n.metadataURL=r+"GL_ROUTE_REU.xml";break;case"TRANSPORTNETWORKS.RUNWAYS":n.minZoomLevel=11;n.maxZoomLevel=17;n.metadataURL=r+"GL_AERIEN_REU.xml";break;case"BUILDINGS.BUILDINGS":n.minZoomLevel=11;n.maxZoomLevel=17;n.metadataURL=r+"GL_BATI_REU.xml";break;case"ADMINISTRATIVEUNITS.BOUNDARIES":n.minZoomLevel=11;n.maxZoomLevel=17;n.metadataURL=r+"GL_ADMIN_REU.xml";break;case"UTILITYANDGOVERNMENTALSERVICES.ALL":n.minZoomLevel=14;n.maxZoomLevel=17;n.metadataURL=r+"GL_SRVPUB_REU.xml";break;default:s=null;break}break;case"ASP":switch(o.name){case"GEOGRAPHICALGRIDSYSTEMS.MAPS":n.opacity=1;n.minZoomLevel=5;n.maxZoomLevel=15;n.metadataURL=r+"GL_CARTE_ASP.xml";break;default:s=null;break}break;case"SPM":switch(o.name){case"ORTHOIMAGERY.ORTHOPHOTOS":n.minZoomLevel=5;n.maxZoomLevel=17;if(o.type=="WMSC"){n.originators=[];n.originators.push(this._getOriginator("planetobserver",5,8));n.originators.push(this._getOriginator("ign",9,17));n.maxExtent=new OpenLayers.Bounds(-62.152397,42.387833,-48.340754,56.517111)}n.metadataURL=r+"GL_PHOTO_SPM.xml";break;case"GEOGRAPHICALGRIDSYSTEMS.MAPS":n.minZoomLevel=5;n.maxZoomLevel=17;n.metadataURL=r+"GL_CARTE_SPM.xml";break;case"ELEVATION.SLOPS":n.minZoomLevel=5;n.maxZoomLevel=12;n.metadataURL=r+"GL_ALTI_SPM.xml";break;default:s=null;break}break;case"WLD":switch(o.name){case"ORTHOIMAGERY.ORTHOPHOTOS":n.minZoomLevel=0;n.maxZoomLevel=4;if(o.type=="WMSC"){n.originators=[];n.originators.push(this._getOriginator("planetobserver"))}break;case"GEOGRAPHICALGRIDSYSTEMS.MAPS":n.minZoomLevel=0;n.maxZoomLevel=4;break;default:s=null;break}break;case"WLF":switch(o.name){case"ORTHOIMAGERY.ORTHOPHOTOS":n.minZoomLevel=5;n.maxZoomLevel=17;if(o.type=="WMSC"){n.originators=[];n.originators.push(this._getOriginator("planetobserver",5,8));n.originators.push(this._getOriginator("ign",9,17));n.maxExtent=new OpenLayers.Bounds(-179.595856,-18.839037,-174.741914,-9.419518)}n.metadataURL=r+"GL_PHOTO_WLF.xml";break;case"GEOGRAPHICALGRIDSYSTEMS.MAPS":n.minZoomLevel=5;n.maxZoomLevel=15;n.metadataURL=r+"GL_CARTE_WLF.xml";break;case"ELEVATION.SLOPS":n.minZoomLevel=5;n.maxZoomLevel=12;n.metadataURL=r+"GL_ALTI_WLF.xml";break;default:s=null;break}break}if(s){n.name=o.name;n.projection=null;for(var h=0,j=c.length;h<j;h++){if(typeof(c[h])=="string"){c[h]=new OpenLayers.Projection(c[h],{domainOfValidity:OpenLayers.Bounds.fromArray(Geoportal.Catalogue.TERRITORIES[p].geobbox)})}else{c[h]=new OpenLayers.Projection(c[h].getCode(),{domainOfValidity:OpenLayers.Bounds.fromArray(Geoportal.Catalogue.TERRITORIES[p].geobbox)})}if(c[h].equals(this.map.getProjection())){n.projection=new OpenLayers.Projection(c[h].getCode(),{domainOfValidity:OpenLayers.Bounds.fromArray(Geoportal.Catalogue.TERRITORIES[p].geobbox)})}}if(!n.projection){n.projection=new OpenLayers.Projection(c[0].getCode(),{domainOfValidity:OpenLayers.Bounds.fromArray(Geoportal.Catalogue.TERRITORIES[p].geobbox)})}s.params.layers=o.name;if((s.classLayer==Geoportal.Layer.WMSC)&&!n.projection.equals(this.map.getProjection())){n.nativeResolutions=Geoportal.Catalogue.RESOLUTIONS.slice(0)}if(n.maxExtent==undefined){n.maxExtent=this.getExtent(p)}n.maxExtent.transform(Geoportal.Catalogue.TERRITORIES[p].geoCRS[0],n.projection,true);OpenLayers.Util.extend(s.options,n)}return s},CLASS_NAME:"Geoportal.Catalogue"});Geoportal.Catalogue.RESOLUTIONS=[39135.75,19567.875,9783.9375,4891.96875,2445.984375,2048,1024,512,256,128,64,32,16,8,4,2,1,0.5,0.25,0.125,0.0625];Geoportal.Catalogue.TERRITORIES={ATF:{geobbox:[132.56,-68.62,144.54,-64.03],geocenter:[140.001389,-66.66278],defaultCRS:["IGNF:TERA50STEREO","IGNF:WGS84G"],geoCRS:["IGNF:WGS84G"],displayCRS:["IGNF:WGS84G","CRS:84","EPSG:4326","IGNF:TERA50STEREO"],baseLayers:{"IGNF:TERA50STEREO":{minZoomLevel:5,maxZoomLevel:13,defaultZoomLevel:10}}},CHE:{},CRZ:{geobbox:[47,-48,55,-44],geocenter:[51.866667,-46.433333],defaultCRS:["IGNF:GEOPORTALCRZ","IGNF:UTM39SW84"],geoCRS:["IGNF:WGS84G"],displayCRS:["IGNF:WGS84G","CRS:84","EPSG:4326","IGNF:UTM39SW84","EPSG:32739"],baseLayers:{"IGNF:GEOPORTALCRZ":{minZoomLevel:5,maxZoomLevel:13,defaultZoomLevel:11},"IGNF:UTM39SW84":{minZoomLevel:5,maxZoomLevel:13,defaultZoomLevel:11}}},FXX:{geobbox:[-31.17,27.33,69.03,80.83],geocenter:[2.345274398,48.860832558],defaultCRS:["IGNF:GEOPORTALFXX","IGNF:LAMB93"],geoCRS:["IGNF:RGF93G"],displayCRS:["IGNF:RGF93G","EPSG:4171","EPSG:4258","CRS:84","EPSG:4326","EPSG:3034","EPSG:3035","IGNF:LAMB93","EPSG:2154"],baseLayers:{"IGNF:GEOPORTALFXX":{minZoomLevel:5,maxZoomLevel:18,defaultZoomLevel:5},"IGNF:LAMB93":{minZoomLevel:5,maxZoomLevel:18,defaultZoomLevel:5}}},GLP:{geobbox:[-63.2,15.75,-60,17.5],geocenter:[-61.732777778,15.996111111],defaultCRS:["IGNF:GEOPORTALANF","IGNF:UTM20W84GUAD"],geoCRS:["IGNF:WGS84RRAFGEO"],displayCRS:["IGNF:WGS84RRAFGEO","CRS:84","EPSG:4326","IGNF:UTM20W84GUAD","EPSG:2969","EPSG:32620"],baseLayers:{"IGNF:GEOPORTALANF":{minZoomLevel:5,maxZoomLevel:18,defaultZoomLevel:13},"IGNF:UTM20W84GUAD":{minZoomLevel:5,maxZoomLevel:18,defaultZoomLevel:13}}},GUF:{geobbox:[-62.1,-4.3,-46,11.5],geocenter:[-52.305277778,4.932222222],defaultCRS:["IGNF:GEOPORTALGUF","IGNF:UTM22RGFG95"],geoCRS:["IGNF:RGFG95GEO"],displayCRS:["IGNF:RGFG95GEO","CRS:84","EPSG:4326","IGNF:UTM22RGFG95","EPSG:2972","EPSG:32622"],baseLayers:{"IGNF:GEOPORTALGUF":{minZoomLevel:5,maxZoomLevel:18,defaultZoomLevel:10},"IGNF:UTM22RGFG95":{minZoomLevel:5,maxZoomLevel:18,defaultZoomLevel:10}}},KER:{geobbox:[62,-53,76,-45],geocenter:[70.215278,-49.354167],defaultCRS:["IGNF:GEOPORTALKER","IGNF:UTM42SW84"],geoCRS:["IGNF:WGS84G"],displayCRS:["IGNF:WGS84G","CRS:84","EPSG:4326","IGNF:UTM42SW84","EPSG:32742"],baseLayers:{"IGNF:GEOPORTALKER":{minZoomLevel:5,maxZoomLevel:13,defaultZoomLevel:11},"IGNF:UTM42SW84":{minZoomLevel:5,maxZoomLevel:13,defaultZoomLevel:11}}},MTQ:{geobbox:[-64,11.7,-59,15.7],geocenter:[-61.075,14.6],defaultCRS:["IGNF:GEOPORTALANF","IGNF:UTM20W84MART"],geoCRS:["IGNF:WGS84RRAFGEO"],displayCRS:["IGNF:WGS84RRAFGEO","CRS:84","EPSG:4326","IGNF:UTM20W84MART","EPSG:2989","EPSG:32620"],baseLayers:{"IGNF:GEOPORTALANF":{minZoomLevel:5,maxZoomLevel:18,defaultZoomLevel:13},"IGNF:UTM20W84MART":{minZoomLevel:5,maxZoomLevel:18,defaultZoomLevel:13}}},MYT:{geobbox:[40,-17.5,56,3],geocenter:[45.228333333,-12.781666667],defaultCRS:["IGNF:GEOPORTALMYT","IGNF:RGM04UTM38S"],geoCRS:["IGNF:RGM04GEO"],displayCRS:["IGNF:RGM04GEO","CRS:84","EPSG:4326","IGNF:RGM04UTM38S","EPSG:32738"],baseLayers:{"IGNF:GEOPORTALMYT":{minZoomLevel:5,maxZoomLevel:18,defaultZoomLevel:14},"IGNF:RGM04UTM38S":{minZoomLevel:5,maxZoomLevel:18,defaultZoomLevel:14}}},NCL:{geobbox:[160,-24.3,170,-17.1],geocenter:[166.433333,-22.283333],defaultCRS:["IGNF:GEOPORTALNCL","IGNF:RGNCUTM57S","IGNF:RGNCUTM58S","IGNF:RGNCUTM59S"],geoCRS:["IGNF:RGNCGEO"],displayCRS:["IGNF:RGNCGEO","CRS:84","EPSG:4326","IGNF:RGNCUTM57S","EPSG:32757","IGNF:RGNCUTM58S","EPSG:32758","IGNF:RGNCUTM59S","EPSG:32759"],baseLayers:{"IGNF:GEOPORTALNCL":{minZoomLevel:5,maxZoomLevel:13,defaultZoomLevel:9},"IGNF:RGNCUTM57S":{minZoomLevel:5,maxZoomLevel:13,defaultZoomLevel:9},"IGNF:RGNCUTM58S":{minZoomLevel:5,maxZoomLevel:13,defaultZoomLevel:9},"IGNF:RGNCUTM59S":{minZoomLevel:5,maxZoomLevel:13,defaultZoomLevel:9}}},PYF:{geobbox:[-160,-28.2,-108,11],geocenter:[-149.569444,-17.536111],defaultCRS:["IGNF:GEOPORTALPYF","IGNF:RGPFUTM5S","IGNF:RGPFUTM6S","IGNF:RGPFUTM7S"],geoCRS:["IGNF:RGPFGEO"],displayCRS:["IGNF:RGPFGEO","CRS:84","EPSG:4326","IGNF:RGPFUTM5S","EPSG:3296","EPSG:32705","IGNF:RGPFUTM6S","EPSG:3297","EPSG:32706","IGNF:RGPFUTM7S","EPSG:3298","EPSG:32707"],baseLayers:{"IGNF:GEOPORTALPYF":{minZoomLevel:5,maxZoomLevel:11,defaultZoomLevel:11},"IGNF:RGPFUTM5S":{minZoomLevel:5,maxZoomLevel:11,defaultZoomLevel:11},"IGNF:RGPFUTM6S":{minZoomLevel:5,maxZoomLevel:11,defaultZoomLevel:11},"IGNF:RGPFUTM7S":{minZoomLevel:5,maxZoomLevel:11,defaultZoomLevel:11}}},REU:{geobbox:[37.5,-26.2,60,-17.75],geocenter:[55.466666667,-20.875],defaultCRS:["IGNF:GEOPORTALREU","IGNF:RGR92UTM40S"],geoCRS:["IGNF:RGR92GEO"],displayCRS:["IGNF:RGR92GEO","CRS:84","EPSG:4326","IGNF:RGR92UTM40S","EPSG:2975","EPSG:32740"],baseLayers:{"IGNF:GEOPORTALREU":{minZoomLevel:5,maxZoomLevel:18,defaultZoomLevel:13},"IGNF:RGR92UTM40S":{minZoomLevel:5,maxZoomLevel:18,defaultZoomLevel:13}}},ASP:{geobbox:[76,-40,79,-36],geocenter:[77.571944,-37.796389],defaultCRS:["IGNF:GEOPORTALASP","IGNF:UTM43SW84"],geoCRS:["IGNF:WGS84G"],displayCRS:["IGNF:WGS84G","CRS:84","EPSG:4326","IGNF:UTM43SW84","EPSG:32743"],baseLayers:{"IGNF:GEOPORTALASP":{minZoomLevel:5,maxZoomLevel:15,defaultZoomLevel:13},"IGNF:UTM43SW84":{minZoomLevel:5,maxZoomLevel:15,defaultZoomLevel:13}}},SPM:{geobbox:[-60,43.5,-50,52],geocenter:[-56.173611,46.780556],defaultCRS:["IGNF:GEOPORTALSPM","IGNF:RGSPM06U21"],geoCRS:["IGNF:RGSPM06GEO"],displayCRS:["IGNF:RGSPM06GEO","CRS:84","EPSG:4326","IGNF:RGSPM06U21","EPSG:32606"],baseLayers:{"IGNF:GEOPORTALSPM":{minZoomLevel:5,maxZoomLevel:18,defaultZoomLevel:14},"IGNF:RGSPM06U21":{minZoomLevel:5,maxZoomLevel:18,defaultZoomLevel:14}}},WLD:{geobbox:[-180,-90,180,90],geocenter:[2.345274398,48.860832558],defaultCRS:["IGNF:MILLER"],geoCRS:[OpenLayers.Projection.CRS84],displayCRS:[OpenLayers.Projection.CRS84],baseLayers:{"IGNF:MILLER":{minZoomLevel:0,maxZoomLevel:4,defaultZoomLevel:4}}},WLF:{geobbox:[-178.5,-14.6,-175.8,-12.8],geocenter:[-176.173611,-13.283333],defaultCRS:["IGNF:GEOPORTALWLF","IGNF:UTM01SW84"],geoCRS:["IGNF:WGS84G"],displayCRS:["IGNF:WGS84G","CRS:84","EPSG:4326","IGNF:UTM01SW84","EPSG:32701"],baseLayers:{"IGNF:GEOPORTALWLF":{minZoomLevel:5,maxZoomLevel:17,defaultZoomLevel:14},"IGNF:UTM01SW84":{minZoomLevel:5,maxZoomLevel:17,defaultZoomLevel:14}}}};Geoportal.Catalogue.TERRITORIES.EUE=OpenLayers.Util.extend({},Geoportal.Catalogue.TERRITORIES.FXX);Geoportal.Catalogue.TERRITORIES.SBA=OpenLayers.Util.extend({},Geoportal.Catalogue.TERRITORIES.GLP);Geoportal.Catalogue.TERRITORIES.SBA.geobbox=[-63,17.75,-62.7,17.99];Geoportal.Catalogue.TERRITORIES.SBA.geocenter=[-62.85,17.895833];Geoportal.Catalogue.TERRITORIES.SMA=OpenLayers.Util.extend({},Geoportal.Catalogue.TERRITORIES.GLP);Geoportal.Catalogue.TERRITORIES.SMA.geobbox=[-63.19,18,-62.9,18.18];Geoportal.Catalogue.TERRITORIES.SMA.geocenter=[-63.088888,18.069722];Geoportal.Catalogue.TERRITORIES.ANF=OpenLayers.Util.extend({},Geoportal.Catalogue.TERRITORIES.GLP);Geoportal.Catalogue.TERRITORIES.ANF.geobbox=[-64,11.7,-59,18.18];Geoportal.Control=OpenLayers.Class(OpenLayers.Control,{initialize:function(a){this.displayClass=this.CLASS_NAME.replace("Geoportal.","gp").replace(/\./g,"");OpenLayers.Util.extend(this,a);this.events=new OpenLayers.Events(this,null,this.EVENT_TYPES);if(this.eventListeners instanceof Object){this.events.on(this.eventListeners)}if(this.id==null){this.id=OpenLayers.Util.createUniqueID(this.CLASS_NAME+"_")}},changeLang:function(a){},setSelectable:function(b){if(!this.allowSelection){var a=(b===false?"on":"off");var c=(b===false?OpenLayers.Function.False:OpenLayers.Function.True);OpenLayers.Element.removeClass(this.div,"olControlNoSelect");if(b===false){OpenLayers.Element.addClass(this.div,"olControlNoSelect")}this.div.setAttribute("unselectable",a,0);this.div.onselectstart=c}},CLASS_NAME:"Geoportal.Control"});Geoportal.Control.selectFeature=function(a){if(a){if(!a.popup){a.createPopup()}if(a.layer&&a.layer.map&&a.popup){a.layer.map.addPopup(a.popup)}}};Geoportal.Control.renderFeatureAttributes=function(c){if(!c){return["",""]}var d='<table border="1" cellspacing="0" cellpadding="0">';var b="";for(var a in c.attributes){if(c.attributes.hasOwnProperty(a)){if(a.toLowerCase()=="name"){if(c.attributes[a]&&typeof(c.attributes[a])=="object"){b=c.attributes[a].value}else{b=c.attributes[a]}b=b||""}d+='<tr><td class="gpAttName">'+a+'</td><td class="gpAttValue">'+(c.attributes[a]&&typeof(c.attributes[a])=="object"?c.attributes[a].value:c.attributes[a])||"</td></tr>"}}d+="</table>";return[b,d]};Geoportal.Control.hoverFeature=function(b){if(b){if(!b.popup){var a=Geoportal.Control.renderFeatureAttributes(b);b.popup=new OpenLayers.Popup.FramedCloud("chicken",b.geometry.getBounds().getCenterLonLat(),null,'<div class="gpPopupHead">'+a[0]+'</div><div class="gpPopupBody">'+a[1]+"</div>",null,false);Geoportal.Popup.completePopup(b.popup,{maxSize:new OpenLayers.Size(300,300),overflow:"auto"})}if(b.layer&&b.layer.map&&b.popup){b.layer.map.addPopup(b.popup,true)}}};Geoportal.Control.unselectFeature=function(a){if(a){if(a.popup){a.popup.destroy();a.popup=null}}};Geoportal.Lang={add:function(b){for(var a in b){if(b.hasOwnProperty(a)){for(var c in b[a]){if(b[a].hasOwnProperty(c)){var d=Geoportal.Lang[c];if(!d){d={}}d[a]=b[a][c]}}}}},translate:function(b,a){var d=Geoportal.Lang[OpenLayers.Lang.getCode()];var c=d[b];if(!c){c=OpenLayers.Lang.translate(b)}if(a){c=OpenLayers.String.format(c,a)}return c}};Geoportal.i18n=Geoportal.Lang.translate;OpenLayers.i18n=Geoportal.Lang.translate;Geoportal.Layer=OpenLayers.Class(OpenLayers.Layer,{CLASS_NAME:"Geoportal.Layer"});Geoportal.Layer.onPreAddLayer=function(a){if(a==null){return}if(a.layer==null){return}if(a.layer.isBaseLayer){return}if(a.layer.getCompatibleProjection(this)!==null){if(!a.layer.savedStates[this.id]){a.layer.savedStates[this.id]={}}a.layer.savedStates[this.id].visibility=!!a.layer.visibility;if(a.layer.opacity!=undefined){a.layer.savedStates[this.id].opacity=a.layer.opacity}}};Geoportal.Tile=OpenLayers.Class(OpenLayers.Tile,{CLASS_NAME:"Geoportal.Tile"});Geoportal.Util={getImagesLocation:function(){return Geoportal._getScriptLocation()+"theme/geoportal/img/"},convertToPixels:function(e,a,f){if(!e){return undefined}if(a==undefined){a=false}if(/px$/.test(e)){return parseInt(e)}var d=document.createElement("div");d.style.display="";d.style.visibility="hidden";d.style.position="absolute";d.style.lineHeight="0";if(!f){f=document.body}if(/%$/.test(e)){f=f.parentNode||f;d.style[a?"width":"height"]=e}else{d.style.borderStyle="solid";if(a){d.style.borderBottomHeight="0";d.style.borderTopHeight=e}else{d.style.borderBottomWidth="0";d.style.borderTopWidth=e}}f.appendChild(d);var b=a?d.offsetWidth:d.offsetHeight;f.removeChild(d);return b},getComputedStyle:function(f,g,b){var a;if(f.currentStyle){a=f.currentStyle[OpenLayers.String.camelize(g)]}else{if(document.defaultView.getComputedStyle){var e=document.defaultView.getComputedStyle(f,null);a=e.getPropertyValue(g)}else{a=null}}var d=/(em|ex|pt|%)$/;var c=/(width)/i;a=b?a?d.test(a)?this.convertToPixels(a,c.test(a),f.parentNode):parseInt(a)||0:0:a;return a},loadJS:function(a,c,j,h){c=c||a;var d=OpenLayers.Util.getElement(c);if(d!=null){return[d,false]}var b=document.getElementsByTagName("script"),e,k;var g,f;for(g=0,f=b.length;g<f;++g){if(OpenLayers.Util.isEquivalentUrl(b.item(g).src,a)){b.item(g).setAttribute("id",c);return[b.item(g),false]}}b=document.getElementsByTagName("head");var m=b.length>0?b[0]:document.body;var o=OpenLayers.Util.getElement(j||"");d=document.createElement("script");d.setAttribute("type","text/javascript");d.setAttribute("src",a);d.setAttribute("charset","UTF-8");d.setAttribute("id",c);if(h!=undefined){d.onload=function(){if(d.readyState&&d.readyState!="loaded"&&d.readyState!="complete"){return}d.onreadystatechange=d.onload=null;h()};if(navigator.appName!="Opera"){d.onreadystatechange=d.onload}}if(o!=null){var o=OpenLayers.Util.getElement(j);OpenLayers.Element.insertAfter(d,o)}else{b=m.childNodes;k=null;for(g=0,f=b.length;g<f;g++){e=b[g];if(e.nodeType!=1){continue}switch(e.tagName.toLowerCase()){case"script":if(e.getAttribute("type").toLowerCase()=="text/javascript"){k=e}break;default:break}if(k!=null){break}}if(k==null){m.appendChild(d)}else{OpenLayers.Element.insertAfter(d,k)}}return[d,true]},loadCSS:function(a,c,g){c=c||a;var h=OpenLayers.Util.getElement(c);if(h!=null){return[h,false]}var b=document.getElementsByTagName("link"),d,j;var f,e;for(f=0,e=b.length;f<e;++f){if(OpenLayers.Util.isEquivalentUrl(b.item(f).href,a)){b.item(f).setAttribute("id",c);return[b.item(f),false]}}b=document.getElementsByTagName("head");var k=b.length>0?b[0]:document.body;h=document.createElement("link");h.setAttribute("rel","stylesheet");h.setAttribute("type","text/css");h.setAttribute("href",a);h.setAttribute("id",c);if(g==""){k.appendChild(h);return[h,true]}var m=g!=null?OpenLayers.Util.getElement(g):null;if(m!=null){OpenLayers.Element.insertAfter(h,m);return[h,true]}b=k.childNodes;j=null;for(f=0,e=b.length;f<e;f++){d=b[f];if(d.nodeType!=1){continue}switch(d.tagName.toLowerCase()){case"link":if(d.getAttribute("rel").toLowerCase()=="stylesheet"||d.getAttribute("type").toLowerCase()=="text/css"){j=d}break;case"style":j=d;break;default:break}if(j!=null){break}}if(j==null){k.appendChild(h)}else{j.parentNode.insertBefore(h,j)}return[h,true]},cleanContent:function(b){var a=b.replace(/[\r\n]?/gi,"");a=a.replace(/<[\/]?html[^>]*>/gi,"");a=a.replace(/<head[^>]*>.*<\/head>/gi,"");a=a.replace(/<[\/]?body[^>]*>/gi,"");a=a.replace(/<script[^>]*>.*<\/script>/gi,"");return a},getMaxDimensions:function(){var a=0,b=0;if(document.innerHeight>b){a=document.innerWidth;b=document.innerHeight}if(document.documentElement&&document.documentElement.clientHeight>b){a=document.documentElement.clientWidth;b=document.documentElement.clientHeight}if(document.body&&document.body.clientHeight>b){a=document.body.clientWidth;b=document.body.clientHeight}return new OpenLayers.Size(a,b)},dmsToDeg:function(i){if(!i){return Number.NaN}var h=i.match(/(^\s?-)|(\s?[SW]\s?$)/)!=null?-1:1;i=i.replace(/(^\s?-)|(\s?[NSEW]\s?)$/,"");i=i.replace(/\s/g,"");var e=i.match(/(\d{1,3})[.,°d]?(\d{0,2})[']?(\d{0,2})[.,]?(\d{0,})(?:["]|[']{2})?/);if(e==null){return Number.NaN}var f=(e[1]?e[1]:"0.0")*1;var a=(e[2]?e[2]:"0.0")*1;var b=(e[3]?e[3]:"0.0")*1;var c=(e[4]?("0."+e[4]):"0.0")*1;var g=(f+(a/60)+(b/3600)+(c/3600))*h;return g},degToDMS:function(e,c,a,o){var l=Math.abs(e);var f=Math.round(l+0.5)-1;var i=60*(l-f);var h=Math.round(i+0.5)-1;i=60*(i-h);var n=Math.round(i+0.5)-1;if(a===undefined||a<0){a=1}var g=Math.pow(10,a);var m=g*(i-n);m=Math.round(m+0.5)-1;if(m>=g){n=n+1;m=0}if(n==60){h=h+1;n=0}if(h==60){f=f+1;h=0}var d="";if(c&&!o&&(c instanceof Array)&&c.length==2){d=" "+(e>0?c[0]:c[1])}else{if(e<0){f=-1*f}}var j="%4d° %02d' %02d",b='.%0*d"';if(o){j=o;b="%0*d"}var p=OpenLayers.String.sprintf(j,f,h,n)+(a>0?OpenLayers.String.sprintf(b,a,m):(o?'"':""))+d;return p}};Geoportal.Cookies={_get:function(f){var g=document.cookie.split(";");var j={name:f,value:null,path:"",domain:"",ttl:0,secure:false};for(var e=0,a=g.length;e<a;e++){var d=g[e].split("=");var h=d[0];var b=d[1];if(OpenLayers.String.trim(h)===f){j.value=decodeURIComponent(b);break}}return(j.value===null?null:j)},get:function(b,a){var d=Geoportal.Cookies._get(OpenLayers.String.trim(b));return(d?d.value:a)},expireDateToHours:function(d){var b=new Date(d);if(isNaN(b)){return -1}var c=new Date();var a=(b.getTime()-c.getTime())/(60*60*1000);return a},set:function(i,e,b,j,d,a){if(i==null){return}var h=OpenLayers.String.trim(typeof(i)=="object"?i.name:i);var f=Geoportal.Cookies._get(h)||{name:"",value:null,ttl:0,path:"",domain:"",secure:false};var g;if(typeof(i)=="string"){g={name:h,value:typeof(e)==="undefined"?f.value||"":e,ttl:typeof(b)==="undefined"?f.ttl||"":b,path:f.path||j||"",domain:f.domain||d||"",secure:f.secure||a||false}}else{g={name:h,value:typeof(i.value)==="undefined"?f.value||"":i.value,ttl:typeof(i.ttl)==="undefined"?f.ttl||"":i.ttl,path:f.path||i.path||"",domain:f.domain||i.domain||"",secure:f.secure||i.secure||false}}document.cookie=Geoportal.Cookies.toString(g)},remove:function(a){Geoportal.Cookies.set(a,"",-1)},toString:function(e,b){var a=[];a.push(e.name+"="+encodeURIComponent(""+e.value));if(e.path){a.push("path="+e.path)}if(b===true){a.push("domain="+(!e.domain?location.hostname:e.domain))}if(e.ttl&&!isNaN(e.ttl)){if(e.ttl<1){a.push("expires=Thu, 01-Jan-1970 00:00:01 GMT")}else{a.push("max-age="+e.ttl*60*60)}}if(e.secure){a.push("secure")}var d=a.join("; ");return d},cookiesEnabled:function(){var a={name:"cookieEnabled",value:"1"};Geoportal.Cookies.set(a.name,a.value);var d=Geoportal.Cookies.get(a.name);var b=!(d===undefined||d!=a.value);Geoportal.Cookies.remove(a.name);return b}};Geoportal.Control.Logo=OpenLayers.Class(Geoportal.Control,{logoPrefix:"http://www.geoportail.fr/legendes/logo_",logoSuffix:".gif",logoSize:null,_listeLogos:null,initialize:function(a){Geoportal.Control.prototype.initialize.apply(this,arguments);if(!this.logoSize){this.logoSize=new OpenLayers.Size(Geoportal.Control.Logo.WHSizes.normal,Geoportal.Control.Logo.WHSizes.normal)}if(typeof(this.logoSize)=="number"){this.logoSize=new OpenLayers.Size(this.logoSize,this.logoSize)}this._listeLogos=[]},destroy:function(){var b=this.div.childNodes;for(var a=0;a<b.length;a++){this.div.removeChild(b[a])}this._listeLogos=null;this.map.events.unregister("addlayer",this,this.redraw);this.map.events.unregister("changelayer",this,this.redraw);this.map.events.unregister("removelayer",this,this.redraw);this.map.events.unregister("zoomend",this,this.redraw);Geoportal.Control.prototype.destroy.apply(this,arguments)},draw:function(a){Geoportal.Control.prototype.draw.apply(this,arguments);return this.div},redraw:function(){var c;var e=this.div.childNodes;for(c=0;c<e.length;c++){e[c].style.display="none"}var g=this.map.layers;var d=this.map.getZoom();var f;for(c=0;c<g.length;c++){if(!g[c].getVisibility()||!g[c].inRange){continue}if(g[c].originators!=null){var a;for(var b=0;b<g[c].originators.length;b++){a=true;var f=g[c].originators[b];if(((f.minZoomLevel)&&(f.minZoomLevel>d))||((this.map.minZoomLevel)&&this.map.minZoomLevel>d)){a=false}if(((f.maxZoomLevel)&&(f.maxZoomLevel<d))||((this.map.maxZoomLevel)&&this.map.maxZoomLevel<d)){a=false}if(a){this._ajoutLogo(f.logo,f.url,f.pictureUrl)}}}}},_ajoutLogo:function(e,b,d){if(this._listeLogos[e]==null){var a=document.createElement("div");this.div.appendChild(a);this._listeLogos[e]=a;var f=OpenLayers.Util.createImage(null,null,new OpenLayers.Size(this.logoSize.w,this.logoSize.h),d?d:this.logoPrefix+e+this.logoSuffix,null,null,null,false);if(b!=null){var c=document.createElement("a");if(b.match(/^javascript:/)){c.setAttribute("href","#");c.setAttribute("onclick",b)}else{c.setAttribute("href",b);c.setAttribute("target","_blank")}c.appendChild(f);a.appendChild(c)}else{a.appendChild(f)}}else{this._listeLogos[e].style.display=""}},setMap:function(){Geoportal.Control.prototype.setMap.apply(this,arguments);this.map.events.register("addlayer",this,this.redraw);this.map.events.register("changelayer",this,this.redraw);this.map.events.register("removelayer",this,this.redraw);this.map.events.register("zoomend",this,this.redraw)},changeLogoSize:function(l){var h=null;if(typeof(l)=="number"){h=new OpenLayers.Size(l,l)}else{h=l.clone()}this.logoSize=h;var d=this.map.layers;for(var e=0,k=d.length;e<k;e++){var g=d[e];if(g.originators!=null){for(var b=0,f=g.originators.length;b<f;b++){var a=g.originators[b];if(this._listeLogos[a.logo]!=null){var c=this._listeLogos[a.logo].firstChild;if(c){if(c.firstChild){c=c.firstChild}if(c){c.style.width=this.logoSize.w+"px";c.style.height=this.logoSize.h+"px"}}}}}}h=null},CLASS_NAME:"Geoportal.Control.Logo"});Geoportal.Control.Logo.WHSizes={normal:50,mini:30};Geoportal.Control.PermanentLogo=OpenLayers.Class(Geoportal.Control,{permaLogo:null,permaURL:null,initialize:function(a){Geoportal.Control.prototype.initialize.apply(this,arguments);if(!this.permaLogo){this.permaLogo=Geoportal.Util.getImagesLocation()+"logo_gp.gif"}if(!this.permaURL){this.permaURL="http://www.geoportail.fr/"}},destroy:function(){this.map.events.unregister("changebaselayer",this,this.changeBaseLayer);this.map.events.unregister("preaddlayer",this,this.onGeoportalLayer);this.map.events.unregister("changelayer",this,this.changeBaseLayer);Geoportal.Control.prototype.destroy.apply(this,arguments)},draw:function(b){Geoportal.Control.prototype.draw.apply(this,arguments);var c=OpenLayers.Util.createImage(null,null,null,this.permaLogo,null,null,null,false);if(this.permaURL!=null){var a=document.createElement("a");a.setAttribute("href",this.permaURL);a.setAttribute("target","_blank");a.appendChild(c);this.div.appendChild(a)}else{this.div.appendChild(c)}if(this.hasGeoportalLayers()){this.div.style.display="block"}else{this.div.style.display="none"}return this.div},onGeoportalLayer:function(a){if(!(this.div.style.display=="none")){return}if(!a){return}if(!a.layer){return}var b=a.layer;if(!b.visibility){return}if(b.GeoRM&&(b.GeoRM instanceof Geoportal.GeoRMHandler.Updater)){this.div.style.display="block"}},hasGeoportalLayers:function(){if(!this.map){return false}for(var c=0,a=this.map.layers.length;c<a;c++){var b=this.map.layers[c];if(!b.visibility){continue}if(b.GeoRM&&(b.GeoRM instanceof Geoportal.GeoRMHandler.Updater)){return true}}return(this.map.layers.length==0)},setMap:function(){Geoportal.Control.prototype.setMap.apply(this,arguments);this.map.events.register("preaddlayer",this,this.onGeoportalLayer);this.map.events.register("changebaselayer",this,this.changeBaseLayer);this.map.events.register("changelayer",this,this.changeBaseLayer)},changeBaseLayer:function(a){if(!a){return}if(a.type=="changelayer"&&a.property!="visibility"){return}if(this.hasGeoportalLayers()){this.div.style.display="block"}else{this.div.style.display="none"}},CLASS_NAME:"Geoportal.Control.PermanentLogo"});Geoportal.Control.TermsOfService=OpenLayers.Class(Geoportal.Control,{tosLabel:null,tosURL:null,draw:function(a){Geoportal.Control.prototype.draw.apply(this,arguments);this.updateTermsOfService();return this.div},updateTermsOfService:function(){if(this.div.childNodes.length>0){this.div.removeChild(this.div.childNodes[0])}if(this.tosLabel==null){this.tosLabel="TOS"}if(this.tosURL==null){this.tosURL="http://www.ign.fr/partage/api/cgu/licAPI_CGUF.pdf"}var a=OpenLayers.i18n(this.tosLabel);var b=document.createElement("a");b.setAttribute("href",this.tosURL);b.setAttribute("alt",a);b.setAttribute("title",a);b.setAttribute("target","_blank");b.appendChild(document.createTextNode(a));this.div.appendChild(b)},changeLang:function(a){this.updateTermsOfService()},CLASS_NAME:"Geoportal.Control.TermsOfService"});Geoportal.GeoRMHandler={};Geoportal.GeoRMHandler.Updater=OpenLayers.Class({GeoRMKey:null,ServerUrl:"http://jeton-api.ign.fr/",ttl:600000,token:null,maps:[],QueryUrl:null,lastUpdate:0,status:0,script:null,reload:false,DOMhead:null,EVENT_TYPES:["tokenupdatestart","tokenupdateend","tokenloaded"],events:null,onTokenLoaded:function(a){a.setCenter(a.getCenter(),a.getZoom(),false,true)},initialize:function(d,b,a,c){OpenLayers.Util.extend(this,c);this.DOMhead=(document.getElementsByTagName("head").length?document.getElementsByTagName("head")[0]:document.body);this.GeoRMKey=d;this.lastUpdate=0;if(b){this.ServerUrl=b}if(this.ServerUrl.charAt(this.ServerUrl.length-1)!="/"){this.ServerUrl+="/"}if(a){this.ttl=1000*a}this.QueryUrl=this.ServerUrl+"getToken?key="+this.GeoRMKey+"&output=json&callback=Geoportal.GeoRMHandler.U"+this.GeoRMKey+".callback&";this.events=new OpenLayers.Events(this,null,this.EVENT_TYPES);if(this.eventListeners instanceof Object){this.eventListeners=[]}this.addOptions(c);OpenLayers.Event.observe(window,"unload",this.destroy)},addOptions:function(a){if(a){if(a.eventListeners&&a.eventListeners instanceof Object){if(!this.eventListeners){this.eventListeners=[]}this.eventListeners.push(a.eventListeners);this.events.on(a.eventListeners)}}},addMap:function(c){for(var b=0,a=this.maps.length;b<a;b++){if(this.maps[b]===c){return}}this.maps.push(c)},destroy:function(){OpenLayers.Event.stopObserving(window,"unload",this.destroy);if(this.eventListeners){for(var b=0,a=this.eventListeners.length;b<a;b++){this.events.un(this.eventListeners[b])}this.eventListeners=null}this.events.destroy();this.events=null;if(this.GeoRMKey){this.GeoRMKey=null}if(this.ServerUrl){this.ServerUrl="http://jeton-api.ign.fr/"}if(this.token){this.token=null}if(this.maps){this.maps=[]}if(this.QueryUrl){this.QueryUrl=null}if(this.script){this.script=null}if(this.DOMhead){this.DOMhead=null}},getToken:function(){var a=(new Date()).getTime();var b=(!this.token)||(this.lastUpdate+this.ttl<a);if(this.lastUpdate+this.ttl/2<a){if(this.status==0){this.lastUpdate=a;this.updateToken()}}if(b&&this.status>=0){this.token=null;this.reload=true;return null}return this.token},updateToken:function(){if(this.events.triggerEvent("updatetokenstart")===false){return}if(this.script){this.DOMhead.removeChild(this.script);this.script=null}this.status++;if(this.status>=10){this.status=0;if(this.events.triggerEvent("updatetokenstop")!==false){OpenLayers.Console.error(OpenLayers.i18n("geoRM.failed",{key:this.GeoRMKey}))}return}this.script=document.createElement("script");this.script.setAttribute("type","text/javascript");var b=this.QueryUrl;for(var c in this.token){b+=c+"="+this.token[c]+"&"}if(this.transport=="referrer"){if(Geoportal.Cookies.cookiesEnabled()){if(Geoportal.Cookies.get(Geoportal.GeoRMHandler.GEORM_REFERRER_COOKIENAME)===undefined){b+="cookie=referrer,"+encodeURIComponent(document.location.href)+"&"}}else{OpenLayers.Console.warn(OpenLayers.i18n("cookies.not.enabled"))}}this.script.setAttribute("src",b);this.DOMhead.appendChild(this.script);if(this.timeout){window.clearTimeout(this.timeout)}var a=this.status*this.ttl/10;this.timeout=window.setTimeout("Geoportal.GeoRMHandler.U"+this.GeoRMKey+".updateToken()",a)},callback:function(c){if(this.events.triggerEvent("updatetokenend")===false){return}if(c==null){OpenLayers.Console.error(OpenLayers.i18n("geoRM.getToken",{key:this.GeoRMKey}))}else{if(this.status>0){this.token=c;if(this.timeout){window.clearTimeout(this.timeout);this.timeout=null}this.status=-1;if(this.reload){for(var b=0,a=this.maps.length;b<a;b++){if(this.events.triggerEvent("tokenloaded")!==false){this.onTokenLoaded(this.maps[b])}}this.reload=false}this.status=0}}},CLASS_NAME:"Geoportal.GeoRMHandler.Updater"});Geoportal.GeoRMHandler.addKey=function(d,b,a,e,c){if(!Geoportal.GeoRMHandler["U"+d]){Geoportal.GeoRMHandler["U"+d]=new Geoportal.GeoRMHandler.Updater(d,b,a,c);Geoportal.GeoRMHandler["U"+d].getToken()}else{Geoportal.GeoRMHandler["U"+d].addOptions(c)}Geoportal.GeoRMHandler["U"+d].addMap(e);return Geoportal.GeoRMHandler["U"+d]};Geoportal.GeoRMHandler.GEORM_REFERRER_COOKIENAME="__rfrrric__";Geoportal.Lang.de={ATF:"Französisch Südliche Territorien",FXX:"Frankreich Festland",GLP:"Guadeloupe",GUF:"Französisch-Guayana",MTQ:"Martinique",MYT:"Mayotte",NCL:"Neukaledonien",PYF:"Französisch-Polynesien",REU:"Réunion",SPM:"Saint Pierre und Miquelon",WLF:"Wallis und Futuna",ANF:"Französisch Antillen",ASP:"Saint Paul und Amsterdam",CRZ:"Crozet",EUE:"Europa",KER:"Kerguelen",SBA:"Saint Barthélémy",SMA:"Saint Martin",WLD:"Die Welt","GEOGRAPHICALGRIDSYSTEMS.MAPS":"IGN Karten","GEOGRAPHICALGRIDSYSTEMS.MAPS.description":"Die karten stammen aus den SCAN-datenbanken des IGN: Welt, Politisches Europa, SCAN 1000®, SCAN 500®, SCAN Régional®, SCAN 200®, SCAN Départemental®, SCAN 100®, SCAN 50®, SCAN 25®.","ORTHOIMAGERY.ORTHOPHOTOS":"Orthofotografie","ORTHOIMAGERY.ORTHOPHOTOS.description":"Die Luftaufnahmen verbinden die präzision der geometrie mit der detailreichhaltigkeit der photographie, auflösung zwischen 50 und 15 cm, oder der satellitenbilder, auflösung zwischen 10 m und 20 m.","ELEVATION.SLOPS":"Hypsometrische farben - Höhe","ELEVATION.SLOPS.description":"Die digitalen geländemodelle stammen aus den BD ALTI® daten, die das französische staatsgebiet mit seinen höhenlinien darstellt. Die abstandsgleichheit der linien reicht von 5 bis 40 m. Die ausgangsdaten wurden auf IGN-Karten im Maßstab von 1 : 25.000,  1 : 50.000 und, ausgehend von einer wiedergabe der luftaufnahmen, im Maßstab von 1 : 20.000, 1 : 30.000 und 1 : 60.000 erfaßt.","ELEVATION.LEVEL0":"Küstenlinie - Höhe","ELEVATION.LEVEL0.description":"Die 0 des Meeres stammt aus LITTO3D®, eine gemeinsame produktion des SHOM und des IGN.","CADASTRALPARCELS.PARCELS":"Katasterparzellen (Flurstücke/Grundstücke)","CADASTRALPARCELS.PARCELS.description":"Die digitale katasterinformation ist für das gesamte französische staatsgebiet durchgehend und georeferenziert. Sie wurde ausgehend von der zusammenstellung des entmaterialisierten katasterplans hergestellt.","HYDROGRAPHY.HYDROGRAPHY":"Gewässernetz","HYDROGRAPHY.HYDROGRAPHY.description":"Die hydrographie der erde wurde ausgehend von der zusammenstellung der daten des BD TOPO®, BD CARTHAGE®, EuroRegionalMal und EuroGlobalMap erstellt.","TRANSPORTNETWORKS.ROADS":"Straßennetz - Verkehrsnetze","TRANSPORTNETWORKS.ROADS.description":"Das straßennetz wurde ausgehend von der zusammenstellung der daten des BD TOPO®, BD CARTO®, EuroRegionalMap und EuroGlobalMap erstellt.","TRANSPORTNETWORKS.RAILWAYS":"Schienennetz - Verkehrsnetze","TRANSPORTNETWORKS.RAILWAYS.description":"Das schienennetz wurde ausgehend von der zusammenstellung der daten des BD TOPO®, BD CARTO®, EuroRegionalMap und EuroGlobalMap erstellt.","TRANSPORTNETWORKS.RUNWAYS":"Luftverkehrnetz - Verkehrsnetze","TRANSPORTNETWORKS.RUNWAYS.description":"Die flughäfen und flugplätze wurden ausgehend von der zusammenstellung der daten des BD TOPO® und BD CARTO® erfaßt.","BUILDINGS.BUILDINGS":"Gebäude","BUILDINGS.BUILDINGS.description":"Die gebäude und bebaute gebiete wurden ausgehend von der zusammenfügung der daten des BD TOPO®, BD CARTO®, EuroRegionalMap und EuroGlobalMap erfaßt.","UTILITYANDGOVERNMENTALSERVICES.ALL":"Versorgungswirtschaft und staatliche Dienste","UTILITYANDGOVERNMENTALSERVICES.ALL.description":"Die verschiedenen energietransportnetze wurden ausgehend von der zusammenstellung der daten des BD TOPO® und BD CARTO® erfaßt.","ADMINISTRATIVEUNITS.BOUNDARIES":"Verwaltungseinheiten","ADMINISTRATIVEUNITS.BOUNDARIES.description":"Die verwaltungseinheiten frankreichs wurden ausgehend von der zusammenstellung der daten des BD TOPO®, BD CARTO®, EuroRegionalMap und EuroBoundaryMap erfaßt.","LANDCOVER.CORINELANDCOVER":"Bodenbedeckung","LANDCOVER.CORINELANDCOVER.description":"CORINE 2006","div.not.found":"${id} konnte nicht in dem dokument gefunden werden: Prüfen sie, ob ${id} auch wirklich existiert.","proxy.not.set":"Keine Proxy-konfiguration: Informationen zu dem vertrag könnten möglicherweise nicht abgerufen werden.","cookies.not.enabled":"Cookies sind deaktiviert. Bitte aktivieren.","geoRM.getConfig":"Die informationen zum schlüßel '${key}' können nicht abgerufen werden - überprüfen sie ihre verbindung.","geoRM.getToken":"Die datei zum schlüßel '${key}' kann nicht abgerufen werden - überprüfen sie ihre verbindung.","geoRM.failed":"Kein gültiges zeichen erhalten zum schlüßel '${key}'","GPX.version":"Version ${gpxVersion} GPX nicht gestützt.","XLS.version":"Version ${xlsVersion} XLS wird vom service ${coreService} nicht gestützt.","Not.conformal.XLS":"${part} fehlt im XML","olControlMeasurePath.title":"Entfernungsmeßung","olControlMeasurePolygon.title":"Flüchenmeßung","waiting.measurement":"In erwartung der eingabe ...","length.measurement":"Länge","area.measurement":"Fläche","gpControlLayerSwitcher.label":"Schichten","gpLayer.metadataURL":"Mehr informationen zu dieser schicht...","gpLayer.dataURL":"Zugang zum download-service","gpControlPanelToggle.closed":"Die tool-leiste anzeigen","gpControlPanelToggle.opened":"Die tool-leiste ausblenden","gpControlRemoveLayer.title":"Die schicht entfernen","gpControlLayerOpacity.title":"Die transparenz einstellen","gpControlZoomToLayerMaxExtent.title":"Auf die bodenfläche der schicht zoomen","gpControlMousePosition.longitude":"Längengrad","gpControlMousePosition.latitude":"Breitengrad","gpControlMousePosition.easting":"Absziße","gpControlMousePosition.northing":"Ordinate","gpControlMousePosition.north":"N","gpControlMousePosition.south":"S","gpControlMousePosition.east":"O","gpControlMousePosition.west":"W","gpControlMousePosition.sexa":"sexagecimal grades","gpControlMousePosition.deg":"dezimale grades","gpControlMousePosition.gon":"grad","gpControlMousePosition.rad":"radians","gpControlMousePosition.km":"kilometers","gpControlMousePosition.m":"meters","gpControlMousePosition.cm":"zentimeters","gpControlMousePosition.utmZone":"Zone","gpControlToolBox.label":"Tools","gpControlZoomBar.world":"Welt","gpControlZoomBar.state":"Staat","gpControlZoomBar.country":"Land","gpControlZoomBar.town":"Stadt","gpControlZoomBar.street":"Straße","gpControlZoomBar.house":"Haus","gpControlEditingToolbar.drawpoint":"Einen punkt platzieren","gpControlEditingToolbar.drawline":"Eine linie zeichnen","gpControlEditingToolbar.drawpolygon":"Ein polygon zeichnen","gpControlEditingToolbar.dragfeature":"Ein objekt verschieben","gpControlEditingToolbar.modifyfeature":"Ein objekt verändern","gpControlEditingToolbar.deletefeature":"Ein objekt vernichten","gpControlEditingToolbar.selectfeature":"Ein objekt auswählen","gpControlEditingToolbar.navigation":"Navigieren","gpControlAddImageLayer.title":"Eine bild-schicht hinzufügen","gpControlAddImageLayer.layerUrl":"URL : ","gpControlAddImageLayer.layerUrl.help":"basis-adresse des dienstes","gpControlAddImageLayer.layerType":"Typ : ","gpControlAddImageLayer.layerType.help":"Wählen sie einen wert der liste","gpControlAddImageLayer.layerType.WMS":"Web Map Service","gpControlAddImageLayer.layerType.WMSC":"OSGeO WMS-C","gpControlAddImageLayer.button.add":"Hinzufügen","gpControlAddImageLayer.button.cancel":"Abbrechen","wms.caps.no.compatible.srs":"Nicht kompatibel schicht gefunden","ogc.caps.unknown.service":"${serviceType} ist kein ${expectedType}","gpControlAddVectorLayer.title":"Eine vektorielle schicht hinzufügen","gpControlAddVectorLayer.layerName":"Name : ","gpControlAddVectorLayer.layerName.help":"z.B.: meine schicht","gpControlAddVectorLayer.layerType":"Typ : ","gpControlAddVectorLayer.layerType.help":"Wählen sie einen wert der liste","gpControlAddVectorLayer.layerType.Point":"punktuell","gpControlAddVectorLayer.layerType.LineString":"linear","gpControlAddVectorLayer.layerType.Polygon":"flächenbezogen","gpControlAddVectorLayer.layerType.KML":"KML resource","gpControlAddVectorLayer.layerType.GPX":"GPX resource","gpControlAddVectorLayer.layerType.OSM":"OSM resource","gpControlAddVectorLayer.layerType.GeoRSS":"GeoRSS resource","gpControlAddVectorLayer.layerType.WFS":"WFS resource","gpControlAddVectorLayer.layerUrl":"URL : ","gpControlAddVectorLayer.layerUrl.help":"vor ort oder aus entfernung","gpControlAddVectorLayer.layerFreeHand":"freihandzeichnen ? ","gpControlAddVectorLayer.layerFreeHand.help":"ermöglicht das freihandzeichnen","gpControlAddVectorLayer.button.add":"Hinzufügen","gpControlAddVectorLayer.button.cancel":"Abbrechen","wfs.caps.no.feature.found":"Keine objekte gefunden","wfs.caps.unsupported.version":"WFS version ${version} nicht unterstützt","gpControlLocationUtilityService.geonames.title":"Einen ort suchen","gpControlLocationUtilityService.geocode.title":"Eine adreße suchen","gpControlLocationUtilityService.reverse.geocode.title":"Die Adreßen um einen punkt herum suchen","gpControlLocationUtilityServiceGeoNames.title":"Einen ort suchen :","gpControlLocationUtilityServiceGeoNames.name":"Ort : ","gpControlLocationUtilityServiceGeoNames.name.help":"z.B. : Saint-Mandé","gpControlLocationUtilityServiceGeoNames.button.cancel":"Abbrechen","gpControlLocationUtilityServiceGeoNames.button.search":"Suchen","gpControlLocationUtilityServiceGeocode.title":"Eine Adreße suchen :","gpControlLocationUtilityServiceGeocode.address":"Straße : ","gpControlLocationUtilityServiceGeocode.address.help":"ex : 2, avenue Pasteur","gpControlLocationUtilityServiceGeocode.municipality":"Stadt : ","gpControlLocationUtilityServiceGeocode.municipality.help":"z.B. : Saint-Mandé","gpControlLocationUtilityServiceGeocode.postalcode":"Postleitzahl:","gpControlLocationUtilityServiceGeocode.postalcode.help":"z.B. : 94165","gpControlLocationUtilityServiceGeocode.name":"Ort:","gpControlLocationUtilityServiceGeocode.name.help":"z.B.: Saint-Mandé oder 94165","gpControlLocationUtilityServiceGeocode.button.cancel":"Abbrechen","gpControlLocationUtilityServiceGeocode.button.search":"Suchen","gpControlLocationUtilityServiceReverseGeocode.title":"Orte in der nähe suchen:","gpControlLocationUtilityServiceReverseGeocode.longitude":"Längengrad : ","gpControlLocationUtilityServiceReverseGeocode.longitude.help":"z.B. : dd.mmss in in geographischen koordinaten","gpControlLocationUtilityServiceReverseGeocode.latitude":"Breitengrad : ","gpControlLocationUtilityServiceReverseGeocode.latitude.help":"z.B. : dd.mmss in geographischen koordinaten","gpControlLocationUtilityServiceReverseGeocode.button.cancel":"Abbrechen","gpControlLocationUtilityServiceReverseGeocode.button.search":"Suchen","lus.not.match":"Es konnte keine übereinstimmung gefunden werden","azimuth.measurement":"Azimuth","gpControlMeasureAzimuth.title":"Azimuth messung","gpControlMeasureAzimuth.azimuth":"Azimuth","gpControlMeasureAzimuth.azimuth.help":"im Uhrzeigersinn gemessenen Winkel zwischen geografisch-Nord (Nordpol) und einer beliebigen Richtung auf der Erdoberfläche","gpControlMeasureAzimuth.distance":"Länge","gpControlMeasureAzimuth.distance.help":"Länge","OpenLayers.Control.WMSGetFeatureInfo.title":"Identifikation von Objekten","geocoded.address.popup.title":"Adreße","geocoded.address.popup.postalCode":"Postleitzahl","geocoded.address.popup.places":"Orte",CountrySubdivision:"Departement",CountrySecondarySubdivision:"Gemeinde",Municipality:"Stadt",MunicipalitySubdivision:"Stadtteil",TOS:"Allgemeine geschäftsbedingungen","utm.zone":"UTM","*":""};Geoportal.Lang.en={ATF:"French Southern Territories",FXX:"France mainland",GLP:"Guadeloupe",GUF:"French Guiana",MTQ:"Martinique",MYT:"Mayotte",NCL:"New Caledonia",PYF:"French Polynesia",REU:"Réunion",SPM:"Saint Pierre and Miquelon",WLF:"Wallis and Futuna",ANF:"French Antilles",ASP:"Saint Paul and Amsterdam",CRZ:"Crozet",EUE:"Europe",KER:"Kerguelen",SBA:"Saint Barthélémy",SMA:"Saint Martin",WLD:"The world","GEOGRAPHICALGRIDSYSTEMS.MAPS":"IGN Maps","GEOGRAPHICALGRIDSYSTEMS.MAPS.description":"Maps are extracted from IGN's SCAN databases : World, Europe, SCAN 1 000®, SCAN 500®, SCAN Régional®, SCAN 200®, SCAN Départemental®, SCAN 100®, SCAN 50®, SCAN 25®.","ORTHOIMAGERY.ORTHOPHOTOS":"Orthoimagery","ORTHOIMAGERY.ORTHOPHOTOS.description":"Aerial photographies combine the geometrical precision of maps with richness of photographies, between 15 and 50 cm resolution, and satelite images, between 10 and 20 m resolution.","ELEVATION.SLOPS":"Slops - Elevation","ELEVATION.SLOPS.description":"Digital terrain models were derived from BD ALTI ® data that describes the  French territory with contour lines. The equidistance of the contour lines can range from 5 to 40m. Original data has been acquired from IGN maps at 1: 25 000, at 1: 50 000 and from aerial photographs at 1: 20 000, 1: 30 000 and 1: 60 000 by stereophotogrammetry.","ELEVATION.LEVEL0":"Sea level 0 - Elevation","ELEVATION.LEVEL0.description":"The sea 0 level is part of LITTO3D®, a joint production from SHOM and IGN.","CADASTRALPARCELS.PARCELS":"Cadastral parcels","CADASTRALPARCELS.PARCELS.description":"The digital cadastral information is georeferenced and seamless throughout the French territory. It was carried out from the assembly of the digital cadastral scanned sheets.","HYDROGRAPHY.HYDROGRAPHY":"Hydrography","HYDROGRAPHY.HYDROGRAPHY.description":"Hydrography network is derived from the assembly of datasets from BD TOPO®, BD CARTHAGE®, EuroRegionalMap and EuroGlobalMap databases.","TRANSPORTNETWORKS.ROADS":"Road transport networks - Transport networks","TRANSPORTNETWORKS.ROADS.description":"The roads network is derived from the assembly of datasets from BD TOPO®, BD CARTO®, EuroRegionalMap and EuroGlobalMap databases.","TRANSPORTNETWORKS.RAILWAYS":"Rail transport networks - Transport networks","TRANSPORTNETWORKS.RAILWAYS.description":"The railways network is derived from the assembly of datasets from BD TOPO®, BD CARTO®, EuroRegionalMap and EuroGlobalMap databases.","TRANSPORTNETWORKS.RUNWAYS":"Air transport networks - Transport networks","TRANSPORTNETWORKS.RUNWAYS.description":"Airport runways are derived from the assembly of datasets from BD TOPO® and BD CARTO®.","BUILDINGS.BUILDINGS":"Buildings","BUILDINGS.BUILDINGS.description":"Buildings and urban areas are derived from the assembly of datasets from BD TOPO®, BD CARTO®, EuroRegionalMap and EuroGlobalMap databases.","UTILITYANDGOVERNMENTALSERVICES.ALL":"Utility and governmental services","UTILITYANDGOVERNMENTALSERVICES.ALL.description":"Energy networks are derived from the assembly of datasets from BD TOPO® and BD CARTO®.","ADMINISTRATIVEUNITS.BOUNDARIES":"Administrative units","ADMINISTRATIVEUNITS.BOUNDARIES.description":"French administrative units are derived from the assembly of datasets from BD TOPO®, BD CARTO®, EuroRegionalMap and EuroBoundaryMap databases.","LANDCOVER.CORINELANDCOVER":"Land cover","LANDCOVER.CORINELANDCOVER.description":"CORINE 2006","div.not.found":"${id} not found in the document : check you have '${id}' set.","proxy.not.set":"Missing proxy setting : may cause problems when getting contract configuration.","cookies.not.enabled":"Cookies are disabled. Please, enable them.","geoRM.getConfig":"Impossible to get information for key '${key}' - check your connection","geoRM.getToken":"Impossible to get the token for key '${key}' - check your connection","geoRM.failed":"Failed to get a valid token for key '${key}'","GPX.version":"Unhandled GPX version ${gpxVersion}","XLS.version":"Unhandled XLS version ${xlsVersion} for OpenLS Core service ${coreService}","Not.conformal.XLS":"Location Service XML is missing : ${part}","olControlMeasurePath.title":"Distance measurement","olControlMeasurePolygon.title":"Surface measurement","waiting.measurement":"Waiting for digitizing ...","length.measurement":"Length","area.measurement":"Area","gpControlLayerSwitcher.label":"Layers","gpLayer.metadataURL":"More information about this layer ...","gpLayer.dataURL":"Access to download page","gpControlPanelToggle.closed":"Show toolbar","gpControlPanelToggle.opened":"Hide toolbar","gpControlRemoveLayer.title":"Remove layer","gpControlLayerOpacity.title":"Opacity slider","gpControlZoomToLayerMaxExtent.title":"Zoom to layer's extent","gpControlMousePosition.longitude":"Longitude","gpControlMousePosition.latitude":"Latitude","gpControlMousePosition.easting":"Easting","gpControlMousePosition.northing":"Northing","gpControlMousePosition.north":"N","gpControlMousePosition.south":"S","gpControlMousePosition.east":"E","gpControlMousePosition.west":"W","gpControlMousePosition.sexa":"sexagecimal degrees","gpControlMousePosition.deg":"decimal degrees","gpControlMousePosition.gon":"decimal grades","gpControlMousePosition.rad":"decimal radians","gpControlMousePosition.km":"kilometers","gpControlMousePosition.m":"meters","gpControlMousePosition.cm":"centimeters","gpControlMousePosition.utmZone":"Zone","gpControlToolBox.label":"Toolbox","gpControlZoomBar.world":"World","gpControlZoomBar.state":"State","gpControlZoomBar.country":"Country","gpControlZoomBar.town":"Town","gpControlZoomBar.street":"Street","gpControlZoomBar.house":"House","gpControlEditingToolbar.drawpoint":"Draw point","gpControlEditingToolbar.drawline":"Draw line","gpControlEditingToolbar.drawpolygon":"Draw polygon","gpControlEditingToolbar.dragfeature":"Drag feature","gpControlEditingToolbar.modifyfeature":"Modify feature","gpControlEditingToolbar.deletefeature":"Delete feature","gpControlEditingToolbar.selectfeature":"Select feature","gpControlEditingToolbar.navigation":"Navigate","gpControlAddImageLayer.title":"Add image layer ...","gpControlAddImageLayer.layerUrl":"URL : ","gpControlAddImageLayer.layerUrl.help":"base address of the service","gpControlAddImageLayer.layerType":"Type : ","gpControlAddImageLayer.layerType.help":"pick up a value in the select","gpControlAddImageLayer.layerType.WMS":"Web Map Service","gpControlAddImageLayer.layerType.WMSC":"OSGeO WMS-C","gpControlAddImageLayer.button.add":"Add Layer","gpControlAddImageLayer.button.cancel":"Cancel","wms.caps.no.compatible.srs":"No compatible layer found","ogc.caps.unknown.service":"${serviceType} is not a ${expectedType}","gpControlAddVectorLayer.title":"Add vector layer ...","gpControlAddVectorLayer.layerName.help":"ex : my layer","gpControlAddVectorLayer.layerType":"Type : ","gpControlAddVectorLayer.layerType.help":"pick up a value in the select","gpControlAddVectorLayer.layerType.Point":"point","gpControlAddVectorLayer.layerType.LineString":"linestring","gpControlAddVectorLayer.layerType.Polygon":"polygon","gpControlAddVectorLayer.layerType.KML":"KML resource","gpControlAddVectorLayer.layerType.GPX":"GPX resource","gpControlAddVectorLayer.layerType.OSM":"OSM resource","gpControlAddVectorLayer.layerType.GeoRSS":"GeoRSS resource","gpControlAddVectorLayer.layerType.WFS":"WFS resource","gpControlAddVectorLayer.layerUrl":"URL : ","gpControlAddVectorLayer.layerUrl.help":"either local or remote","gpControlAddVectorLayer.layerFreeHand":"freehand ? ","gpControlAddVectorLayer.layerFreeHand.help":"allow free hand drawing","gpControlAddVectorLayer.button.add":"Add Layer","gpControlAddVectorLayer.button.cancel":"Cancel","gpControlAddVectorLayer.layerName":"Name : ","wfs.caps.no.feature.found":"No features found","wfs.caps.unsupported.version":"Unsupported WFS version ${version}","gpControlLocationUtilityService.geonames.title":"Search a location","gpControlLocationUtilityService.geocode.title":"Search an address","gpControlLocationUtilityService.reverse.geocode.title":"Search addresses around a location","gpControlLocationUtilityServiceGeoNames.title":"Search a location :","gpControlLocationUtilityServiceGeoNames.name":"Location : ","gpControlLocationUtilityServiceGeoNames.name.help":"ex : Saint-Mandé","gpControlLocationUtilityServiceGeoNames.button.cancel":"Cancel","gpControlLocationUtilityServiceGeoNames.button.search":"Search","gpControlLocationUtilityServiceGeocode.title":"Search a place :","gpControlLocationUtilityServiceGeocode.address":"Street : ","gpControlLocationUtilityServiceGeocode.address.help":"ex : 2, avenue Pasteur","gpControlLocationUtilityServiceGeocode.municipality":"Municipality : ","gpControlLocationUtilityServiceGeocode.municipality.help":"ex : Saint-Mandé","gpControlLocationUtilityServiceGeocode.postalcode":"Postal code : ","gpControlLocationUtilityServiceGeocode.postalcode.help":"ex : 94165","gpControlLocationUtilityServiceGeocode.name":"Place: ","gpControlLocationUtilityServiceGeocode.name.help":"e.g.: Saint-Mandé or 94165","gpControlLocationUtilityServiceGeocode.button.cancel":"Cancel","gpControlLocationUtilityServiceGeocode.button.search":"Search","gpControlLocationUtilityServiceReverseGeocode.title":"Search places around :","gpControlLocationUtilityServiceReverseGeocode.longitude":"Longitude : ","gpControlLocationUtilityServiceReverseGeocode.longitude.help":"ex : dd.mmss in geographic coordinates","gpControlLocationUtilityServiceReverseGeocode.latitude":"Latitude : ","gpControlLocationUtilityServiceReverseGeocode.latitude.help":"ex : dd.mmss in geographic coordinates","gpControlLocationUtilityServiceReverseGeocode.button.cancel":"Cancel","gpControlLocationUtilityServiceReverseGeocode.button.search":"Search","azimuth.measurement":"Azimuth","gpControlMeasureAzimuth.title":"Azimuth measurement","gpControlMeasureAzimuth.azimuth":"Azimuth","gpControlMeasureAzimuth.azimuth.help":"an angular measurement in a spherical coordinate system","gpControlMeasureAzimuth.distance":"Distance","gpControlMeasureAzimuth.distance.help":"Length","OpenLayers.Control.WMSGetFeatureInfo.title":"Objects identification","lus.not.match":"No match found","geocoded.address.popup.title":"Address","geocoded.address.popup.postalCode":"Postal code","geocoded.address.popup.places":"Places",CountrySubdivision:"Country subdivision",CountrySecondarySubdivision:"Country secondary subdivision",Municipality:"Municipality",MunicipalitySubdivision:"Municipality subdivision",TOS:"Terms of service","utm.zone":"UTM","*":""};Geoportal.Lang.es={ATF:"Tierras australes francés",FXX:"Francia continental",GLP:"Guadalupe",GUF:"Francés de Guayana",MTQ:"Martinica",MYT:"Mayotte",NCL:"Nueva Caledonia",PYF:"Polinesia francés",REU:"La Reunión",SPM:"San Pedro y Miquelón",WLF:"Wallis y Futuna",ANF:"Francés Antillas",ASP:"Saint Paul y Amsterdam",CRZ:"Crozet",EUE:"Europa",KER:"Kerguelen",SBA:"Saint Barthélémy",SMA:"Saint Martin",WLD:"El mundo","GEOGRAPHICALGRIDSYSTEMS.MAPS":"IGN Mapas","GEOGRAPHICALGRIDSYSTEMS.MAPS.description":"Los mapas se derivan de las bases de datos SCAN del IGN: Mundo, Europa politica databases : World, Europe, SCAN 1 000®, SCAN 500®, SCAN Régional®, SCAN 200®, SCAN Départemental®, SCAN 100®, SCAN 50®, SCAN 25®.","ORTHOIMAGERY.ORTHOPHOTOS":"Ortoimágenes","ORTHOIMAGERY.ORTHOPHOTOS.description":"Las fotografias aéreas combinan la precisión geométrica del mapa y la riqueza de la fotografia, una resolución entre 50 cm y 15 cm o, con imágenes de satélite, una resolución entre 10 m y 20 m.","ELEVATION.SLOPS":"Tintas hipsométricas - Elevaciones","ELEVATION.SLOPS.description":"Los modelos digitales del terreno se elaboran con información de la base de datos BD ALTI®, que describe el territorio francés mediante curvas de nivel. La equidistancia de las curvas varia de 5 m a 40 m. Los datos iniciales se han tomado de mapas del IGN a escalas 1:25 000, 1:50 000 y a partir de una restitución elaborada mediante tomas de vistas aéreas a escalas 1:20 000, 1:30 000 y 1:60 000.","ELEVATION.LEVEL0":"Linea de costa - Elevaciones","ELEVATION.LEVEL0.description":"La cota 0 (cero) de los mares se obtiene de LITTO3D®, una producción realizada en común entre el SHOM y el IGN.","CADASTRALPARCELS.PARCELS":"Parcelas catastrales","CADASTRALPARCELS.PARCELS.description":"La información catastral digital está georreferenciada y es continua sobre el conjunto del territorio francés. Se ha elaborado a partir del montaje del plan catastral desmaterializado.","HYDROGRAPHY.HYDROGRAPHY":"Hidrografia","HYDROGRAPHY.HYDROGRAPHY.description":"La hidrografia terrestre se obtiene de la combinación de datos de las bases de datos BD TOPO® y BD CARTHAGE® y del EuroRegionalMap y el EuroGlobalMap.","TRANSPORTNETWORKS.ROADS":"Red de Carreteras - Redes de transporte","TRANSPORTNETWORKS.ROADS.description":"La red de carreteras se obtiene de la combinación de datos de las bases de datos BD TOPO® y BD CARTO® y del EuroRegionalMap y el EuroGlobalMap.","TRANSPORTNETWORKS.RAILWAYS":"Red ferroviaria - Redes de transporte","TRANSPORTNETWORKS.RAILWAYS.description":"La red ferroviaria se obtiene de la combinación de datos de las bases de datos BD TOPO® y CARTO® y del EuroRegionalMap y el EuroGlobalMap.","TRANSPORTNETWORKS.RUNWAYS":"Red de aire - Redes de transporte","TRANSPORTNETWORKS.RUNWAYS.description":"Las pistas de los aeropuertos y aeródromos se obtienen de la combinación de datos de las bases de datos BD TOPO® y BD CARTO®.","BUILDINGS.BUILDINGS":"Edificios","BUILDINGS.BUILDINGS.description":"Los edificios y las zonas construidas se obtienen de la combinación de datos de las bases de datos BD TOPO® y BD CARTO® y del EuroRegionalMap y el EuroGlobalMap.","UTILITYANDGOVERNMENTALSERVICES.ALL":"Servicios de utilidad pública y estatales","UTILITYANDGOVERNMENTALSERVICES.ALL.description":"Las diversas redes de transporte de energia se obtienen de la combinación de datos de las bases de datos BD TOPO® y BD CARTO®.","ADMINISTRATIVEUNITS.BOUNDARIES":"Unidades administrativas","ADMINISTRATIVEUNITS.BOUNDARIES.description":"Las unidades administrativas de Francia se obtienen de la combinación de datos de las bases de datos BD TOPO® y BD CARTO® y del EuroRegionalMap y el EuroBoundaryMap.","LANDCOVER.CORINELANDCOVER":"Cubierta terrestre","LANDCOVER.CORINELANDCOVER.description":"CORINE 2006","div.not.found":"${id} no se encontró en el documento: verifique si '${id}' existe.","proxy.not.set":"No se ha configurado un proxy: la obtención de información sobre el contrato podria fallar.","cookies.not.enabled":"Las cookies son discapacitados. Por favor, les permiten.","geoRM.getConfig":"No es posible obtener información relativa a la clave '${key}' - Verifique su conexión.","geoRM.getToken":"No es posible obtener la ficha asociada a la clave '${key}' - Verifique su conexión.","geoRM.failed":"No pudo obtener una muestra válida relativa a la clave '${key}'","GPX.version":"La versión ${gpxVersion} de GPX no es compatible","XLS.version":"La versión ${xlsVersion} de XLS no es compatible con el servicio ${coreService}","Not.conformal.XLS":"${part} falta en el XML","olControlMeasurePath.title":"Medida de distancia","olControlMeasurePolygon.title":"Medida de superficie","waiting.measurement":"A la espera de la selección...","length.measurement":"Longitud","area.measurement":"Superficie","gpControlLayerSwitcher.label":"Capas","gpLayer.metadataURL":"Más información sobre esta capa...","gpLayer.dataURL":"Acceso al servicio de descargas","gpControlPanelToggle.closed":"Mostrar la barra de herramientas","gpControlPanelToggle.opened":"Ocultar la barra de herramientas","gpControlRemoveLayer.title":"Quitar la capa","gpControlLayerOpacity.title":"Regla de transparencia","gpControlZoomToLayerMaxExtent.title":"Ampliar el área de la capa","gpControlMousePosition.longitude":"Longitud","gpControlMousePosition.latitude":"Latitud","gpControlMousePosition.easting":"Abscisa","gpControlMousePosition.northing":"Ordenada","gpControlMousePosition.north":"N","gpControlMousePosition.south":"S","gpControlMousePosition.east":"Or","gpControlMousePosition.west":"Oe","gpControlMousePosition.sexa":"grados sexagesimales","gpControlMousePosition.deg":"grados decimales","gpControlMousePosition.gon":"grados","gpControlMousePosition.rad":"radianes","gpControlMousePosition.km":"kilómetros","gpControlMousePosition.m":"metros","gpControlMousePosition.cm":"centimetros","gpControlMousePosition.utmZone":"Zona","gpControlToolBox.label":"Herra.","gpControlZoomBar.world":"Mundo","gpControlZoomBar.state":"Pais","gpControlZoomBar.country":"Provin.","gpControlZoomBar.town":"Ciudad","gpControlZoomBar.street":"Calle","gpControlZoomBar.house":"Casa","gpControlEditingToolbar.drawpoint":"Situar un punto","gpControlEditingToolbar.drawline":"Dibujar una linea","gpControlEditingToolbar.drawpolygon":"Dibujar un poligono","gpControlEditingToolbar.dragfeature":"Desplazar un objeto","gpControlEditingToolbar.modifyfeature":"Modificar un objeto","gpControlEditingToolbar.deletefeature":"Destruir un objeto","gpControlEditingToolbar.selectfeature":"Seleccionar un objeto","gpControlEditingToolbar.navigation":"Navegar","gpControlAddImageLayer.title":"Añadir una capa de imagen...","gpControlAddImageLayer.layerUrl":"URL : ","gpControlAddImageLayer.layerUrl.help":"Dirección base del servicio","gpControlAddImageLayer.layerType":"Tipo : ","gpControlAddImageLayer.layerType.help":"elija un valor de la lista","gpControlAddImageLayer.layerType.WMS":"Web Map Service","gpControlAddImageLayer.layerType.WMSC":"OSGeO WMS-C","gpControlAddImageLayer.button.add":"Añadir","gpControlAddImageLayer.button.cancel":"Cancelar","wms.caps.no.compatible.srs":"No compatible encontrado capa","ogc.caps.unknown.service":"${serviceType} no es un ${expectedType}","gpControlAddVectorLayer.title":"Añadir una capa vectorial...","gpControlAddVectorLayer.layerName":"Nombre : ","gpControlAddVectorLayer.layerName.help":"ejemplo : mi capa","gpControlAddVectorLayer.layerType":"Tipo : ","gpControlAddVectorLayer.layerType.help":"elija un valor de la lista","gpControlAddVectorLayer.layerType.Point":"puntual","gpControlAddVectorLayer.layerType.LineString":"lineal","gpControlAddVectorLayer.layerType.Polygon":"superficial","gpControlAddVectorLayer.layerType.KML":"recurso KML","gpControlAddVectorLayer.layerType.GPX":"recurso GPX","gpControlAddVectorLayer.layerType.OSM":"recurso OSM","gpControlAddVectorLayer.layerType.GeoRSS":"recurso GeoRSS","gpControlAddVectorLayer.layerType.WFS":"recurso WFS","gpControlAddVectorLayer.layerUrl":"URL : ","gpControlAddVectorLayer.layerUrl.help":"local o a distancia","gpControlAddVectorLayer.layerFreeHand":"Dibujo a mano alzada ? ","gpControlAddVectorLayer.layerFreeHand.help":"permite el dibujo a mano alzada","gpControlAddVectorLayer.button.add":"Añadir","gpControlAddVectorLayer.button.cancel":"Cancelar","wfs.caps.no.feature.found":"No objetos encontrados","wfs.caps.unsupported.version":"WFS versión ${version} no es compatible","gpControlLocationUtilityService.geonames.title":"Buscar un lugar","gpControlLocationUtilityService.geocode.title":"Buscar una dirección","gpControlLocationUtilityService.reverse.geocode.title":"Buscar las direcciones en torno a un punto","gpControlLocationUtilityServiceGeoNames.title":"Buscar un lugar:","gpControlLocationUtilityServiceGeoNames.name":"Lugar: ","gpControlLocationUtilityServiceGeoNames.name.help":"ejemplo: Saint-Mandé","gpControlLocationUtilityServiceGeoNames.button.cancel":"Cancelar","gpControlLocationUtilityServiceGeoNames.button.search":"Buscar","gpControlLocationUtilityServiceGeocode.title":"Buscar una dirección:","gpControlLocationUtilityServiceGeocode.address":"Calle: ","gpControlLocationUtilityServiceGeocode.address.help":"ejemplo: 2, avenue Pasteur","gpControlLocationUtilityServiceGeocode.municipality":"Localidad:","gpControlLocationUtilityServiceGeocode.municipality.help":"ejemplo: Saint-Mandé","gpControlLocationUtilityServiceGeocode.postalcode":"Código postal: ","gpControlLocationUtilityServiceGeocode.postalcode.help":"ejemplo: 94165","gpControlLocationUtilityServiceGeocode.name":"Lugar:","gpControlLocationUtilityServiceGeocode.name.help":"ejemplo: Saint-Mandé o 94165","gpControlLocationUtilityServiceGeocode.button.cancel":"Cancelar","gpControlLocationUtilityServiceGeocode.button.search":"Buscar","gpControlLocationUtilityServiceReverseGeocode.longitude":"Longitud: ","gpControlLocationUtilityServiceReverseGeocode.longitude.help":"ejemplo: dd.mmss en coordenadas geográficas","gpControlLocationUtilityServiceReverseGeocode.latitude":"Latitud: ","gpControlLocationUtilityServiceReverseGeocode.latitude.help":"ejemplo: dd.mmss en coordenadas geográficas","gpControlLocationUtilityServiceReverseGeocode.title":"Buscar lugares próximos:","gpControlLocationUtilityServiceReverseGeocode.button.cancel":"Cancelar","gpControlLocationUtilityServiceReverseGeocode.button.search":"Buscar","azimuth.measurement":"Acimut","gpControlMeasureAzimuth.title":"Medición de acimut","gpControlMeasureAzimuth.azimuth":"Acimut","gpControlMeasureAzimuth.azimuth.help":"el ángulo de una dirección contado en el sentido de las agujas del reloj a partir del norte geográfico","gpControlMeasureAzimuth.distance":"Longitud","gpControlMeasureAzimuth.distance.help":"Longitud","OpenLayers.Control.WMSGetFeatureInfo.title":"La identificación de los objetos","lus.not.match":"No se ha encontrado ninguna correspondencia","geocoded.address.popup.title":"Dirección","geocoded.address.popup.postalCode":"Código postal","geocoded.address.popup.places":"Lugares",CountrySubdivision:"Departamento",CountrySecondarySubdivision:"Municipio",Municipality:"Localidad",MunicipalitySubdivision:"Barrio",TOS:"Condiciones del servicio","utm.zone":"UTM","*":""};Geoportal.Lang.fr={ATF:"Terres australes françaises",FXX:"France métropolitaine",GLP:"Guadeloupe",GUF:"Guyane française",MTQ:"Martinique",MYT:"Mayotte",NCL:"Nouvelle-Calédonie",PYF:"Polynésie française",REU:"Île de la Réunion",SPM:"Saint-Pierre et Miquelon",WLF:"Wallis et Futuna",ANF:"Antilles françaises",ASP:"Saint Paul et Amsterdam",CRZ:"Crozet",EUE:"Europe",KER:"Kerguelen",SBA:"Saint Barthélémy",SMA:"Saint Martin",WLD:"Le Monde","GEOGRAPHICALGRIDSYSTEMS.MAPS":"Cartes IGN","GEOGRAPHICALGRIDSYSTEMS.MAPS.description":"Les cartes sont issues des bases de données SCAN de l'IGN : Monde, Europe Politique, SCAN 1 000®, SCAN 500®, SCAN Régional®, SCAN 200®, SCAN Départemental®, SCAN 100®, SCAN 50®, SCAN 25®.","ORTHOIMAGERY.ORTHOPHOTOS":"Ortho-imagerie","ORTHOIMAGERY.ORTHOPHOTOS.description":"Les photographies aériennes allient la précision géométrique de la carte à la richesse de la photographie, résolution entre 50 et 15 cm ou de l'images satellites, résolution entre 10 m et 20m.","ELEVATION.SLOPS":"Teintes hypso. - Altitude","ELEVATION.SLOPS.description":"Les modèles numériques de terrain sont issus de données BD ALTI® que décrit le territoire français par des courbes de niveau. L’équidistance des courbes peut aller de 5 à 40m. Les données initiales ont été saisies sur des cartes IGN au 1 : 25 000, au 1 : 50 000 et à partir d’une restitution issue de prises de vue aériennes au 1 : 20 000, 1 : 30 000 et 1 : 60 000.","ELEVATION.LEVEL0":"Trait de côte - Altitude","ELEVATION.LEVEL0.description":"Le 0 des mers est issu de LITTO3D®, une production réalisée en commun entre le SHOM et l'IGN.","CADASTRALPARCELS.PARCELS":"Parcelles cadastrales","CADASTRALPARCELS.PARCELS.description":"L'information cadastrale numérique est géoréférencée et continue sur l'ensemble du territoire français. Elle a été réalisée à partir de l'assemblage du plan cadastral dématérialisé.","HYDROGRAPHY.HYDROGRAPHY":"Hydrographie","HYDROGRAPHY.HYDROGRAPHY.description":"L'hydrographie terrestre est issue de l'assemblage de données BD TOPO®, BD CARTHAGE®, EuroRegionalMap et EuroGlobalMap.","TRANSPORTNETWORKS.ROADS":"Réseaux routiers - Réseaux de transport","TRANSPORTNETWORKS.ROADS.description":"Le réseau routier est issu de l'assemblage de données BD TOPO®, BD CARTO®, EuroRegionalMap et EuroGlobalMap.","TRANSPORTNETWORKS.RAILWAYS":"Réseaux ferroviaires - Réseaux de transport","TRANSPORTNETWORKS.RAILWAYS.description":"Le réseau ferroviaire est issu de l'assemblage de données BD TOPO®, BD CARTO®, EuroRegionalMap et EuroGlobalMap.","TRANSPORTNETWORKS.RUNWAYS":"Réseaux aériens - Réseaux de transport","TRANSPORTNETWORKS.RUNWAYS.description":"Les pistes des aéroports et aérodromes sont issus de l'assemblage de données BD TOPO® et BD CARTO®.","BUILDINGS.BUILDINGS":"Bâtiments","BUILDINGS.BUILDINGS.description":"Les bâtiments et zones construites sont issus de l'assemblage de données BD TOPO®, BD CARTO®, EuroRegionalMap et EuroGlobalMap.","UTILITYANDGOVERNMENTALSERVICES.ALL":"Services d'utilité publique et services publics","UTILITYANDGOVERNMENTALSERVICES.ALL.description":"Les divers réseaux de transports d'énergie sont issus de l'assemblage de données BD TOPO® et BD CARTO®.","ADMINISTRATIVEUNITS.BOUNDARIES":"Unités administratives","ADMINISTRATIVEUNITS.BOUNDARIES.description":"Les unités administratives de la France sont issus de l'assemblage de données BD TOPO®, BD CARTO®, EuroRegionalMap et EuroBoundaryMap.","LANDCOVER.CORINELANDCOVER":"Occupation des terres","LANDCOVER.CORINELANDCOVER.description":"CORINE 2006","div.not.found":"${id} non trouvé dans le document : vérifier que '${id}' existe bien.","proxy.not.set":"Pas de configuration du proxy : l'obtention des informations sur le contrat pourrait échouer.","cookies.not.enabled":"Les cookies sont désactivés. Activer les s'il vous plaît.","geoRM.getConfig":"Impossible d'obtenir les informations relatives à la clef '${key}' - Vérifier votre connexion.","geoRM.getToken":"Impossible d'obtenir le jeton associé à la clef '${key}' - Vérifier votre connexion.","geoRM.failed":"Impossible d'obtenir un jeton valide pour la clef '${key}'","GPX.version":"Version ${gpxVersion} GPX non supportée","XLS.version":"Version ${xlsVersion} XLS non supportée pour le service ${coreService}","Not.conformal.XLS":"${part} est manquant dans l'XML","olControlMeasurePath.title":"Mesure de distance","olControlMeasurePolygon.title":"Mesure de surface","waiting.measurement":"En attente de saisie ...","length.measurement":"Longueur","area.measurement":"Surface","gpControlLayerSwitcher.label":"Couches","gpLayer.metadataURL":"Plus d'information sur cette couche ...","gpLayer.dataURL":"Accès au service de téléchargement","gpControlPanelToggle.closed":"Afficher la barre d'outils","gpControlPanelToggle.opened":"Masquer la barre d'outils","gpControlRemoveLayer.title":"Retirer la couche","gpControlLayerOpacity.title":"Règle de transparence","gpControlZoomToLayerMaxExtent.title":"Zoomer sur l'emprise de la couche","gpControlMousePosition.longitude":"Longitude","gpControlMousePosition.latitude":"Latitude","gpControlMousePosition.easting":"Abscisse","gpControlMousePosition.northing":"Ordonnée","gpControlMousePosition.north":"N","gpControlMousePosition.south":"S","gpControlMousePosition.east":"E","gpControlMousePosition.west":"O","gpControlMousePosition.sexa":"degrés sexagésimaux","gpControlMousePosition.deg":"degrés décimaux","gpControlMousePosition.gon":"grades","gpControlMousePosition.rad":"radians","gpControlMousePosition.km":"kilomètres","gpControlMousePosition.m":"mètres","gpControlMousePosition.cm":"centimètres","gpControlMousePosition.utmZone":"Zone","gpControlToolBox.label":"Outils","gpControlZoomBar.world":"Monde","gpControlZoomBar.state":"Pays","gpControlZoomBar.country":"Dépt.","gpControlZoomBar.town":"Ville","gpControlZoomBar.street":"Rue","gpControlZoomBar.house":"Maison","gpControlEditingToolbar.drawpoint":"Dessiner un point","gpControlEditingToolbar.drawline":"Dessiner une ligne","gpControlEditingToolbar.drawpolygon":"Dessiner un polygone","gpControlEditingToolbar.dragfeature":"Déplacer un objet","gpControlEditingToolbar.modifyfeature":"Modifier un objet","gpControlEditingToolbar.deletefeature":"Détruire un objet","gpControlEditingToolbar.selectfeature":"Sélectionner un objet","gpControlEditingToolbar.navigation":"Naviguer","gpControlAddImageLayer.title":"Ajouter une couche image ...","gpControlAddImageLayer.layerUrl":"URL : ","gpControlAddImageLayer.layerUrl.help":"adresse de base du service","gpControlAddImageLayer.layerType":"Type : ","gpControlAddImageLayer.layerType.help":"choisissez une valeur dans la liste","gpControlAddImageLayer.layerType.WMS":"Web Map Service","gpControlAddImageLayer.layerType.WMSC":"OSGeO WMS-C","gpControlAddImageLayer.button.add":"Ajouter","gpControlAddImageLayer.button.cancel":"Annuler","wms.caps.no.compatible.srs":"Pas de couche compatible trouvée","ogc.caps.unknown.service":"${serviceType} ne semble pas être un ${expectedType}","gpControlAddVectorLayer.title":"Ajouter une couche vectorielle ...","gpControlAddVectorLayer.layerName":"Nom : ","gpControlAddVectorLayer.layerName.help":"ex : ma couche","gpControlAddVectorLayer.layerType":"Type : ","gpControlAddVectorLayer.layerType.help":"choisissez une valeur dans la liste","gpControlAddVectorLayer.layerType.Point":"ponctuelle","gpControlAddVectorLayer.layerType.LineString":"linéaire","gpControlAddVectorLayer.layerType.Polygon":"surfacique","gpControlAddVectorLayer.layerType.KML":"resource KML","gpControlAddVectorLayer.layerType.GPX":"resource GPX","gpControlAddVectorLayer.layerType.OSM":"resource OSM","gpControlAddVectorLayer.layerType.GeoRSS":"resource GeoRSS","gpControlAddVectorLayer.layerType.WFS":"resource WFS","gpControlAddVectorLayer.layerUrl":"URL : ","gpControlAddVectorLayer.layerUrl.help":"local ou à distance","gpControlAddVectorLayer.layerFreeHand":"Dessin à main levée ? ","gpControlAddVectorLayer.layerFreeHand.help":"permet le dessin à main levée","gpControlAddVectorLayer.button.add":"Ajouter","gpControlAddVectorLayer.button.cancel":"Annuler","wfs.caps.no.feature.found":"Aucun objet trouvé","wfs.caps.unsupported.version":"Version ${version} de WFS non supportée","gpControlLocationUtilityService.geonames.title":"Rechercher un lieu","gpControlLocationUtilityService.geocode.title":"Rechercher une adresse","gpControlLocationUtilityService.reverse.geocode.title":"Rechercher les adresses autour d'un point","gpControlLocationUtilityServiceGeoNames.title":"Rechercher un lieu :","gpControlLocationUtilityServiceGeoNames.name":"Lieu : ","gpControlLocationUtilityServiceGeoNames.name.help":"ex : Saint-Mandé","gpControlLocationUtilityServiceGeoNames.button.cancel":"Annuler","gpControlLocationUtilityServiceGeoNames.button.search":"Rechercher","gpControlLocationUtilityServiceGeocode.title":"Chercher une adresse :","gpControlLocationUtilityServiceGeocode.address":"Rue : ","gpControlLocationUtilityServiceGeocode.address.help":"ex : 2, avenue Pasteur","gpControlLocationUtilityServiceGeocode.municipality":"Ville : ","gpControlLocationUtilityServiceGeocode.municipality.help":"ex : Saint-Mandé","gpControlLocationUtilityServiceGeocode.postalcode":"Code postal : ","gpControlLocationUtilityServiceGeocode.postalcode.help":"ex : 94165","gpControlLocationUtilityServiceGeocode.name":"Lieu : ","gpControlLocationUtilityServiceGeocode.name.help":"ex : Saint-Mandé ou 94165","gpControlLocationUtilityServiceGeocode.button.cancel":"Annuler","gpControlLocationUtilityServiceGeocode.button.search":"Rechercher","gpControlLocationUtilityServiceReverseGeocode.title":"Chercher des lieux à proximité :","gpControlLocationUtilityServiceReverseGeocode.longitude":"Longitude : ","gpControlLocationUtilityServiceReverseGeocode.longitude.help":"ex : dd.mmss en coordonnées géographiques","gpControlLocationUtilityServiceReverseGeocode.latitude":"Latitude : ","gpControlLocationUtilityServiceReverseGeocode.latitude.help":"ex : dd.mmss en coordonnées géographiques","gpControlLocationUtilityServiceReverseGeocode.button.cancel":"Annuler","gpControlLocationUtilityServiceReverseGeocode.button.search":"Rechercher","azimuth.measurement":"Azimuth","gpControlMeasureAzimuth.title":"Mesure d'azimuth","gpControlMeasureAzimuth.azimuth":"Azimuth","gpControlMeasureAzimuth.azimuth.help":"angle horizontal entre la direction d'un objet et le nord géographique","gpControlMeasureAzimuth.distance":"Distance","gpControlMeasureAzimuth.distance.help":"Longueur","OpenLayers.Control.WMSGetFeatureInfo.title":"Identifier les objets","lus.not.match":"Pas de correspondance trouvée","geocoded.address.popup.title":"Adresse","geocoded.address.popup.postalCode":"Code postal","geocoded.address.popup.places":"Lieux",CountrySubdivision:"Département",CountrySecondarySubdivision:"Commune",Municipality:"Ville",MunicipalitySubdivision:"Quartier",TOS:"Conditions générales d'utilisation","utm.zone":"UTM","*":""};Geoportal.Lang.it={ATF:"Territori Francesi del Sud",FXX:"Francia continentale",GLP:"Guadalupa",GUF:"Guiana francese",MTQ:"Martinica",MYT:"Mayotte",NCL:"Nuova Caledonia",PYF:"Polinesia Francese",REU:"Riunione",SPM:"Saint Pierre e Miquelon",WLF:"Wallis e Futuna",ANF:"Antille francesi",ASP:"San Paolo e Amsterdam",CRZ:"Crozet",EUE:"Europa",KER:"Kerguelen",SBA:"Saint Barthélémy",SMA:"Saint Martin",WLD:"Il mondo","GEOGRAPHICALGRIDSYSTEMS.MAPS":"IGN Mappe","GEOGRAPHICALGRIDSYSTEMS.MAPS.description":"Le carte sono ricavate dalla banca dati SCAN dell'IGN : Mondo, Europa Politica, SCAN 1 000®, SCAN 500®, SCAN Régional®, SCAN 200®, SCAN Départemental®, SCAN 100®, SCAN 50®, SCAN 25®.","ORTHOIMAGERY.ORTHOPHOTOS":"Orto immagini","ORTHOIMAGERY.ORTHOPHOTOS.description":"Le fotografie aeree sposano la precisione geometrica della carta alla richezza di una foto con una risoluzione compresa tra 50 e 15 cm o di immagini satellitarie con una risoluzione compresa tra 10 e 20 m.","ELEVATION.SLOPS":"Colori ipsometrici - Elevazione","ELEVATION.SLOPS.description":"I modelli numerici del terreno sono ricavati da dati della banca dati BD ALTI® che descrive il territorio francese con delle curve di livello. L'equidistanza delle curve pueden andare da 5 a 40 m. I dati iniziali sono stati impostati su delle carte IGN alla scala di 1:25 000 o 1:50 000, a partire da una restituzione ricavata da riprese aeree alla scala di 1:20 000, 1:30 000 o 1:60 000.","ELEVATION.LEVEL0":"Tratto costiero - Elevazione","ELEVATION.LEVEL0.description":"Lo 0 dei mari è ricavato dal datbase LITTO3D®, prodotto realizzato in comune dallo SHOM e dall'IGN.","CADASTRALPARCELS.PARCELS":"Parcelle catastali","CADASTRALPARCELS.PARCELS.description":"Le informazioni catastali numeriche comportano i riferimenti geografici, continuano sull'insieme del territorio francese e sono state ricavate a partire da un assemblaggio dei piani catastali smaterializzati.","HYDROGRAPHY.HYDROGRAPHY":"Idrografia","HYDROGRAPHY.HYDROGRAPHY.description":"L'idrografia terrestre è ricavata a partire da un assemblaggio dei dati dei database BD TOPO®, BD CARTHAGE®, EuroRegionalMap e EuroGlobalMap.","TRANSPORTNETWORKS.ROADS":"Rete stradale - Reti di trasporto","TRANSPORTNETWORKS.ROADS.description":"La rete stradale è ricavata a partire da un assemblaggio dei dati dei database BD TOPO®, BD CARTO®, EuroRegionalMap e EuroGlobalMap.","TRANSPORTNETWORKS.RAILWAYS":"Rete ferroviaria - Reti di trasporto","TRANSPORTNETWORKS.RAILWAYS.description":"La rete ferroviaria è ricavata a partire da un assemblaggio dei dati dei database BD TOPO®, BD CARTO®, EuroRegionalMap e EuroGlobalMap.","TRANSPORTNETWORKS.RUNWAYS":"Aria di rete - Reti di trasporto","TRANSPORTNETWORKS.RUNWAYS.description":"Le piste degli aeroporti e aerodromi sono ricavate a partire da un assemblaggio dei dati dei database BD TOPO® e BD CARTO®","BUILDINGS.BUILDINGS":"Edifici","BUILDINGS.BUILDINGS.description":"Gli edifici e le zone costruite sono ricavati a partire da un assemblaggio dei dati dei database BD TOPO®, BD CARTO®, EuroRegionalMap e EuroGlobalMap.","UTILITYANDGOVERNMENTALSERVICES.ALL":"Servizi di pubblica utilità e servizi amministrativi","UTILITYANDGOVERNMENTALSERVICES.ALL.description":"Le diverse reti di trasporto dell'energia sono ricavate a partire da un assemblaggio dei dati dei database BD TOPO® e BD CARTO®.","ADMINISTRATIVEUNITS.BOUNDARIES":"Unità amministrative","ADMINISTRATIVEUNITS.BOUNDARIES.description":"Le unitè amministrative della Francia sono ricavate a partire da un assemblaggio dei dati dei database BD TOPO®, BD CARTO®, EuroRegionalMap e EuroBoundaryMap.","LANDCOVER.CORINELANDCOVER":"Copertura del suolo","LANDCOVER.CORINELANDCOVER.description":"CORINE 2006","div.not.found":"${id} non trovato nel documento : verificare l'esistenza reale di '${id}'.","proxy.not.set":"Nessuna configurazione per il proxy : è possibile che l'ottenimento delle informazioni richieste sul contratto fallisca.","cookies.not.enabled":"Cookie sono disabilitati. Per favore, consentire loro.","geoRM.getConfig":"Impossibile di ottenere le informazioni relative alla chiave '${key}' - Verificare la propria connessione.","geoRM.getToken":"Impossibile di ottenere il gettone associato alla chiave '${key}' - Verificare la propria connessione.","geoRM.failed":"Impossibile di ottenere uno token valido relative alla chiave '${key}'","GPX.version":"Versione ${gpxVersion} GPX non supportata","XLS.version":"Versione ${xlsVersion} XLS non supportata per il servizio ${coreService}","Not.conformal.XLS":"${part} non è presente nello XML","olControlMeasurePath.title":"Misura di distanza","olControlMeasurePolygon.title":"Misura di superficie","waiting.measurement":"In attesa di input...","length.measurement":"Lunghezza","area.measurement":"Surfacie","gpControlLayerSwitcher.label":"Strati","gpLayer.metadataURL":"Maggiori informazioni su questo strato...","gpLayer.dataURL":"Accesso al servizio di download","gpControlPanelToggle.closed":"Visualizzare la barra degli attrezzi","gpControlPanelToggle.opened":"Mascherare la barra degli attrezzi","gpControlRemoveLayer.title":"Ritirare lo strato","gpControlLayerOpacity.title":"Regola di trasparenza","gpControlZoomToLayerMaxExtent.title":"Zoom sul campo di applicazione dello strato","gpControlMousePosition.longitude":"Longitudine","gpControlMousePosition.latitude":"Latitudine","gpControlMousePosition.easting":"Ascissa","gpControlMousePosition.northing":"Ordinata","gpControlMousePosition.north":"N","gpControlMousePosition.south":"S","gpControlMousePosition.east":"E","gpControlMousePosition.west":"O","gpControlMousePosition.sexa":"gradi sessagesimali","gpControlMousePosition.deg":"gradi decimali","gpControlMousePosition.gon":"gradi","gpControlMousePosition.rad":"radianti","gpControlMousePosition.km":"chilometri","gpControlMousePosition.m":"metri","gpControlMousePosition.cm":"centimetri","gpControlMousePosition.utmZone":"Zona","gpControlToolBox.label":"Attrezzi","gpControlZoomBar.world":"Mondo","gpControlZoomBar.state":"Stato","gpControlZoomBar.country":"Paese","gpControlZoomBar.town":"Città","gpControlZoomBar.street":"Via","gpControlZoomBar.house":"Casa","gpControlEditingToolbar.drawpoint":"Inserire un punto","gpControlEditingToolbar.drawline":"Disegnare una linea","gpControlEditingToolbar.drawpolygon":"Disegnare un poligono","gpControlEditingToolbar.dragfeature":"Spostare un oggetto","gpControlEditingToolbar.modifyfeature":"Modificare un oggetto","gpControlEditingToolbar.deletefeature":"Distruggere un oggetto","gpControlEditingToolbar.selectfeature":"Selezionare un oggetto","gpControlEditingToolbar.navigation":"Navigare","gpControlAddImageLayer.title":"Aggiungere uno strato immagine...","gpControlAddImageLayer.layerUrl":"URL : ","gpControlAddImageLayer.layerUrl.help":"indirizzo di base del servizio","gpControlAddImageLayer.layerType":"Tipo :","gpControlAddImageLayer.layerType.help":"Scegliere un valore nella lista","gpControlAddImageLayer.layerType.WMS":"Web Map Service","gpControlAddImageLayer.layerType.WMSC":"OSGeO WMS-C","gpControlAddImageLayer.button.add":"Aggiungere","gpControlAddImageLayer.button.cancel":"Cancel","wms.caps.no.compatible.srs":"Non compatibile strato trovato","ogc.caps.unknown.service":"${serviceType} non è un ${expectedType}","gpControlAddVectorLayer.title":"Annullare","gpControlAddVectorLayer.layerName":"Nome :","gpControlAddVectorLayer.layerName.help":"Ad esempio : il mio strato","gpControlAddVectorLayer.layerType":"Tipo :","gpControlAddVectorLayer.layerType.help":"Scegliere un valore nella lista","gpControlAddVectorLayer.layerType.Point":"puntuale","gpControlAddVectorLayer.layerType.LineString":"lineare","gpControlAddVectorLayer.layerType.Polygon":"superficiale","gpControlAddVectorLayer.layerType.KML":"risorsa KML","gpControlAddVectorLayer.layerType.GPX":"risorsa GPX","gpControlAddVectorLayer.layerType.OSM":"risorsa OSM","gpControlAddVectorLayer.layerType.GeoRSS":"risorsa GeoRSS","gpControlAddVectorLayer.layerType.WFS":"risorsa WFS","gpControlAddVectorLayer.layerUrl":"URL : ","gpControlAddVectorLayer.layerUrl.help":"locale o a distanza","gpControlAddVectorLayer.layerFreeHand":"a mano libera ? ","gpControlAddVectorLayer.layerFreeHand.help":"permette il disegno a mano libera","gpControlAddVectorLayer.button.add":"Aggiungere","gpControlAddVectorLayer.button.cancel":"Annullare","wfs.caps.no.feature.found":"Nessun oggetto trovato","wfs.caps.unsupported.version":"WFS versione ${version} non supportata","gpControlLocationUtilityService.geonames.title":"Ricercare una località","gpControlLocationUtilityService.geocode.title":"Ricercare un indirizzo","gpControlLocationUtilityService.reverse.geocode.title":"Ricercare gli indirizzi intorno a un punto","gpControlLocationUtilityServiceGeoNames.title":"Ricercare una località :","gpControlLocationUtilityServiceGeoNames.name":"Località :","gpControlLocationUtilityServiceGeoNames.name.help":"Ad esempio : Saint-Mandé","gpControlLocationUtilityServiceGeoNames.button.cancel":"Annullare","gpControlLocationUtilityServiceGeoNames.button.search":"Ricercare","gpControlLocationUtilityServiceGeocode.title":"Ricercare un indirizzo","gpControlLocationUtilityServiceGeocode.address":"Via :","gpControlLocationUtilityServiceGeocode.address.help":"Ad esempio : 2, avenue Pasteur","gpControlLocationUtilityServiceGeocode.municipality":"Città :","gpControlLocationUtilityServiceGeocode.municipality.help":"Ad esempio : Saint-Mandé","gpControlLocationUtilityServiceGeocode.postalcode":"Codice di avviamento postale : ","gpControlLocationUtilityServiceGeocode.postalcode.help":"Ad esempio : 94165","gpControlLocationUtilityServiceGeocode.name":"Località :","gpControlLocationUtilityServiceGeocode.name.help":"Ad esempio : Saint-Mandé ou 94165","gpControlLocationUtilityServiceGeocode.button.cancel":"Annullare","gpControlLocationUtilityServiceGeocode.button.search":"Ricercare","gpControlLocationUtilityServiceReverse.title":"Ricercare dei luoghi nelle vicinanze","gpControlLocationUtilityServiceReverse.longitude":"Longitudine :","gpControlLocationUtilityServiceReverse.longitude.help":"Ad esempio : dd.mmss in coordinate geografiche","gpControlLocationUtilityServiceReverse.latitude":"Latitudine","gpControlLocationUtilityServiceReverse.latitude.help":"Ad esempio : dd.mmss in coordinate geografiche","gpControlLocationUtilityServiceReverse.button.cancel":"Annullare","gpControlLocationUtilityServiceReverse.button.search":"Ricercare","azimuth.measurement":"Azimuth","gpControlMeasureAzimuth.title":"Misura di azimuth","gpControlMeasureAzimuth.azimuth":"Azimuth","gpControlMeasureAzimuth.azimuth.help":"indica un angolo tra un punto e un piano di riferimento","gpControlMeasureAzimuth.distance":"Lunghezza","gpControlMeasureAzimuth.distance.help":"Lunghezza","OpenLayers.Control.WMSGetFeatureInfo.title":"Identificare gli oggetti","lus.not.match":"Non trovata nessuna corrispondenza","geocoded.address.popup.title":"Indirizzo","geocoded.address.popup.postalCode":"Codice di avviamento postale :","geocoded.address.popup.places":"Località",CountrySubdivision:"Provincia",CountrySecondarySubdivision:"Comune",Municipality:"Città",MunicipalitySubdivision:"Quartiere",TOS:"Termini di servizio","utm.zone":"UTM","*":""};Geoportal.Layer.Grid=OpenLayers.Class(OpenLayers.Layer.Grid,{gridOrigin:null,nativeTileSize:null,nativeResolutions:null,resample:false,initialize:function(c,b,d,a){OpenLayers.Layer.Grid.prototype.initialize.apply(this,arguments);if(!this.gridOrigin){this.gridOrigin=new OpenLayers.LonLat(0,0)}if(!this.nativeTileSize){this.nativeTileSize=new OpenLayers.Size(OpenLayers.Map.TILE_WIDTH,OpenLayers.Map.TILE_HEIGHT)}this.tileSize=new OpenLayers.Size(OpenLayers.Map.TILE_WIDTH)},setMap:function(a){OpenLayers.Layer.Grid.prototype.setMap.apply(this,arguments);this.gridOrigin.transform(this.getNativeProjection(),this.map.getProjection())},destroy:function(){if(this.gridOrigin){this.gridOrigin=null}if(this.nativeTileSize){this.nativeTileSize=null}if(this.nativeResolutions){this.nativeResolutions=null}this.resample=false;OpenLayers.Layer.Grid.prototype.destroy.apply(this,arguments)},clone:function(a){if(a==null){a=new Geoportal.Layer.Grid(this.name,this.url,this.params,this.options)}a=OpenLayers.Layer.HTTPRequest.prototype.clone.apply(this,[a]);if(this.tileSize!=null){a.tileSize=this.tileSize.clone()}if(this.gridOrigin!=null){a.gridOrigin=this.gridOrigin.clone()}if(this.nativeTileSize!=null){a.nativeTileSize=this.nativeTileSize.clone()}if(this.nativeResolutions!=null){a.nativeResolutions=this.nativeResolutions.slice(0)}a.grid=[];return a},initResolutions:function(){OpenLayers.Layer.prototype.initResolutions.apply(this,arguments);if(!(this instanceof Geoportal.Layer.WMSC)){return}var a=null;for(var d=0,c=this.map.getNumLayers();d<c;d++){var b=this.map.layers[d];if(b.isBaseLayer){if(this.getNativeProjection()&&this.getNativeProjection().equals(b.getNativeProjection())){a=b;break}}}if(!a){for(var d=0,c=this.map.getNumLayers();d<c;d++){var b=this.map.layers[d];if(b.isBaseLayer){if(this.getNativeProjection()&&this.getNativeProjection().isCompatibleWith(b.getNativeProjection())){a=b;break}}}}this.maxResolution=a.resolutions[this.minZoomLevel];this.minResolution=a.resolutions[this.maxZoomLevel];this.scales=a.scales.slice(0);this.minScale=this.scales[this.minZoomLevel];this.maxScale=this.scales[this.maxZoomLevel]},moveTo:function(d,a,e){OpenLayers.Layer.HTTPRequest.prototype.moveTo.apply(this,arguments);d=d||this.map.getExtent();if(d!=null){var c=!this.grid.length||a;if(this.resample){c=true}var b=this.getTilesBounds();if(this.singleTile){if(c||(!e&&!b.containsBounds(d))){this.initSingleTile(d)}}else{if(c||!b.containsBounds(d,true)){this.initGriddedTiles(d)}else{this.moveGriddedTiles(d)}}}},calculateGridLayout:function(a,o,e){var k=e*this.tileSize.w;var c=e*this.tileSize.h;var i=a.left-this.gridOrigin.lon;var l=Math.floor(i/k)-this.buffer;var j=i/k-l;var f=-j*this.tileSize.w;var m=this.gridOrigin.lon+l*k;var b=a.top-(this.gridOrigin.lat+c);var h=Math.ceil(b/c)+this.buffer;var n=h-b/c;var d=-n*this.tileSize.h;var g=this.gridOrigin.lat+h*c;return{tilelon:k,tilelat:c,tileoffsetlon:m,tileoffsetlat:g,tileoffsetx:f,tileoffsety:d}},initGriddedTiles:function(E){var k=new OpenLayers.LonLat(1,1);k.transform(this.getNativeProjection(),this.map.getProjection());var L=this.map.getResolution();var b=L;if(this.nativeResolutions){var o=0;for(var M=Math.max(0,this.minZoomLevel),s=Math.min(this.nativeResolutions.length,this.maxZoomLevel+1);M<s;M++){var I=this.nativeResolutions[M]*k.lon/L;if(I>1){I=1/I}if(I>o){o=I;b=this.nativeResolutions[M]}}}this.resample=(b/L*k.lat!=1||b/L*k.lon!=1);this.tileSize.h=this.nativeTileSize.h*b/L*k.lat;this.tileSize.w=this.nativeTileSize.w*b/L*k.lon;var d=this.map.getSize();var e=Math.ceil(d.h/this.tileSize.h)+Math.max(1,2*this.buffer);var z=Math.ceil(d.w/this.tileSize.w)+Math.max(1,2*this.buffer);var c=this.maxExtent;var D=this.calculateGridLayout(E,c,L);var K=D.tileoffsetx;var J=D.tileoffsety;if(!this.resample){K=Math.round(K);J=Math.round(J)}var N=D.tileoffsetlon;var v=D.tileoffsetlat;var w=D.tilelon;var a=D.tilelat;var u=K;var C=N;var m=0;var q=parseInt(this.map.layerContainerDiv.style.left,10);var B=parseInt(this.map.layerContainerDiv.style.top,10);do{var p=this.grid[m++];if(!p){p=[];this.grid.push(p)}N=C;K=u;var O=0;do{var F=new OpenLayers.Bounds(N,v,N+w,v+a);var H=K;H-=q;var G=J;G-=B;var n=Math.round(H);var l=Math.round(G);var h=new OpenLayers.Pixel(n,l);var f=p[O++];var j=Math.round(H+this.tileSize.w)-n;var r=Math.round(G+this.tileSize.h)-l;var g=new OpenLayers.Size(j,r);if(!f){f=this.addTile(F,h,g);this.addTileMonitoringHooks(f);p.push(f)}else{f.moveTo(F,h,false);f.setSize(g)}N+=w;K+=this.tileSize.w}while((N<=E.right+w*this.buffer)||O<z);v-=a;J+=this.tileSize.h}while((v>=E.bottom-a*this.buffer)||m<e);this.removeExcessTiles(m,O);this.spiralTileLoad()},CLASS_NAME:"Geoportal.Layer.Grid"});Geoportal.Layer.WFS=OpenLayers.Class(OpenLayers.Layer.WFS,{CLASS_NAME:"Geoportal.Layer.WFS"});Geoportal.Layer.WMS=OpenLayers.Class(OpenLayers.Layer.WMS,{CLASS_NAME:"Geoportal.Layer.WMS"});Geoportal.Layer.WMSC=OpenLayers.Class(Geoportal.Layer.Grid,{DEFAULT_PARAMS:{service:"WMS",version:"1.1.1",request:"GetMap",styles:"",exceptions:"application/vnd.ogc.se_inimage",format:"image/jpeg"},isBaseLayer:false,initialize:function(d,c,e,b){var a=[];e=OpenLayers.Util.upperCaseObject(e);a.push(d,c,e,b);Geoportal.Layer.Grid.prototype.initialize.apply(this,a);OpenLayers.Util.applyDefaults(this.params,OpenLayers.Util.upperCaseObject(this.DEFAULT_PARAMS));if(this.params.TRANSPARENT&&this.params.TRANSPARENT.toString().toLowerCase()=="true"){if((b==null)||(!b.isBaseLayer)){this.isBaseLayer=false}if(this.params.FORMAT=="image/jpeg"){this.params.FORMAT=OpenLayers.Util.alphaHack()?"image/gif":"image/png"}}},destroy:function(){Geoportal.Layer.Grid.prototype.destroy.apply(this,arguments)},clone:function(a){if(a==null){a=new Geoportal.Layer.WMSC(this.name,this.url,this.params,this.options)}a=Geoportal.Layer.Grid.prototype.clone.apply(this,[a]);return a},getURL:function(a){if(this.gutter){a=this.adjustBoundsByGutter(a)}var b=a.clone();b.transform(this.map.getProjection(),this.getNativeProjection());var c={BBOX:b.toBBOX(),WIDTH:this.nativeTileSize.w,HEIGHT:this.nativeTileSize.h,TILED:true};return decodeURIComponent(this.getFullRequestString(c))},mergeNewParams:function(c){var b=OpenLayers.Util.upperCaseObject(c);var a=[b];Geoportal.Layer.Grid.prototype.mergeNewParams.apply(this,a)},getFullRequestString:function(b){var a=this.getNativeProjection()||this.map.getProjection();this.params.SRS=(a=="none")?null:a;return Geoportal.Layer.Grid.prototype.getFullRequestString.apply(this,arguments)},addTile:function(d,a,c){var b=this.getURL(d);return new Geoportal.Tile.Image(this,a,d,b,c)},getDataExtent:function(){return this.maxExtent},changeBaseLayer:function(a){if(OpenLayers.Layer.prototype.changeBaseLayer.apply(this,arguments)===false){return false}if(!this.isBaseLayer){if(this.getCompatibleProjection(a.layer)!=null){if(this.aggregate==undefined){this.displayInLayerSwitcher=true}if(typeof(this.savedStates[a.layer.id])=="object"){if(this.savedStates[a.layer.id].opacity!=undefined){this.opacity=undefined;this.setOpacity(this.savedStates[a.layer.id].opacity)}this.setVisibility(this.savedStates[a.layer.id].visibility)}else{this.setVisibility(this.getVisibility()&&this.calculateInRange())}return true}if(this.getCompatibleProjection(a.baseLayer)!=null){if(!this.savedStates[a.baseLayer.id]){this.savedStates[a.baseLayer.id]={}}this.savedStates[a.baseLayer.id].visibility=this.getVisibility();this.savedStates[a.baseLayer.id].opacity=this.opacity}if(this.aggregate==undefined){this.displayInLayerSwitcher=false}this.setVisibility(false)}return true},getCompatibleProjection:function(c){var b=OpenLayers.Layer.prototype.getCompatibleProjection.apply(this,arguments);if(b==null){return b}if(c==null){c=this.map.baseLayer;if(c==null){return undefined}}var d=c.getNativeProjection();if(b.isCompatibleWith(d)){var a=this.restrictedExtent||this.maxExtent;if(!a){return b}if(this.map==null){a=a.clone().transform(b,d)}if(c.maxExtent.containsBounds(a,true,true)||a.containsBounds(c.maxExtent,true,true)){return b}}return null},CLASS_NAME:"Geoportal.Layer.WMSC"});Geoportal.Tile.Image=OpenLayers.Class(OpenLayers.Tile.Image,{setSize:function(a){if(this.frame!=null){OpenLayers.Util.modifyDOMElement(this.frame,null,null,a);this.size=a;if(this.imgDiv!=null){OpenLayers.Util.modifyDOMElement(this.imgDiv,null,null,a)}}},resetBackBuffer:function(){this.showTile();if(this.backBufferTile&&(this.isFirstDraw||!this.layer.numLoadingTiles)){this.isFirstDraw=false;var a=this.layer.maxExtent;var b=(a&&this.bounds.intersectsBounds(a,false));if(b){this.backBufferTile.position=this.position;this.backBufferTile.bounds=this.bounds;this.backBufferTile.size=this.size;this.backBufferTile.imageSize=this.size||this.layer.imageSize;this.backBufferTile.imageOffset=this.layer.imageOffset;this.backBufferTile.resolution=this.layer.getResolution();this.backBufferTile.renderTile()}}},positionImage:function(){if(this.layer==null){return}OpenLayers.Util.modifyDOMElement(this.frame,null,this.position,this.size);var a=this.size||this.layer.getImageSize();if(this.layerAlphaHack){OpenLayers.Util.modifyAlphaImageDiv(this.imgDiv,null,null,a,this.url)}else{OpenLayers.Util.modifyDOMElement(this.imgDiv,null,null,a);this.imgDiv.src=this.url}},initImgDiv:function(){var d=this.layer.imageOffset;var b=this.size||this.layer.getImageSize();if(this.layerAlphaHack){this.imgDiv=OpenLayers.Util.createAlphaImageDiv(null,d,b,null,"relative",null,null,null,true)}else{this.imgDiv=OpenLayers.Util.createImage(null,d,b,null,"relative",null,null,true)}this.imgDiv.className="olTileImage";this.frame.style.zIndex=this.isBackBuffer?0:1;this.frame.appendChild(this.imgDiv);this.layer.div.appendChild(this.frame);if(this.layer.opacity!=null){OpenLayers.Util.modifyDOMElement(this.imgDiv,null,null,null,null,null,null,this.layer.opacity)}this.imgDiv.map=this.layer.map;this.imgDiv.layer=this.layer;var c=function(){if(this.isLoading){this.isLoading=false;this.events.triggerEvent("loadend")}};if(this.layerAlphaHack){OpenLayers.Event.observe(this.imgDiv.childNodes[0],"load",OpenLayers.Function.bind(c,this))}else{OpenLayers.Event.observe(this.imgDiv,"load",OpenLayers.Function.bind(c,this))}var a=function(){if(this.imgDiv._attempts>OpenLayers.IMAGE_RELOAD_ATTEMPTS){c.call(this)}};OpenLayers.Event.observe(this.imgDiv,"error",OpenLayers.Function.bind(a,this))},CLASS_NAME:"Geoportal.Tile.Image"});
